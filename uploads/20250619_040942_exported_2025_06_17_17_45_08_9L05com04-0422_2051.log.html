<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>增強檔案檢視器 - 9L05com04-0422_2051.log - 完整匯出</title>
    
    <!-- 匯出時間標記 -->
    <meta name="exported-date" content="2025-06-17T09:45:08.731Z">
    <meta name="exported-from" content="http://172.22.95.12:5000/file_viewer?path=%2Fhome%2Fvince_lin%2FRust_Project%2F9L05com04-0422_2051.log#comments-section">
    
    <!-- Bootstrap CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <!-- Animate.css -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" rel="stylesheet">
    
    <!-- 內聯所有自定義樣式 -->
    <style type="text/css">

/* === /static/css/file_viewer.css === */
/* 檔案標題區域按鈕組 */
.file-header .btn-group-aligned {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    height: 38px;
}

/* 跳轉點和書籤管理浮動按鈕 */
.marks-fab {
    position: fixed;
    bottom: 170px; /* 在搜尋結果按鈕上方 */
    right: 20px;
    width: 56px;
    height: 56px;
    border-radius: 50%;
    background: var(--success-gradient);
    color: white;
    border: none;
    display: none;
    align-items: center;
    justify-content: center;
    font-size: 20px;
    box-shadow: 0 4px 12px rgba(40, 167, 69, 0.3);
    cursor: pointer;
    z-index: 8998;
    transition: all 0.3s ease;
    animation: fadeInScale 0.3s ease-out;
}

.marks-fab.show {
    display: flex;
}

.marks-fab:hover {
    transform: scale(1.1);
    box-shadow: 0 6px 20px rgba(40, 167, 69, 0.4);
}

.marks-fab .badge {
    position: absolute;
    top: -5px;
    right: -5px;
    background: var(--warning-gradient);
    color: white;
    border-radius: 12px;
    padding: 2px 8px;
    font-size: 12px;
    font-weight: 600;
    min-width: 24px;
    text-align: center;
    box-shadow: 0 2px 6px rgba(0,0,0,0.2);
}

/* 快速跳轉按鈕 */
.quick-nav-buttons {
    display: flex;
    gap: 0.5rem;
    margin-left: 1rem;
}

.btn-quick-nav {
    background: white;
    color: #28a745;
    border: 2px solid #28a745;
    border-radius: 20px;
    padding: 6px 16px;
    font-size: 0.85rem;
    font-weight: 500;
    transition: all 0.3s ease;
    display: inline-flex;
    align-items: center;
    gap: 6px;
}

.btn-quick-nav:hover {
    background: var(--success-gradient);
    color: white;
    border-color: transparent;
    transform: translateY(-1px);
}

.btn-quick-nav.warning {
    color: #ff9800;
    border-color: #ff9800;
}

.btn-quick-nav.warning:hover {
    background: var(--warning-gradient);
}

.file-header .btn-group-aligned > * {
    margin: 0 !important;
}/* Enhanced File Viewer CSS v6 */

:root {
    --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    --success-gradient: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
    --danger-gradient: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
    --warning-gradient: linear-gradient(135deg, #ff9800 0%, #f57c00 100%);
    --info-gradient: linear-gradient(135deg, #00c6ff 0%, #0072ff 100%);
    --line-highlight: rgba(255, 193, 7, 0.3);
    --line-target: rgba(220, 53, 69, 0.2);
    --search-highlight: rgba(255, 235, 59, 0.8);
    --bookmark-color: #28a745;
    --shadow-light: 0 4px 6px rgba(0,0,0,0.07);
    --shadow-medium: 0 8px 25px rgba(0,0,0,0.12);
    --shadow-heavy: 0 15px 35px rgba(0,0,0,0.1);
    --line-hover: rgba(52, 152, 219, 0.08);
}

body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
    font-size: 14px;
    margin: 0;
    padding-bottom: 50px; /* 減少底部 padding 避免與版權重疊 */
    position: relative;
    min-height: 100vh;
}

.file-header {
    background: var(--primary-gradient);
    color: white;
    padding: 1.5rem 0;
    box-shadow: var(--shadow-medium);
    position: relative;
    overflow: hidden;
}

.file-header::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grid" width="10" height="10" patternUnits="userSpaceOnUse"><path d="M 10 0 L 0 0 0 10" fill="none" stroke="rgba(255,255,255,0.1)" stroke-width="0.5"/></pattern></defs><rect width="100" height="100" fill="url('http://172.22.95.12:5000/static/css/%23grid')"/></svg>');
    opacity: 0.3;
}

.file-header .container-fluid {
    position: relative;
    z-index: 1;
}

/* 檔案資訊設計 - 圖標顏色豐富化 */
.file-info-badge {
    background: rgba(255, 255, 255, 0.15);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.3);
    padding: 10px 20px; /* 調整 padding 以對齊 */
    border-radius: 50px;
    display: inline-flex;
    align-items: center;
    gap: 20px;
    font-size: 0.9rem;
    margin-top: 10px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    height: 38px; /* 固定高度與按鈕對齊 */
}

.file-info-badge .info-item {
    display: flex;
    align-items: center;
    gap: 8px;
}

.file-info-badge .info-item i {
    font-size: 0.5rem;
    opacity: 0.9;
}

/* 豐富的圖標顏色 */
.file-info-badge .info-item:nth-child(1) i { color: #ffd93d; }
.file-info-badge .info-item:nth-child(3) i { color: #6bcf7f; }
.file-info-badge .info-item:nth-child(5) i { color: #ff6b9d; }
.file-info-badge .info-item:nth-child(7) i { color: #66d9ef; }

.file-info-badge .divider {
    width: 1px;
    height: 20px;
    background: rgba(255, 255, 255, 0.4);
}

.file-viewer {
    background: white;
    border-radius: 20px;
    box-shadow: var(--shadow-medium);
    overflow: visible; /* 改為 visible 讓下拉選單可以超出 */
    margin-top: 1.5rem;
    position: relative;
    margin-bottom: 60px; /* 確保不會被版權聲明擋住 */
}

/* 工具列調整 */
.toolbar {
    background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
    padding: 1rem;
    border-bottom: 2px solid #dee2e6;
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 0.75rem;
    position: relative;
    z-index: 1000; /* 確保工具列有適當的 z-index */
    overflow: visible; /* 確保下拉選單可以顯示 */
}

.toolbar-group {
    display: flex;
    gap: 0.75rem;
    align-items: center;
}

/* 搜尋框設計 - 加長且更美觀 */
.search-container {
    position: relative;
    min-width: 600px; /* 從 500px 增加到 600px */
    max-width: 700px; /* 從 600px 增加到 700px */
}

.search-input {
    padding: 12px 160px 12px 24px; /* 增加 padding */
    border-radius: 50px;
    border: 2px solid #e0e7ff; /* 淺色邊框 */
    transition: all 0.3s ease;
    font-size: 1rem; /* 稍微增大字體 */
    background: #f8faff; /* 淺藍色背景 */
    backdrop-filter: blur(10px);
    box-shadow: 0 2px 10px rgba(102, 126, 234, 0.08);
}

.search-input:focus {
    border-color: #667eea;
    box-shadow: 0 0 0 0.2rem rgba(102, 126, 234, 0.15), 0 4px 15px rgba(102, 126, 234, 0.1);
    background: white;
    transform: translateY(-1px);
}

.search-input.regex-mode {
    background: #fff9e6; /* Regex 模式時的淺黃色背景 */
    border-color: #ffd93d;
}

.search-input.regex-mode:focus {
    border-color: #ffc107;
    box-shadow: 0 0 0 0.2rem rgba(255, 193, 7, 0.25);
}

.search-controls {
    position: absolute;
    right: 8px;
    top: 50%;
    transform: translateY(-50%);
    display: flex;
    align-items: center;
    gap: 5px;
}

.regex-toggle {
    background: white;
    border: 1px solid #dee2e6;
    border-radius: 20px;
    padding: 6px 14px;
    font-size: 0.85rem;
    cursor: pointer;
    transition: all 0.3s ease;
    color: #6c757d;
}

.regex-toggle.active {
    background: #667eea;
    color: white;
    border-color: #667eea;
    box-shadow: 0 2px 8px rgba(102, 126, 234, 0.3);
}

.search-info {
    background: white;
    padding: 5px 14px;
    border-radius: 20px;
    border: 1px solid #dee2e6;
    font-size: 0.85rem;
    color: #6c757d;
    font-weight: 600;
}

/* 返回按鈕設計改進 */
.btn-back {
    background: white;
    color: #667eea;
    border: 2px solid rgba(255, 255, 255, 0.5);
    border-radius: 50px;
    padding: 8px 20px;
    font-weight: 600;
    transition: all 0.3s ease;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    height: 38px;
    display: inline-flex;
    align-items: center;
}

.btn-back:hover {
    background: rgba(255, 255, 255, 0.95);
    border-color: white;
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(0,0,0,0.15);
    color: #667eea;
}

/* 前進按鈕設計 */
.btn-forward {
    background: white;
    color: #667eea;
    border: 2px solid rgba(255, 255, 255, 0.5);
    border-radius: 50px;
    padding: 8px 20px;
    font-weight: 600;
    transition: all 0.3s ease;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    height: 38px;
    display: inline-flex;
    align-items: center;
    margin-left: 8px;
}

.btn-forward:hover {
    background: rgba(255, 255, 255, 0.95);
    border-color: white;
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(0,0,0,0.15);
    color: #667eea;
}

.btn-modern {
    border-radius: 25px;
    padding: 8px 20px;
    font-weight: 500;
    transition: all 0.3s ease;
    border: 0px solid transparent;
    height: 38px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
}

.btn-modern:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-light);
}

.btn-gradient-primary {
	border: 0px solid transparent;
    background: var(--primary-gradient);
    color: white;
    border-color: transparent;
}

.btn-gradient-primary:hover {
    background: linear-gradient(135deg, #764ba2 0%, #667eea 100%);
    color: white;
}

.btn-gradient-success {
    background: var(--success-gradient);
    color: white;
}

.btn-gradient-warning {
    background: var(--warning-gradient);
    color: white;
}

/* 統一的按鈕樣式 */
.btn-outline-info {
    background: white;
    color: #17a2b8;
    border: 0px solid #17a2b8;
}

.btn-outline-info:hover {
    background: var(--info-gradient);
    color: white;
    border-color: transparent;
}

.btn-outline-warning {
    background: white;
    color: #ff9800;
    border: 2px solid #ff9800;
}

.btn-outline-warning:hover {
    background: var(--warning-gradient);
    color: white;
    border-color: transparent;
}

.btn-outline-secondary {
    background: white;
    color: #6c757d;
    border: 0px solid #6c757d;
}

.btn-outline-secondary:hover {
    background: linear-gradient(135deg, #6c757d 0%, #495057 100%);
    color: white;
    border-color: transparent;
}

/* 跳轉模式啟用時的特殊樣式 */
.btn-gradient-warning.jump-mode-active {
    animation: jumpModeGlow 1.5s ease-in-out infinite;
}

@keyframes jumpModeGlow {
    0%, 100% {
        box-shadow: 0 5px 15px rgba(255, 152, 0, 0.3);
    }
    50% {
        box-shadow: 0 5px 25px rgba(255, 152, 0, 0.5);
    }
}

.btn-export {
    background: linear-gradient(135deg, #00d2ff 0%, #3a7bd5 100%);
    color: white;
    border: none;
    padding: 8px 20px;
    border-radius: 50px;
    font-weight: 500;
    transition: all 0.3s ease;
    display: inline-flex;
    align-items: center;
    gap: 8px;
    box-shadow: 0 5px 15px rgba(58, 123, 213, 0.3);
    cursor: pointer;
    height: 38px;
}

.btn-export:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(58, 123, 213, 0.4);
    color: white;
}

.btn-export i {
    font-size: 1.1rem;
}

/* 匯出 HTML 按鈕 */
.btn-export-html {
    background: linear-gradient(135deg, #e91e63 0%, #f06292 100%);
    color: white;
    border: none;
    padding: 8px 20px;
    border-radius: 50px;
    font-weight: 500;
    transition: all 0.3s ease;
    display: inline-flex;
    align-items: center;
    gap: 8px;
    box-shadow: 0 5px 15px rgba(233, 30, 99, 0.3);
    margin-left: 8px;
    height: 38px;
}

.btn-export-html:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(233, 30, 99, 0.4);
    color: white;
}

/* 高亮顏色快速跳轉區 */
.highlight-jumper {
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.2);
    padding: 8px 16px;
    border-radius: 30px;
    margin-top: 10px;
    display: none;
    align-items: center;
    gap: 12px;
}

.highlight-jumper.show {
    display: inline-flex;
}

.highlight-label {
    font-size: 0.85rem;
    font-weight: 600;
    opacity: 0.9;
}

.highlight-color-btn {
    width: 28px;
    height: 28px;
    border-radius: 50%;
    border: 2px solid rgba(255, 255, 255, 0.5);
    cursor: pointer;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
}

.highlight-color-btn:hover {
    transform: scale(1.2);
    box-shadow: 0 4px 12px rgba(0,0,0,0.2);
}

.highlight-color-btn.active {
    border-color: white;
    box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.3);
}

/* 高亮顏色定義 */
.highlight-color-btn.color-1 { background: #e91e63; }
.highlight-color-btn.color-2 { background: #4caf50; }
.highlight-color-btn.color-3 { background: #2196f3; }
.highlight-color-btn.color-4 { background: #ff9800; }
.highlight-color-btn.color-5 { background: #9c27b0; }
.highlight-color-btn.color-6 { background: #ffeb3b; }
.highlight-color-btn.color-7 { background: #00bcd4; }
.highlight-color-btn.color-8 { background: #cddc39; }
.highlight-color-btn.color-9 { background: #8bc34a; }
.highlight-color-btn.color-10 { background: #ff5722; }

.line-container {
    max-height: calc(100vh - 350px); /* 調整高度避免被版權聲明擋住 */
    overflow-y: auto;
    font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
    font-size: 13px;
    line-height: 1.5;
    background: #fafafa;
    position: relative;
    scroll-behavior: smooth;
    z-index: 1; /* 低於工具列的 z-index */
    border-radius: 0 0 20px 20px; /* 保持底部圓角 */
}

.code-line {
    display: flex;
    border-bottom: 1px solid #eee;
    transition: all 0.2s ease;
    position: relative;
    min-height: 22px;
}

/* 滑鼠hover效果 */
.code-line:hover {
    background: rgba(255, 255, 0, 0.1); /* 淡黃色背景 */
    box-shadow: inset 3px 0 0 rgba(255, 193, 7, 0.5);
}

.line-number {
    background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
    border-right: 3px solid #dee2e6;
    padding: 6px 12px;
    text-align: right;
    min-width: 90px;
    color: #6c757d;
    font-weight: 600;
    user-select: none;
    cursor: pointer;
    text-decoration: none;
    transition: all 0.3s ease;
    position: relative;
    display: flex;
    align-items: center;
    justify-content: flex-end;
}

.line-number:hover {
    background: var(--primary-gradient);
    color: white;
    text-decoration: none;
    transform: scale(1.02);
}

.line-number.bookmark {
    background: var(--bookmark-color) !important;
    color: white !important;
    font-weight: bold;
    box-shadow: var(--shadow-light);
}

.line-number.bookmark::before {
    content: '📌';
    position: absolute;
    left: 5px;
    top: 50%;
    transform: translateY(-50%);
    font-size: 10px;
}

.line-number.jump-point {
    background: var(--warning-gradient) !important;
    color: white !important;
    font-weight: bold;
}

.line-number.jump-point::after {
    content: '🎯';
    position: absolute;
    left: 29px;
    top: 50%;
    transform: translateY(-50%);
    font-size: 10px;
}

.line-content {
    flex: 1;
    padding: 6px 15px;
    background: white;
    white-space: pre-wrap;
    word-break: break-all;
    overflow-wrap: break-word;
    position: relative;
}

.line-content:hover {
    flex: 1;
    padding: 6px 15px;
    background: #FFFFCD;
    white-space: pre-wrap;
    word-break: break-all;
    overflow-wrap: break-word;
    position: relative;
}

.line-target {
    background: var(--line-target) !important;
    border-left: 4px solid #dc3545;
    animation: targetPulse 2s ease-in-out;
}

.line-target .line-number {
    background: var(--danger-gradient);
    color: white;
    font-weight: bold;
}

.line-target .line-content {
    background: var(--line-target);
    font-weight: 500;
}

@keyframes targetPulse {
    0%, 100% { background: var(--line-target); }
    50% { background: rgba(220, 53, 69, 0.4); }
}

.search-highlight {
    background: var(--search-highlight) !important;
    color: #000 !important;
    border-radius: 3px;
    padding: 1px 3px;
    font-weight: bold;
    box-shadow: 0 1px 3px rgba(0,0,0,0.2);
    animation: highlightGlow 1s ease-in-out;
}

.search-highlight.current {
    background: #ff5722 !important;
    color: white !important;
    animation: currentHighlight 1s ease-in-out infinite alternate;
}

@keyframes highlightGlow {
    0% { box-shadow: 0 1px 3px rgba(0,0,0,0.2); }
    50% { box-shadow: 0 0 10px rgba(255, 235, 59, 0.8); }
    100% { box-shadow: 0 1px 3px rgba(0,0,0,0.2); }
}

@keyframes currentHighlight {
    0% { transform: scale(1); }
    100% { transform: scale(1.1); }
}

/* 右鍵選單highlight顏色 */
.highlight-color-1 { background: rgba(255, 182, 193, 0.7) !important; border-left: 3px solid #e91e63; }
.highlight-color-2 { background: rgba(144, 238, 144, 0.7) !important; border-left: 3px solid #4caf50; }
.highlight-color-3 { background: rgba(173, 216, 230, 0.7) !important; border-left: 3px solid #2196f3; }
.highlight-color-4 { background: rgba(255, 218, 185, 0.7) !important; border-left: 3px solid #ff9800; }
.highlight-color-5 { background: rgba(221, 160, 221, 0.7) !important; border-left: 3px solid #9c27b0; }
.highlight-color-6 { background: rgba(255, 255, 224, 0.7) !important; border-left: 3px solid #ffeb3b; }
.highlight-color-7 { background: rgba(176, 224, 230, 0.7) !important; border-left: 3px solid #00bcd4; }
.highlight-color-8 { background: rgba(255, 250, 205, 0.7) !important; border-left: 3px solid #cddc39; }
.highlight-color-9 { background: rgba(152, 251, 152, 0.7) !important; border-left: 3px solid #8bc34a; }
.highlight-color-10 { background: rgba(255, 160, 122, 0.7) !important; border-left: 3px solid #ff5722; }

.status-bar {
    background: linear-gradient(135deg, #343a40 0%, #495057 100%);
    color: white;
    padding: 0.75rem 1rem;
    font-size: 0.85rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    position: sticky;
    bottom: 0;
    z-index: 100;
    border-radius: 0 0 20px 20px; /* 添加底部圓角 */
}

.status-item {
    margin-right: 1.5rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.status-item i {
    color: #ffc107;
}

.context-menu {
    position: fixed;
    background: white;
    border: none;
    border-radius: 12px;
    box-shadow: var(--shadow-heavy);
    padding: 0.5rem 0;
    z-index: 10000;
    min-width: 220px;
    backdrop-filter: blur(10px);
    animation: contextMenuSlide 0.2s ease-out;
}

@keyframes contextMenuSlide {
    0% { opacity: 0; transform: translateY(-10px) scale(0.95); }
    100% { opacity: 1; transform: translateY(0) scale(1); }
}

.context-menu-item {
    padding: 0.75rem 1rem;
    cursor: pointer;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    gap: 0.75rem;
    font-weight: 500;
}

.context-menu-item:hover {
    background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
    color: #667eea;
}

.context-menu-item.disabled {
    color: #6c757d;
    cursor: not-allowed;
    opacity: 0.6;
}

.context-menu-separator {
    height: 1px;
    background: linear-gradient(90deg, transparent, #dee2e6, transparent);
    margin: 0.5rem 0;
}

.color-preview {
    width: 16px;
    height: 16px;
    border-radius: 3px;
    border: 1px solid #dee2e6;
}

/* 範圍選擇器設計改進 */
.range-selector {
    background: white;
    border: none;
    border-radius: 25px;
    padding: 2rem;
    margin: 1.5rem;
    box-shadow: 0 20px 50px rgba(102, 126, 234, 0.2);
    position: relative;
    overflow: visible; /* 改為 visible 讓下拉選單可以顯示 */
}

.range-selector::before {
    content: '';
    position: absolute;
    top: -3px;
    left: -3px;
    right: -3px;
    bottom: -3px;
    background: var(--primary-gradient);
    border-radius: 25px;
    z-index: -1;
    opacity: 0.8;
}

.range-selector::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: white;
    border-radius: 22px;
    z-index: -1;
}

.range-selector h6 {
    color: #667eea;
    font-weight: 700;
    margin-bottom: 2rem;
    font-size: 1.2rem;
    display: flex;
    align-items: center;
    gap: 10px;
}

.range-selector h6 i {
    font-size: 1.4rem;
    background: var(--primary-gradient);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}

.range-selector .form-control {
    border-radius: 20px;
    border: 2px solid #e9ecef;
    transition: all 0.3s ease;
    padding: 14px 24px;
    font-size: 1rem;
    font-weight: 500;
    background: #f8f9fa;
}

.range-selector .form-control:focus {
    border-color: #667eea;
    box-shadow: 0 0 0 0.2rem rgba(102, 126, 234, 0.25);
    background: white;
    transform: translateY(-1px);
}

.range-selector .form-label {
    font-weight: 600;
    color: #495057;
    margin-bottom: 0.75rem;
    font-size: 0.95rem;
    display: flex;
    align-items: center;
    gap: 8px;
}

.range-selector .form-label i {
    color: #667eea;
    font-size: 1rem;
}

.range-selector .btn {
    padding: 12px 28px;
    border-radius: 25px;
    font-weight: 600;
    transition: all 0.3s ease;
    height: 45px;
}

/* 輸入框圖標 */
.range-input-group {
    position: relative;
}

.range-input-group i {
    position: absolute;
    right: 20px;
    top: 50%;
    transform: translateY(-50%);
    color: #667eea;
    font-size: 1.2rem;
    pointer-events: none;
}

/* 美化數字輸入 */
input[type="number"] {
    -moz-appearance: textfield; /* Firefox */
    appearance: textfield;
}

input[type="number"]::-webkit-inner-spin-button,
input[type="number"]::-webkit-outer-spin-button {
    -webkit-appearance: none;
    margin: 0;
}

/* 美化下拉選擇元件 */
select.form-control, .form-select {
    border-radius: 20px;
    border: 2px solid #e9ecef;
    transition: all 0.3s ease;
    padding: 14px 24px;
    font-size: 1rem;
    font-weight: 500;
    background: #f8f9fa;
    cursor: pointer;
    appearance: none;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23667eea'%3E%3Cpath d='M7 10l5 5 5-5z'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 15px center;
    background-size: 20px;
    padding-right: 45px;
}

select.form-control:focus, .form-select:focus {
    border-color: #667eea;
    box-shadow: 0 0 0 0.2rem rgba(102, 126, 234, 0.25);
    background-color: white;
    transform: translateY(-1px);
}

select.form-control:hover, .form-select:hover {
    background-color: #ffffff;
    border-color: #b8c5f8;
}

/* 自定義下拉選項樣式（部分瀏覽器支援） */
option {
    padding: 10px;
    font-weight: 500;
}

option:hover {
    background-color: #667eea;
    color: white;
}

/* 載入動畫 */
.loading-overlay {
    position: absolute;
    left: 0;
    right: 0;
    height: 100px;
    background: linear-gradient(to bottom, rgba(255,255,255,0.98), rgba(255,255,255,0.9));
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    z-index: 1000;
    backdrop-filter: blur(8px);
    box-shadow: 0 5px 20px rgba(0,0,0,0.1);
}

.loading-overlay.top {
    top: 0;
}

.loading-overlay.bottom {
    bottom: 0;
}

.loading-spinner {
    width: 45px;
    height: 45px;
    border: 4px solid #f3f3f3;
    border-top: 4px solid #667eea;
    border-radius: 50%;
    animation: spin 1s linear infinite;
}

.loading-text {
    margin-top: 12px;
    font-size: 0.9rem;
    color: #667eea;
    font-weight: 600;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* 跳轉提示 */
.jump-navigation {
    position: fixed;
    bottom: 100px;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(255, 152, 0, 0.95);
    color: white;
    padding: 12px 24px;
    border-radius: 50px;
    box-shadow: 0 5px 20px rgba(255, 152, 0, 0.3);
    font-size: 0.9rem;
    z-index: 999;
    display: none;
    animation: slideInUp 0.3s ease-out;
    backdrop-filter: blur(10px);
}

@keyframes slideInUp {
    0% { transform: translate(-50%, 100%); opacity: 0; }
    100% { transform: translate(-50%, 0); opacity: 1; }
}

@keyframes slideOutDown {
    0% { transform: translate(-50%, 0); opacity: 1; }
    100% { transform: translate(-50%, 100%); opacity: 0; }
}

/* 右下角提示樣式 */
.toast-container {
    position: fixed;
    bottom: 60px; /* 調整位置避免被版權聲明擋住 */
    right: 30px;
    z-index: 9999;
    display: flex;
    flex-direction: column-reverse;
    gap: 10px;
    max-width: 400px;
}

.custom-toast {
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(20px);
    border-radius: 16px;
    padding: 16px 20px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.15);
    border: 1px solid rgba(255,255,255,0.3);
    display: flex;
    align-items: center;
    gap: 12px;
    animation: slideInRight 0.3s ease-out;
    transition: all 0.3s ease;
}

@keyframes slideInRight {
    0% { transform: translateX(100%); opacity: 0; }
    100% { transform: translateX(0); opacity: 1; }
}

@keyframes slideOutRight {
    0% { transform: translateX(0); opacity: 1; }
    100% { transform: translateX(100%); opacity: 0; }
}

.custom-toast.hiding {
    animation: slideOutRight 0.3s ease-out;
}

.custom-toast .toast-icon {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 16px;
    flex-shrink: 0;
}

.custom-toast.success .toast-icon {
    background: var(--success-gradient);
    color: white;
}

.custom-toast.info .toast-icon {
    background: var(--primary-gradient);
    color: white;
}

.custom-toast.warning .toast-icon {
    background: var(--warning-gradient);
    color: white;
}

.custom-toast.danger .toast-icon {
    background: var(--danger-gradient);
    color: white;
}

.custom-toast .toast-message {
    flex: 1;
    font-size: 0.95rem;
    color: #2d3748;
    font-weight: 500;
}

.custom-toast .toast-close {
    width: 24px;
    height: 24px;
    border-radius: 50%;
    background: rgba(0,0,0,0.05);
    border: none;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.3s ease;
    flex-shrink: 0;
}

.custom-toast .toast-close:hover {
    background: rgba(0,0,0,0.1);
    transform: scale(1.1);
}

.copyright-footer {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
    color: white;
    text-align: center;
    padding: 10px 0;
    font-size: 0.8rem;
    z-index: 99; /* 降低 z-index 避免擋住其他元素 */
}

.copyright-footer i {
    color: #e74c3c;
    margin: 0 5px;
}

/* 響應式調整 */
@media (max-width: 768px) {
    .toolbar {
        flex-direction: column;
        align-items: stretch;
        gap: 1rem;
    }
    
    .toolbar-group {
        justify-content: center;
        flex-wrap: wrap;
    }
    
    .search-container {
        min-width: 100%;
    }
    
    .line-number {
        min-width: 60px;
        font-size: 12px;
    }
    
    .file-header {
        padding: 1rem 0;
    }
    
    .file-header .display-6 {
        font-size: 1.5rem;
    }
    
    .file-info-badge {
        flex-wrap: wrap;
        gap: 10px;
        font-size: 0.8rem;
    }
    
    .file-info-badge .divider {
        display: none;
    }
    
    .export-group {
        flex-direction: column;
        width: 100%;
    }
    
    .btn-export, .btn-export-html {
        width: 100%;
        justify-content: center;
        margin: 5px 0;
    }
    
    .line-container {
        max-height: calc(100vh - 400px);
    }
}

/* 滾動條美化 */
.line-container::-webkit-scrollbar {
    width: 12px;
}

.line-container::-webkit-scrollbar-track {
    background: #f1f1f1;
    border-radius: 6px;
}

.line-container::-webkit-scrollbar-thumb {
    background: var(--primary-gradient);
    border-radius: 6px;
}

.line-container::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(135deg, #764ba2 0%, #667eea 100%);
}

/* 新增樣式 */

/* 載入新行動畫效果 */
@keyframes newLineHighlight {
    0% { background-color: rgba(255, 152, 0, 0.3); }
    100% { background-color: transparent; }
}

.new-line-highlight {
    animation: newLineHighlight 0.5s ease-out;
}

/* 搜尋結果面板 */
.search-results-panel {
    position: fixed;
    right: 50px;  /* 從右邊距離 50px */
    top: 50%;
    transform: translateY(-50%);
    width: 400px;
    max-width: calc(100vw - 100px);
    max-height: 80vh;
    background: white;
    border-radius: 20px;  /* 全圓角 */
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15),
                0 0 0 1px rgba(0, 0, 0, 0.05);
    z-index: 9000;
    display: flex;
    flex-direction: column;
    opacity: 0;
    visibility: hidden;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.search-results-panel.show {
    opacity: 1;
    visibility: visible;
}

/* 搜尋結果浮動按鈕 */
.search-results-fab {
    position: fixed;
    bottom: 100px;
    right: 20px;
    width: 56px;
    height: 56px;
    border-radius: 50%;
    background: var(--primary-gradient);
    color: white;
    border: none;
    display: none;
    align-items: center;
    justify-content: center;
    font-size: 20px;
    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
    cursor: pointer;
    z-index: 8999;
    transition: all 0.3s ease;
    animation: fadeInScale 0.3s ease-out;
}

@keyframes fadeInScale {
    0% {
        opacity: 0;
        transform: scale(0.8);
    }
    100% {
        opacity: 1;
        transform: scale(1);
    }
}

.search-results-fab.show {
    display: flex;
}

.search-results-fab:hover {
    transform: scale(1.1);
    box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
}

.search-results-fab .badge {
    position: absolute;
    top: -5px;
    right: -5px;
    background: var(--danger-gradient);
    color: white;
    border-radius: 12px;
    padding: 2px 8px;
    font-size: 12px;
    font-weight: 600;
    min-width: 24px;
    text-align: center;
    box-shadow: 0 2px 6px rgba(0,0,0,0.2);
}

/* 搜尋結果浮動按鈕脈動效果 */
.search-results-fab.pulse {
    animation: pulse 2s infinite;
}

@keyframes pulse {
    0% {
        box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
    }
    50% {
        box-shadow: 0 4px 20px rgba(102, 126, 234, 0.6);
    }
    100% {
        box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
    }
}

.search-results-header {
    background: var(--primary-gradient);
    color: white;
    padding: 1rem 1.5rem;
    border-radius: 20px 20px 0 0;  /* 上圓角 */
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.search-results-header h5 {
    margin: 0;
    font-size: 1.1rem;
}

.search-results-close {
    background: rgba(255, 255, 255, 0.2);
    border: none;
    color: white;
    width: 30px;
    height: 30px;
    border-radius: 50%;
    cursor: pointer;
    transition: all 0.3s ease;
}

.search-results-close:hover {
    background: rgba(255, 255, 255, 0.3);
    transform: scale(1.1);
}

.search-results-body {
    flex: 1;
    overflow-y: auto;
    padding: 1rem;
}

.search-result-item {
    border: 1px solid #e9ecef;
    border-radius: 10px;
    margin-bottom: 10px;
    cursor: pointer;
    transition: all 0.3s ease;
    overflow: hidden;
}

.search-result-item:hover {
    border-color: #667eea;
    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.15);
    transform: translateY(-2px);
}

.search-result-item.active {
    border-color: #667eea;
    background: rgba(102, 126, 234, 0.05);
}

.search-result-line {
    display: flex;
    font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
    font-size: 13px;
}

.search-result-line-number {
    background: #f8f9fa;
    padding: 8px 12px;
    min-width: 80px;
    text-align: right;
    color: #6c757d;
    font-weight: 600;
    border-right: 2px solid #e9ecef;
}

.search-result-line-content {
    flex: 1;
    padding: 8px 12px;
    white-space: pre-wrap;
    word-break: break-all;
}

.search-result-line-content .search-match {
    background: var(--search-highlight);
    font-weight: bold;
    padding: 1px 3px;
    border-radius: 3px;
}

.search-results-footer {
    padding: 1rem;
    border-top: 1px solid #e9ecef;
    text-align: center;
}

.btn-scroll-top {
    background: var(--primary-gradient);
    color: white;
    border: none;
    padding: 8px 20px;
    border-radius: 20px;
    font-size: 0.9rem;
    cursor: pointer;
    transition: all 0.3s ease;
}

.btn-scroll-top:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
}

/* 設備切換按鈕 */
.device-switcher {
    position: fixed;
    top: 10px;
    right: 10px;
    z-index: 10000;
    background: white;
    border-radius: 50px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    padding: 5px;
    display: flex;
    gap: 5px;
}

.device-btn {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    border: none;
    background: transparent;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 18px;
}

.device-btn:hover {
    background: #f8f9fa;
}

.device-btn.active {
    background: var(--primary-gradient);
    color: white;
}

/* 狀態列額外資訊 */
.status-item.hover-info {
    color: #ffc107;
    font-weight: 600;
}

.status-item.target-info {
    color: #dc3545;
    font-weight: 600;
}

/* 響應式調整 - 平板和手機 */
@media (max-width: 768px) {
    .search-container {
        min-width: 100%;
        max-width: 100%;
    }
    
    .search-results-panel {
        right: 20px;
        left: 20px;
        width: auto;
        max-width: none;
    }
    
    .search-results-panel.show {
        right: 0;
    }
    
    .device-switcher {
        top: 5px;
        right: 5px;
    }
}
/* === /static/css/file_viewer_enhanced.css === */
/* Enhanced File Viewer 樣式修復 */

/* 美化搜尋框 */
.search-input {
    padding: 12px 160px 12px 24px;
    border-radius: 50px;
    border: 2px solid #e8edf7;
    transition: all 0.3s ease;
    font-size: 1rem;
    background: #f7faff;
    backdrop-filter: blur(10px);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
}

.search-input:hover {
    border-color: #d0daf0;
    background: #ffffff;
    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.08);
}

.search-input:focus {
    border-color: #667eea;
    box-shadow: 0 0 0 0.2rem rgba(102, 126, 234, 0.15), 0 4px 15px rgba(102, 126, 234, 0.1);
    background: white;
    transform: translateY(-1px);
}

.search-input.regex-mode {
    background: #fffaf0;
    border-color: #f0d9a6;
}

.search-input.regex-mode:hover {
    background: #fffef8;
    border-color: #e8c88a;
}

.search-input.regex-mode:focus {
    border-color: #ffc107;
    box-shadow: 0 0 0 0.2rem rgba(255, 193, 7, 0.25);
}

/* 跳轉行號輸入美化 */
#jump-line-group {
    width: 220px;
}

#jump-line-group input {
    padding-right: 80px;
}

#jump-line-group .btn {
    position: absolute;
    right: 3px;
    top: 50%;
    transform: translateY(-50%);
    height: calc(100% - 6px);
    border-radius: 22px;
    padding: 0 20px;
    font-size: 14px;
}

/* 搜尋結果浮動按鈕 - 預設隱藏 */
.search-results-fab {
    display: none !important;
}

.search-results-fab.has-results {
    display: flex !important;
}

/* 快速導航按鈕美化 - 類似跳轉模式樣式 */
.btn-quick-nav {
    background: white;
    color: #28a745;
    border: 2px solid #28a745;
    border-radius: 25px;
    padding: 8px 20px;
    font-size: 0.9rem;
    font-weight: 600;
    transition: all 0.3s ease;
    display: inline-flex;
    align-items: center;
    gap: 8px;
    box-shadow: 0 2px 8px rgba(40, 167, 69, 0.15);
    position: relative;
    overflow: hidden;
}

.btn-quick-nav:hover {
    background: var(--success-gradient);
    color: white;
    border-color: transparent;
    transform: translateY(-2px);
    box-shadow: 0 4px 15px rgba(40, 167, 69, 0.3);
}

.btn-quick-nav.warning {
    color: #ff9800;
    border-color: #ff9800;
    box-shadow: 0 2px 8px rgba(255, 152, 0, 0.15);
}

.btn-quick-nav.warning:hover {
    background: var(--warning-gradient);
    color: white;
    box-shadow: 0 4px 15px rgba(255, 152, 0, 0.3);
}

/* 跳轉模式按鈕動畫 */
.btn-gradient-warning.jump-mode-active {
    animation: pulseGlow 2s ease-in-out infinite;
    box-shadow: 0 4px 15px rgba(255, 152, 0, 0.3);
}

@keyframes pulseGlow {
    0%, 100% {
        box-shadow: 0 4px 15px rgba(255, 152, 0, 0.3);
    }
    50% {
        box-shadow: 0 6px 25px rgba(255, 152, 0, 0.5);
    }
}

/* 行號圖示區域 */
.line-number {
    position: relative;
    padding-right: 15px;
}

.line-icons {
    position: absolute;
    right: 5px;
    top: 50%;
    transform: translateY(-50%);
    display: flex;
    gap: 2px;
    opacity: 0;
    transition: opacity 0.2s ease;
}

.code-line:hover .line-icons {
    opacity: 1;
}

.line-icon {
    width: 16px;
    height: 16px;
    border-radius: 3px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 10px;
    transition: all 0.2s ease;
}

.line-icon.bookmark-icon {
    background: rgba(76, 175, 80, 0.2);
    color: #4caf50;
}

.line-icon.bookmark-icon:hover {
    background: rgba(76, 175, 80, 0.3);
    transform: scale(1.2);
}

.line-icon.bookmark-icon.active {
    background: #4caf50;
    color: white;
}

.line-icon.jump-icon {
    background: rgba(255, 152, 0, 0.2);
    color: #ff9800;
}

.line-icon.jump-icon:hover {
    background: rgba(255, 152, 0, 0.3);
    transform: scale(1.2);
}

.line-icon.jump-icon.active {
    background: #ff9800;
    color: white;
}

@keyframes dialogSlideIn {
    0% {
        opacity: 0;
        transform: translate(-50%, -50%) scale(0.9);
    }
    100% {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1);
    }
}

@keyframes fadeIn {
    0% { opacity: 0; }
    100% { opacity: 1; }
}

/* 跳轉導航提示隱藏 */
#jump-navigation {
    display: none !important;
}

/* 修復範圍選擇器樣式 */
.range-selector .form-control {
    display: none;
}

.range-selector .form-control-number input {
    border-radius: 20px;
    padding: 14px 50px 14px 24px;
}

/* 確認對話框美化 */
.confirm-dialog-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.5);
    backdrop-filter: blur(4px);
    z-index: 9999;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.confirm-dialog {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) scale(0.9);
    background: white;
    border-radius: 20px;
    padding: 0;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.2),
                0 0 0 1px rgba(0, 0, 0, 0.05);
    z-index: 10000;
    min-width: 420px;
    max-width: 90%;
    opacity: 0;
    transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    overflow: hidden;
}

.confirm-dialog-header {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 1.5rem;
    border-radius: 20px 20px 0 0;
}

.confirm-dialog-header h5 {
    margin: 0;
    font-size: 1.3rem;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 10px;
}

.confirm-dialog-body {
    padding: 2rem 1.5rem;
    color: #4a5568;
    font-size: 1.05rem;
    line-height: 1.6;
    background: #f8f9fa;
}

.confirm-dialog-footer {
    padding: 1rem 1.5rem;
    background: white;
    border-top: 1px solid #e9ecef;
    display: flex;
    gap: 1rem;
    justify-content: flex-end;
}

.confirm-dialog-footer .btn {
    padding: 10px 24px;
    border-radius: 25px;
    font-weight: 500;
    transition: all 0.3s ease;
    min-width: 100px;
}

.confirm-dialog-footer .btn-danger {
    background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
    border: none;
    color: white;
}

.confirm-dialog-footer .btn-danger:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(238, 90, 36, 0.3);
}

.confirm-dialog-footer .btn-outline-secondary:hover {
    background: #e9ecef;
    transform: translateY(-1px);
}

/* 手機版調整 */
@media (max-width: 768px) {
    .confirm-dialog {
        min-width: 90%;
        max-width: 95%;
    }
    
    .confirm-dialog-body {
        padding: 1.5rem 1rem;
        font-size: 0.95rem;
    }
	
    .form-control-number input {
        font-size: 16px; /* 防止 iOS 自動縮放 */
    }	
}
/* === /static/css/file_viewer_final.css === */
/* Enhanced File Viewer 最終樣式修復 */

/* 行號圖示區域改進 - 不與行號重疊 */
.line-number {
    position: relative;
    padding-right: 5px; /* 增加右側空間給圖示 */
    min-width: 100px; /* 增加最小寬度 */
}

.line-icons {
    position: absolute;
    left: 5px;
    top: 50%;
    transform: translateY(-50%);
    display: flex;
    gap: 3px;
    opacity: 0;
    transition: opacity 0.2s ease;
    z-index: 10; /* 確保圖示在上層 */
}

.code-line:hover .line-icons {
    opacity: 1;
}

.line-icon {
    width: 18px;
    height: 18px;
    border-radius: 4px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 10px;
    transition: all 0.2s ease;
    background: white;
    border: 1px solid transparent;
}

.line-icon.bookmark-icon {
    border-color: rgba(76, 175, 80, 0.3);
    color: #4caf50;
}

.line-icon.bookmark-icon:hover {
    background: rgba(76, 175, 80, 0.1);
    border-color: #4caf50;
    transform: scale(1.15);
}

.line-icon.bookmark-icon.active {
    background: #4caf50;
    color: white;
    border-color: #4caf50;
}

.line-icon.jump-icon {
    border-color: rgba(255, 152, 0, 0.3);
    color: #ff9800;
}

.line-icon.jump-icon:hover {
    background: rgba(255, 152, 0, 0.1);
    border-color: #ff9800;
    transform: scale(1.15);
}

.line-icon.jump-icon.active {
    background: #ff9800;
    color: white;
    border-color: #ff9800;
}

/* 行號本身的標記樣式 */

/* 快速導航按鈕條件顯示 */
.quick-nav-buttons {
    display: none;
    gap: 0.5rem;
    margin-left: 1rem;
}

.quick-nav-buttons.show {
    display: flex;
}

/* 搜尋輸入框加長 */
.search-container {
    min-width: 700px !important; /* 從 600px 增加到 700px */
    max-width: 800px !important; /* 從 700px 增加到 800px */
}

.search-input {
    padding: 12px 180px 12px 24px; /* 增加右側 padding */
}

/* 跳轉行號輸入框美化 */
#jump-line-wrapper {
    position: relative;
    width: 240px;
}

#jump-line-wrapper input {
    border-radius: 30px;
    border: 2px solid #e8edf7;
    transition: all 0.3s ease;
    padding: 10px 90px 10px 20px;
    font-size: 0.95rem;
    font-weight: 500;
    background: linear-gradient(135deg, #f8faff 0%, #f0f4ff 100%);
    width: 100%;
    text-align: left;
    height: 40px;
}

#jump-line-wrapper input:hover {
    border-color: #b8c5f8;
    background: linear-gradient(135deg, #ffffff 0%, #f8faff 100%);
    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.1);
}

#jump-line-wrapper input:focus {
    border-color: #667eea;
    box-shadow: 0 0 0 0.2rem rgba(102, 126, 234, 0.15);
    background: white;
    transform: translateY(-1px);
    outline: none;
	margin:2px 0px 0px 0px;
}

#jump-line-wrapper .btn {
    position: absolute;
    right: 0px;
    top: 50%;
    transform: translateY(-50%);
    height: 39px;
    border-radius: 20px;
    padding: 0 35px;
    font-size: 14px;
    background: var(--primary-gradient);
    border: none;
    color: white;
    transition: all 0.3s ease;
}

#jump-line-wrapper .btn:hover {
    transform: translateY(-50%) scale(1.02);
    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
	background: linear-gradient(135deg, #764ba2 0%, #667eea 100%);
}

/* 選擇顯示範圍輸入框美化 */
.range-selector .form-control-number input {
    border-radius: 25px;
    border: 2px solid #e8edf7;
    transition: all 0.3s ease;
    padding: 10px;
    font-size: 1rem;
    font-weight: 500;
    background: linear-gradient(135deg, #f8faff 0%, #f0f4ff 100%);
    width: 100%;
    text-align: center;
}

.range-selector .form-control-number input:hover {
    border-color: #b8c5f8;
    background: linear-gradient(135deg, #ffffff 0%, #f8faff 100%);
    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.1);
}

.range-selector .form-control-number input:focus {
    border-color: #667eea;
    box-shadow: 0 0 0 0.2rem rgba(102, 126, 234, 0.15);
    background: white;
    transform: translateY(-1px);
    outline: none;
}

/* 數字控制按鈕改進 */
.range-selector .number-controls {
    opacity: 0.7;
}

.range-selector .form-control-number:hover .number-controls,
.range-selector .form-control-number input:focus ~ .number-controls {
    opacity: 1;
}

.range-selector .number-controls button {
    width: 36px;
    height: 22px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border-radius: 12px;
}

.range-selector .number-controls button:hover {
    background: linear-gradient(135deg, #764ba2 0%, #667eea 100%);
}

/* 標記管理面板內容換行 */
.marks-item-preview {
    flex: 1;
    font-size: 0.85rem;
    color: #6c757d;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    max-width: 200px; /* 限制最大寬度 */
}

.marks-item {
    flex-wrap: wrap; /* 允許換行 */
    gap: 0.5rem;
}

.marks-item-info {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    flex: 1;
    min-width: 0; /* 允許收縮 */
}

.marks-item-actions {
    display: flex;
    gap: 0.5rem;
    margin-left: auto; /* 推到右側 */
}

/* 將操作按鈕移到行號前面 */
.marks-item-line {
    order: 2; /* 行號在後 */
    margin-left: 0.5rem;
}

.marks-item-actions {
    order: 1; /* 操作按鈕在前 */
    margin-left: 0;
    margin-right: 0.5rem;
}

/* Toast 提示完全隱藏 */
.custom-toast {
    display: none !important;
}



/* 右鍵選單智能高亮選項 */
.context-menu-item.highlight-item {
    font-weight: 600;
    background: linear-gradient(135deg, #fffaf0 0%, #fff5e6 100%);
}

.context-menu-item.highlight-item:hover {
    background: linear-gradient(135deg, #fff5e6 0%, #ffeccc 100%);
}

/* 高亮顏色選項改進 */
.context-menu-item .color-preview {
    width: 18px;
    height: 18px;
    border-radius: 4px;
    border: 2px solid #dee2e6;
    margin-right: 8px;
}

.context-menu-item:hover .color-preview {
    border-color: #667eea;
    transform: scale(1.1);
}

/* 清除高亮按鈕樣式 */
.btn-clear-highlights {
    background: white;
    color: #ff9800;
    border: 2px solid #ff9800;
    border-radius: 25px;
    padding: 8px 20px;
    font-size: 0.9rem;
    font-weight: 600;
    transition: all 0.3s ease;
}

.btn-clear-highlights:hover {
    background: var(--warning-gradient);
    color: white;
    border-color: transparent;
    transform: translateY(-2px);
    box-shadow: 0 4px 15px rgba(255, 152, 0, 0.3);
}

/* 確保範圍選擇器的快速選擇下拉框美觀 */
.range-selector select.form-select {
    border-radius: 25px;
    border: 2px solid #e8edf7;
    padding: 12px 40px 12px 20px;
    font-weight: 500;
    background: linear-gradient(135deg, #f8faff 0%, #f0f4ff 100%);
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23667eea'%3E%3Cpath d='M7 10l5 5 5-5z'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 12px center;
    background-size: 20px;
    transition: all 0.3s ease;
}

.range-selector select.form-select:hover {
    border-color: #b8c5f8;
    background-color: #ffffff;
    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.1);
}

.range-selector select.form-select:focus {
    border-color: #667eea;
    box-shadow: 0 0 0 0.2rem rgba(102, 126, 234, 0.15);
    background-color: white;
}

/* 修復行號寬度在有標記時的對齊 */
.line-number.bookmark.jump-point {
    padding-left: 28px; /* 為兩個標記留出空間 */
}

/* 響應式調整 */
@media (max-width: 768px) {
    .search-container {
        min-width: 100% !important;
        max-width: 100% !important;
    }
    
    #jump-line-wrapper {
        width: 100%;
    }
    
    .marks-item-preview {
        max-width: 150px;
    }
}
/* === /static/css/file_viewer_navigation_fix.css === */
/* Enhanced File Viewer Navigation History Styles */

/* 導航按鈕增強 */
/* 統一的導航按鈕基礎樣式 */
.btn-nav-gradient,
.btn-nav-gradient-alt {
    color: white;
    border: none;
    padding: 8px 16px;
    border-radius: 25px;
    font-size: 14px;
    font-weight: 500;
    transition: all 0.3s ease;
    display: inline-flex;
    align-items: center;
    gap: 5px;
    position: relative;
    overflow: hidden;
}

/* 返回和前進按鈕 - 紫色漸變 */
.btn-nav-gradient {
    background: linear-gradient(45deg, #667eea, #764ba2);
}

.btn-nav-gradient:hover:not(:disabled) {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
}

.btn-nav-gradient:active:not(:disabled) {
    transform: translateY(0);
}

.btn-nav-gradient:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

/* 歷史按鈕 - 綠色漸變 */
.btn-nav-gradient-alt {
    background: linear-gradient(45deg, #56ab2f, #a8e063);
}

.btn-nav-gradient-alt:hover:not(:disabled) {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(86, 171, 47, 0.4);
}

.btn-nav-gradient-alt:active:not(:disabled) {
    transform: translateY(0);
}

/* 返回按鈕特定樣式 */
.btn-back {
    background: linear-gradient(45deg, #667eea, #764ba2);
}

/* 前進按鈕特定樣式 */
.btn-forward {
    background: linear-gradient(45deg, #764ba2, #667eea);
}

/* 歷史按鈕特定樣式 */
.btn-history {
    background: linear-gradient(45deg, #56ab2f, #a8e063);
}

/* 按鈕動畫效果 */
.btn-nav-gradient::before,
.btn-nav-gradient-alt::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: rgba(255, 255, 255, 0.2);
    transition: left 0.5s ease;
}

.btn-nav-gradient:hover::before,
.btn-nav-gradient-alt:hover::before {
    left: 100%;
}

/* 按鈕組對齊 */
.btn-group-aligned {
    display: flex;
    gap: 10px;
    align-items: center;
    flex-wrap: wrap;
    justify-content: flex-end;
}

/* 歷史面板樣式 */
.history-panel {
    position: fixed;
    right: 20px;
    top: 50%;
    transform: translateY(-50%);
    width: 300px;
    max-height: 600px;
    background: white;
    border-radius: 12px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
    z-index: 1000;
    display: flex;
    flex-direction: column;
    animation: slideInRight 0.3s ease-out;
}

@keyframes slideInRight {
    from {
        transform: translateX(100%) translateY(-50%);
        opacity: 0;
    }
    to {
        transform: translateX(0) translateY(-50%);
        opacity: 1;
    }
}

.history-panel-header {
    padding: 16px 20px;
    border-bottom: 1px solid #e9ecef;
    display: flex;
    justify-content: space-between;
    align-items: center;
    background: linear-gradient(45deg, #667eea, #764ba2);
    color: white;
    border-radius: 12px 12px 0 0;
    position: relative;
}

.history-panel-header h5 {
    margin: 0;
    font-size: 16px;
    font-weight: 600;
}

.history-counter {
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
    font-size: 12px;
    opacity: 0.9;
}

.history-panel-close {
    background: none;
    border: none;
    color: white;
    font-size: 20px;
    cursor: pointer;
    padding: 0;
    width: 30px;
    height: 30px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    transition: all 0.3s ease;
}

.history-panel-close:hover {
    background: rgba(255, 255, 255, 0.2);
}

.history-panel-body {
    flex: 1;
    overflow-y: auto;
    padding: 10px;
    max-height: 500px;
}

.history-panel-footer {
    padding: 10px;
    border-top: 1px solid #e9ecef;
    text-align: center;
}

.history-panel-footer .btn {
    font-size: 12px;
}

.history-item {
    background: #f8f9fa;
    border: 1px solid #e9ecef;
    border-radius: 8px;
    padding: 12px;
    margin-bottom: 8px;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    gap: 10px;
}

.history-item:hover {
    background: #e9ecef;
    transform: translateX(-5px);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.history-item.active {
    background: linear-gradient(45deg, #667eea, #764ba2);
    color: white;
    border-color: transparent;
    font-weight: 600;
}

.history-item.past {
    opacity: 0.7;
}

.history-item.future {
    opacity: 0.8;
    border-style: dashed;
}

.history-item-indicator {
    width: 20px;
    text-align: center;
    color: #667eea;
}

.history-item.active .history-item-indicator {
    color: white;
}

.history-counter {
    font-size: 12px;
    opacity: 0.8;
    margin: 0 auto;
}

.history-item-info {
    flex: 1;
}

.history-item-line {
    font-weight: 600;
    font-size: 14px;
    margin-bottom: 4px;
}

.history-item-range {
    font-size: 12px;
    opacity: 0.8;
}

.history-item-time {
    font-size: 11px;
    opacity: 0.7;
    white-space: nowrap;
}

/* 導航提示 */
.nav-hint {
    position: fixed;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(0, 0, 0, 0.8);
    color: white;
    padding: 8px 16px;
    border-radius: 20px;
    font-size: 12px;
    opacity: 0;
    transition: opacity 0.3s ease;
    pointer-events: none;
    z-index: 1000;
}

.nav-hint.show {
    opacity: 1;
}

/* 手機版適配 */
@media (max-width: 768px) {
    .history-panel {
        width: 90%;
        max-width: 350px;
        right: 5%;
        left: 5%;
        transform: translateY(-50%);
    }
    
    .btn-nav-gradient,
    .btn-nav-gradient-alt {
        padding: 6px 12px;
        font-size: 12px;
    }
    
    .btn-nav-gradient .fas,
    .btn-nav-gradient-alt .fas {
        font-size: 12px;
    }
    
    /* 手機版隱藏按鈕文字，只顯示圖標 */
    @media (max-width: 480px) {
        .btn-nav-gradient span,
        .btn-nav-gradient-alt span {
            display: none;
        }
        
        .btn-nav-gradient,
        .btn-nav-gradient-alt {
            padding: 8px 12px;
        }
    }
}

/* 按鈕出現/消失動畫 */
.btn-nav-gradient,
.btn-nav-gradient-alt {
    animation: fadeInScale 0.3s ease-out;
}

@keyframes fadeInScale {
    from {
        opacity: 0;
        transform: scale(0.8);
    }
    to {
        opacity: 1;
        transform: scale(1);
    }
}

/* 按鈕圖標旋轉效果 */
.btn-history:hover .fa-history {
    animation: rotate360 0.5s ease-in-out;
}

@keyframes rotate360 {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

/* 導航按鈕提示標籤 */
.nav-buttons-hint {
    position: absolute;
    top: -30px;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(0, 0, 0, 0.8);
    color: white;
    padding: 4px 12px;
    border-radius: 15px;
    font-size: 11px;
    white-space: nowrap;
    opacity: 0;
    transition: opacity 0.3s ease;
    pointer-events: none;
}

.btn-group-aligned:hover .nav-buttons-hint {
    opacity: 1;
}

/* 導航動畫效果 */
.navigating {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(255, 255, 255, 0.9);
    z-index: 9999;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.3s ease;
}

.navigating.show {
    opacity: 1;
    pointer-events: auto;
}

.navigating-content {
    text-align: center;
}

.navigating-spinner {
    width: 50px;
    height: 50px;
    border: 3px solid #f3f3f3;
    border-top: 3px solid #667eea;
    border-radius: 50%;
    animation: spin 1s linear infinite;
    margin: 0 auto 20px;
}

/* 其他可選的按鈕顏色方案 */
/* 藍色漸變 - 可用於返回/前進 */
.btn-nav-gradient.blue {
    background: linear-gradient(45deg, #4facfe, #00f2fe);
}

.btn-nav-gradient.blue:hover:not(:disabled) {
    box-shadow: 0 5px 15px rgba(79, 172, 254, 0.4);
}

/* 橙色漸變 - 可用於歷史 */
.btn-nav-gradient-alt.orange {
    background: linear-gradient(45deg, #fa709a, #fee140);
}

.btn-nav-gradient-alt.orange:hover:not(:disabled) {
    box-shadow: 0 5px 15px rgba(250, 112, 154, 0.4);
}

/* 粉色漸變 */
.btn-nav-gradient.pink {
    background: linear-gradient(45deg, #f093fb, #f5576c);
}

/* 青色漸變 */
.btn-nav-gradient-alt.cyan {
    background: linear-gradient(45deg, #4fd1c5, #234e52);
}

/* 按鈕載入狀態 */
.btn-nav-gradient.loading,
.btn-nav-gradient-alt.loading {
    pointer-events: none;
    position: relative;
}

.btn-nav-gradient.loading::after,
.btn-nav-gradient-alt.loading::after {
    content: '';
    position: absolute;
    width: 16px;
    height: 16px;
    top: 50%;
    left: 50%;
    margin-left: -8px;
    margin-top: -8px;
    border: 2px solid #f3f3f3;
    border-radius: 50%;
    border-top: 2px solid white;
    animation: spin 1s linear infinite;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

.navigating-text {
    color: #495057;
    font-size: 16px;
    font-weight: 500;
}
/* === /static/css/file_viewer_export_fix.css === */
/* 高級匯出下拉選單 UI */

/* 匯出按鈕 - 玻璃擬態風格 */
.btn-export {
	background: linear-gradient(135deg, #00d2ff 0%, #3a7bd5 100%);
    backdrop-filter: blur(10px) !important;
    -webkit-backdrop-filter: blur(10px) !important;
    color: white !important;
    border: 1px solid rgba(255, 255, 255, 0.2) !important;
    padding: 12px 28px !important;
    border-radius: 35px !important;
    font-weight: 600 !important;
    font-size: 14px !important;
    letter-spacing: 0.5px !important;
    transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275) !important;
    display: inline-flex !important;
    align-items: center !important;
    gap: 12px !important;
    box-shadow: 0 8px 32px rgba(102, 126, 234, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.2) !important;
    position: relative !important;
    overflow: hidden !important;
}

/* 光澤效果 */
.btn-export::after {
    content: '' !important;
    position: absolute !important;
    top: -50% !important;
    left: -50% !important;
    width: 200% !important;
    height: 200% !important;
    background: linear-gradient(
        45deg,
        transparent 30%,
        rgba(255, 255, 255, 0.1) 50%,
        transparent 70%
    ) !important;
    transform: rotate(45deg) !important;
    transition: all 0.6s !important;
    opacity: 0 !important;
}

.btn-export:hover::after {
    animation: shine 0.6s ease-in-out !important;
}

@keyframes shine {
    0% {
        transform: rotate(45deg) translateY(0) !important;
        opacity: 0 !important;
    }
    50% {
        opacity: 1 !important;
    }
    100% {
        transform: rotate(45deg) translateY(200%) !important;
        opacity: 0 !important;
    }
}

.btn-export:hover {
    transform: translateY(-3px) scale(1.02) !important;
    box-shadow: 0 12px 40px rgba(102, 126, 234, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.3) !important;
}

.btn-export:active {
    transform: translateY(-1px) scale(0.98) !important;
}

/* 下拉選單 - 現代卡片風格 */
.export-dropdown {
    position: fixed !important;
    background: rgba(255, 255, 255, 0.95) !important;
    backdrop-filter: blur(20px) saturate(180%) !important;
    -webkit-backdrop-filter: blur(20px) saturate(180%) !important;
    border-radius: 20px !important;
    box-shadow: 0 25px 80px rgba(0, 0, 0, 0.12),
                0 15px 40px rgba(0, 0, 0, 0.08),
                0 0 0 1px rgba(255, 255, 255, 0.9),
                inset 0 0 0 1px rgba(255, 255, 255, 0.5) !important;
    padding: 12px !important;
    min-width: 360px !important;
    border: 1px solid rgba(255, 255, 255, 0.18) !important;
    animation: dropdownFadeIn 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275) !important;
    overflow: hidden !important;
}

/* 高級動畫 */
@keyframes dropdownFadeIn {
    0% {
        opacity: 0;
        transform: translateY(-20px) scale(0.9);
        filter: blur(5px);
    }
    100% {
        opacity: 1;
        transform: translateY(0) scale(1);
        filter: blur(0);
    }
}

/* 選項卡片設計 */
.export-option {
    display: flex !important;
    align-items: center !important;
    gap: 18px !important;
    padding: 16px 20px !important;
    margin: 6px 0 !important;
    border-radius: 16px !important;
    cursor: pointer !important;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
    position: relative !important;
    background: linear-gradient(135deg, #f8faff 0%, #f0f4ff 100%) !important;
    border: 2px solid transparent !important;
    overflow: hidden !important;
}

/* 懸停效果 */
.export-option::before {
    content: '' !important;
    position: absolute !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    bottom: 0 !important;
    background: linear-gradient(135deg, rgba(102, 126, 234, 0.05) 0%, rgba(118, 75, 162, 0.05) 100%) !important;
    opacity: 0 !important;
    transition: opacity 0.3s ease !important;
}

.export-option:hover::before {
    opacity: 1 !important;
}

.export-option:hover {
    transform: translateY(-2px) translateX(8px) !important;
    background: linear-gradient(135deg, #ffffff 0%, #f7faff 100%) !important;
    border-color: rgba(102, 126, 234, 0.2) !important;
    box-shadow: 0 8px 25px rgba(102, 126, 234, 0.15),
                0 0 0 1px rgba(102, 126, 234, 0.1) !important;
}

/* 圖標容器 */
.export-option i {
    width: 48px !important;
    height: 48px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    border-radius: 14px !important;
    font-size: 20px !important;
    position: relative !important;
    z-index: 1 !important;
    transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275) !important;
}

/* 全部匯出 - 綠色主題 */
.export-option:nth-child(1) i {
    background: linear-gradient(135deg, #34d399 0%, #10b981 100%) !important;
    color: white !important;
    box-shadow: 0 6px 20px rgba(16, 185, 129, 0.25) !important;
}

.export-option:nth-child(1):hover i {
    transform: rotate(-10deg) scale(1.1) !important;
    box-shadow: 0 8px 25px rgba(16, 185, 129, 0.35) !important;
}

/* 部分匯出 - 紫色主題 */
.export-option:nth-child(3) i {
    background: linear-gradient(135deg, #a78bfa 0%, #8b5cf6 100%) !important;
    color: white !important;
    box-shadow: 0 6px 20px rgba(139, 92, 246, 0.25) !important;
}

.export-option:nth-child(3):hover i {
    transform: rotate(10deg) scale(1.1) !important;
    box-shadow: 0 8px 25px rgba(139, 92, 246, 0.35) !important;
}

/* 文字區域 */
.export-option-content {
    flex: 1 !important;
    display: flex !important;
    flex-direction: column !important;
    gap: 4px !important;
}

.export-option-title {
    font-size: 16px !important;
    font-weight: 600 !important;
    color: #1a202c !important;
    letter-spacing: 0.3px !important;
}

.export-option-desc {
    font-size: 13px !important;
    color: #64748b !important;
    line-height: 1.4 !important;
}

/* 標籤 */
.export-option-badge {
    position: absolute !important;
    top: 8px !important;
    right: 8px !important;
    background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%) !important;
    color: white !important;
    font-size: 11px !important;
    font-weight: 700 !important;
    padding: 4px 10px !important;
    border-radius: 20px !important;
    text-transform: uppercase !important;
    letter-spacing: 0.5px !important;
    box-shadow: 0 2px 8px rgba(245, 158, 11, 0.3) !important;
}

/* 分隔線 */
.export-dropdown-divider {
    height: 1px !important;
    background: linear-gradient(
        90deg,
        transparent,
        rgba(148, 163, 184, 0.2),
        transparent
    ) !important;
    margin: 12px 20px !important;
    position: relative !important;
}

/* 載入狀態 */
.export-option.exporting {
    pointer-events: none !important;
    opacity: 0.7 !important;
}

.export-option.exporting i::after {
    content: '' !important;
    position: absolute !important;
    top: 50% !important;
    left: 50% !important;
    width: 20px !important;
    height: 20px !important;
    margin: -10px 0 0 -10px !important;
    border: 2px solid white !important;
    border-radius: 50% !important;
    border-top-color: transparent !important;
    animation: spin 0.8s linear infinite !important;
}

/* 成功動畫 */
@keyframes successBounce {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.2); }
}

.export-option.success i {
    animation: successBounce 0.6s ease !important;
    background: linear-gradient(135deg, #34d399 0%, #10b981 100%) !important;
}

/* 手機版優化 */
@media (max-width: 768px) {
    .export-dropdown {
        min-width: 320px !important;
        max-width: calc(100vw - 30px) !important;
        padding: 10px !important;
    }
    
    .export-option {
        padding: 14px 16px !important;
    }
    
    .export-option i {
        width: 42px !important;
        height: 42px !important;
        font-size: 18px !important;
    }
    
    .export-option-title {
        font-size: 15px !important;
    }
    
    .export-option-desc {
        font-size: 12px !important;
    }
}
/* === /static/css/file_viewer_mobile.css === */
/* Enhanced File Viewer Mobile CSS */

/* 手機版特定樣式 */
@media (max-width: 768px) {
    body {
        padding-bottom: 100px; /* 更多空間給底部元素 */
    }
    
    /* 簡化頭部 */
    .file-header {
        padding: 1rem 0;
    }
    
    .file-header h4 {
        font-size: 1.2rem;
    }
    
    .file-info-badge {
        flex-direction: column;
        gap: 8px;
        padding: 10px 15px;
        font-size: 0.8rem;
    }
    
    .file-info-badge .divider {
        display: none;
    }
    
    .file-info-badge .info-item {
        width: 100%;
        justify-content: flex-start;
    }
    
    /* 工具列調整 */
    .toolbar {
        padding: 0.75rem;
        flex-direction: column;
        gap: 0.75rem;
    }
    
    .toolbar-group {
        width: 100%;
        flex-wrap: wrap;
        justify-content: center;
    }
    
    .btn-modern {
        font-size: 0.85rem;
        padding: 6px 12px;
    }
    
    /* 搜尋框 */
    .search-container {
        width: 100%;
    }
    
    .search-input {
        font-size: 16px; /* 防止 iOS 自動縮放 */
        padding: 10px 140px 10px 15px;
    }
    
    /* 匯出按鈕組 */
    .export-group {
        width: 100%;
        margin-top: 10px;
    }
    
    .btn-export, .btn-export-html {
        width: 100%;
        justify-content: center;
        margin: 5px 0;
    }
    
    .export-dropdown {
        width: 100%;
        left: 0;
        right: 0;
    }
    
    /* 返回和前進按鈕 */
    .btn-back, .btn-forward {
        padding: 8px 16px;
        font-size: 0.9rem;
    }
    
    /* 行號和內容 */
    .line-number {
        min-width: 50px;
        font-size: 11px;
        padding: 4px 8px;
    }
    
    .line-content {
        font-size: 12px;
        padding: 4px 10px;
    }
    
    /* 範圍選擇器 */
    .range-selector {
        padding: 1.5rem 1rem;
        margin: 0.5rem;
    }
    
    .range-selector .row {
        gap: 1rem;
    }
    
    .range-selector .col-md-3 {
        width: 100%;
        margin-bottom: 1rem;
    }
    
    /* 狀態列 */
    .status-bar {
        flex-direction: column;
        padding: 0.5rem;
        font-size: 0.75rem;
        gap: 0.5rem;
    }
    
    .status-bar > div {
        width: 100%;
        justify-content: center;
    }
    
    .status-item {
        margin-right: 1rem;
        font-size: 0.75rem;
    }
    
    /* 右鍵選單調整 */
    .context-menu {
        font-size: 0.9rem;
        min-width: 180px;
    }
    
    .context-menu-item {
        padding: 0.6rem 0.8rem;
    }
    
    /* Toast 提示 */
    .toast-container {
        bottom: 80px;
        right: 10px;
        left: 10px;
        max-width: none;
    }
    
    .custom-toast {
        font-size: 0.85rem;
        padding: 12px 16px;
    }
    
    /* 高亮跳轉區 */
    .highlight-jumper {
        margin-top: 8px;
        padding: 6px 12px;
        font-size: 0.8rem;
    }
    
    .highlight-color-btn {
        width: 24px;
        height: 24px;
    }
    
    /* 載入動畫 */
    .loading-overlay {
        height: 80px;
    }
    
    .loading-spinner {
        width: 35px;
        height: 35px;
    }
    
    .loading-text {
        font-size: 0.85rem;
    }
    
    /* 跳轉導航 */
    .jump-navigation {
        bottom: 120px;
        font-size: 0.85rem;
        padding: 10px 20px;
        width: 90%;
        text-align: center;
    }
    
    /* 搜尋結果面板 - 全螢幕 */
    .search-results-panel {
        position: fixed;
        top: 0;
        left: 100%;
        right: 0;
        bottom: 0;
        width: 100%;
        max-height: 100vh;
        border-radius: 0;
        transform: none;
        transition: left 0.3s ease-out;
    }
    
    .search-results-panel.show {
        left: 0;
    }
    
    .search-results-header {
        border-radius: 0;
        padding: 1rem;
    }
    
    .search-result-item {
        margin-bottom: 8px;
    }
    
    .search-result-line {
        font-size: 12px;
    }
    
    .search-result-line-number {
        min-width: 60px;
        padding: 6px 8px;
    }
    
    .search-result-line-content {
        padding: 6px 8px;
    }
    
    /* 版權聲明 */
    .copyright-footer {
        font-size: 0.7rem;
        padding: 8px 0;
    }
}

/* iOS 特定修復 */
@supports (-webkit-touch-callout: none) {
    /* iOS Safari 修復 */
    .search-input {
        -webkit-appearance: none;
        border-radius: 50px !important;
    }
    
    .btn-modern {
        -webkit-tap-highlight-color: transparent;
    }
}

/* 橫向模式優化 */
@media (max-width: 768px) and (orientation: landscape) {
    .file-header {
        padding: 0.5rem 0;
    }
    
    .file-info-badge {
        display: none;
    }
    
    .line-container {
        max-height: calc(100vh - 200px);
    }
    
    .toolbar {
        padding: 0.5rem;
    }
    
    .status-bar {
        padding: 0.4rem;
    }
}
/* === /static/css/file_viewer_export_full_page.css === */
/* 匯出頁面提示 - 置頂懸浮 */
.exported-notice {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    background: linear-gradient(135deg, #ffc107 0%, #ff9800 100%);
    color: white;
    padding: 12px 20px;
    text-align: center;
    font-size: 14px;
    font-weight: 500;
    z-index: 10000;
    box-shadow: 0 4px 20px rgba(255, 152, 0, 0.3);
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
}

.exported-notice i {
    font-size: 16px;
}

.exported-time {
    font-size: 12px;
    opacity: 0.9;
}

/* 調整 body 的上邊距，避免內容被提示遮擋 */
body.exported-page {
    padding-top: 50px;
}

/* 手機版調整 */
@media (max-width: 768px) {
    .exported-notice {
        padding: 10px 15px;
        font-size: 12px;
        flex-wrap: wrap;
    }
    
    .exported-time {
        width: 100%;
        margin-top: 5px;
    }
}
/* === /static/css/file_viewer_marks.css === */
/* 檔案標題區域按鈕組 */
.file-header .btn-group-aligned {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    height: 38px;
}

.file-header .btn-group-aligned > * {
    margin: 0 !important;
}

/* 調整設備切換器位置避免重疊 */
.device-switcher {
    position: fixed;
    top: 10px;
    right: 10px;
    z-index: 10000;
    background: white;
    border-radius: 50px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    padding: 5px;
    display: flex;
    gap: 5px;
}

/* 修復匯出下拉選單 */

.export-dropdown {
    position: absolute;
    margin-top: 5px;
    background: white;
    border-radius: 12px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.15);
    min-width: 280px;
    z-index: 50000;
    display: none;
    overflow: visible;
    top: 100%;
    left: 0;
}

/* 搜尋框美化 */
.search-input {
    padding: 12px 160px 12px 24px;
    border-radius: 50px;
    border: 2px solid #e0e7ff;
    transition: all 0.3s ease;
    font-size: 1rem;
    background: #f8faff;
    backdrop-filter: blur(10px);
    box-shadow: 0 2px 10px rgba(102, 126, 234, 0.08);
}

.search-input:focus {
    border-color: #667eea;
    box-shadow: 0 0 0 0.2rem rgba(102, 126, 234, 0.15), 0 4px 15px rgba(102, 126, 234, 0.1);
    background: white;
    transform: translateY(-1px);
}

.search-input.regex-mode {
    background: #fffbf0;
    border-color: #ffd93d;
}

/* 範圍選擇器美化 */
.range-selector {
    background: white;
    border: none;
    border-radius: 25px;
    padding: 2rem;
    margin: 1.5rem;
    box-shadow: 0 20px 50px rgba(102, 126, 234, 0.2);
    position: relative;
    overflow: visible;
}

.range-selector .form-control {
    border-radius: 20px;
    border: 2px solid #e9ecef;
    transition: all 0.3s ease;
    padding: 14px 24px;
    font-size: 1rem;
    font-weight: 500;
    background: #f8f9fa;
}

.range-selector .form-control:focus {
    border-color: #667eea;
    box-shadow: 0 0 0 0.2rem rgba(102, 126, 234, 0.25);
    background: white;
    transform: translateY(-1px);
}

/* 搜尋結果浮動按鈕 */
.search-results-fab {
    position: fixed;
    bottom: 100px;
    right: 20px;
    width: 56px;
    height: 56px;
    border-radius: 50%;
    background: var(--primary-gradient);
    color: white;
    border: none;
    display: none;
    align-items: center;
    justify-content: center;
    font-size: 20px;
    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
    cursor: pointer;
    z-index: 8999;
    transition: all 0.3s ease;
    animation: fadeInScale 0.3s ease-out;
}

.search-results-fab.show {
    display: flex;
}

.search-results-fab:hover {
    transform: scale(1.1);
    box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
}

.search-results-fab .badge {
    position: absolute;
    top: -5px;
    right: -5px;
    background: var(--danger-gradient);
    color: white;
    border-radius: 12px;
    padding: 2px 8px;
    font-size: 12px;
    font-weight: 600;
    min-width: 24px;
    text-align: center;
    box-shadow: 0 2px 6px rgba(0,0,0,0.2);
}

/* 搜尋結果浮動按鈕脈動效果 */
.search-results-fab.pulse {
    animation: pulse 2s infinite;
}

@keyframes pulse {
    0% {
        box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
    }
    50% {
        box-shadow: 0 4px 20px rgba(102, 126, 234, 0.6);
    }
    100% {
        box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
    }
}

/* 跳轉點和書籤管理浮動按鈕 */
.marks-fab {
    position: fixed;
    bottom: 170px; /* 在搜尋結果按鈕上方 */
    right: 20px;
    width: 56px;
    height: 56px;
    border-radius: 50%;
    background: var(--success-gradient);
    color: white;
    border: none;
    display: none;
    align-items: center;
    justify-content: center;
    font-size: 20px;
    box-shadow: 0 4px 12px rgba(40, 167, 69, 0.3);
    cursor: pointer;
    z-index: 8998;
    transition: all 0.3s ease;
    animation: fadeInScale 0.3s ease-out;
}

.marks-fab.show {
    display: flex;
}

.marks-fab:hover {
    transform: scale(1.1);
    box-shadow: 0 6px 20px rgba(40, 167, 69, 0.4);
}

.marks-fab .badge {
    position: absolute;
    top: -5px;
    right: -5px;
    background: var(--warning-gradient);
    color: white;
    border-radius: 12px;
    padding: 2px 8px;
    font-size: 12px;
    font-weight: 600;
    min-width: 24px;
    text-align: center;
    box-shadow: 0 2px 6px rgba(0,0,0,0.2);
}

/* 跳轉點和書籤管理面板 */
.marks-panel {
    position: fixed;
    right: 50px;  /* 從左邊距離 50px */
    top: 50%;
    transform: translateY(-50%);
    width: 450px;
    max-width: calc(100vw - 100px);
    max-height: 80vh;
    background: white;
    border-radius: 20px;  /* 全圓角 */
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15),
                0 0 0 1px rgba(0, 0, 0, 0.05);
    z-index: 9000;
    display: flex;
    flex-direction: column;
    opacity: 0;
    visibility: hidden;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.marks-panel.show {
    opacity: 1;
    visibility: visible;
}

.marks-panel-header {
    background: var(--success-gradient);
    color: white;
    padding: 1rem 1.5rem;
    border-radius: 20px 20px 0 0;  /* 上圓角 */
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.marks-panel-tabs {
    display: flex;
    gap: 1rem;
    padding: 0.5rem 1rem;
    background: #f8f9fa;
    border-bottom: 1px solid #dee2e6;
}

.marks-panel-tab {
    padding: 0.5rem 1rem;
    border-radius: 20px;
    background: white;
    border: 2px solid #dee2e6;
    cursor: pointer;
    transition: all 0.3s ease;
    font-weight: 500;
}

.marks-panel-tab.active {
    background: var(--primary-gradient);
    border: 2px solid #dee2e6;
    cursor: pointer;
    transition: all 0.3s ease;
    font-weight: 500;
    padding: 0.5rem 1rem;
    border-radius: 20px;
    color: white;
    border-color: var(--primary-gradient);
}

.marks-panel-body {
    flex: 1;
    overflow-y: auto;
    padding: 1rem;
}

.marks-item {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0.75rem 1rem;
    border: 1px solid #e9ecef;
    border-radius: 10px;
    margin-bottom: 10px;
    cursor: pointer;
    transition: all 0.3s ease;
}

.marks-item:hover {
    border-color: #667eea;
    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.15);
    transform: translateY(-2px);
}

.marks-item-info {
    display: flex;
    align-items: center;
    gap: 1rem;
}

.marks-item-line {
    background: #667eea;
    color: white;
    padding: 0.25rem 0.75rem;
    border-radius: 15px;
    font-weight: 600;
    font-size: 0.9rem;
}

.marks-item-preview {
    flex: 1;
    font-size: 0.85rem;
    color: #6c757d;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.marks-item-actions {
    display: flex;
    gap: 0.5rem;
}

.marks-item-actions button {
    width: 30px;
    height: 30px;
    border-radius: 50%;
    border: 1px solid #dee2e6;
    background: white;
    color: #6c757d;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.3s ease;
}

.marks-item-actions button:hover {
    background: #dc3545;
    color: white;
    border-color: #dc3545;
}

.marks-panel-footer {
    padding: 1rem;
    border-top: 1px solid #dee2e6;
    display: flex;
    justify-content: space-between;
}

/* 快速跳轉按鈕 */
.quick-nav-buttons {
    display: flex;
    gap: 0.5rem;
    margin-left: 1rem;
}

.btn-quick-nav {
    background: white;
    color: #28a745;
    border: 2px solid #28a745;
    border-radius: 20px;
    padding: 6px 16px;
    font-size: 0.85rem;
    font-weight: 500;
    transition: all 0.3s ease;
    display: inline-flex;
    align-items: center;
    gap: 6px;
}

.btn-quick-nav:hover {
    background: var(--success-gradient);
    color: white;
    border-color: transparent;
    transform: translateY(-1px);
}

.btn-quick-nav.warning {
    color: #ff9800;
    border-color: #ff9800;
}

.btn-quick-nav.warning:hover {
    background: var(--warning-gradient);
}

/* 標記項目類型區分 */
.marks-item.bookmark .marks-item-line {
    background: var(--bookmark-color);
}

.marks-item.jump-point .marks-item-line {
    background: var(--warning-gradient);
}

/* 空狀態提示 */
.marks-empty {
    text-align: center;
    padding: 3rem 2rem;
    color: #6c757d;
}

.marks-empty i {
    font-size: 3rem;
    margin-bottom: 1rem;
    display: block;
    opacity: 0.3;
}

/* 響應式調整 */
@media (max-width: 768px) {
    .marks-panel {
        left: 20px;
        right: 20px;
        width: auto;
        max-width: none;
    }
    
    .marks-panel.show {
        right: 0;
    }
    
    .marks-fab {
        bottom: 150px;
        right: 15px;
        width: 48px;
        height: 48px;
    }
}

/* 跳轉模式啟用時的特殊樣式 */
.btn-gradient-warning.jump-mode-active {
    animation: jumpModeGlow 1.5s ease-in-out infinite;
}

@keyframes jumpModeGlow {
    0%, 100% {
        box-shadow: 0 5px 15px rgba(255, 152, 0, 0.3);
    }
    50% {
        box-shadow: 0 5px 25px rgba(255, 152, 0, 0.5);
    }
}
/* === /static/css/file_viewer_goto_line.css === */
/* Enhanced File Viewer - Ctrl+G 跳轉行號樣式 (修復版) */
/* static/css/file_viewer_goto_line.css */

/* 跳轉對話框 */
.goto-line-dialog {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 10000;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    visibility: hidden;
    transition: all 0.3s ease;
}

.goto-line-dialog.show {
    opacity: 1;
    visibility: visible;
}

.goto-line-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.5);
    backdrop-filter: blur(3px);
    cursor: pointer;
}

.goto-line-content {
    position: relative;
    background: white;
    border-radius: 12px;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
    width: 480px;
    max-width: 90vw;
    max-height: 90vh;
    overflow: hidden;
    transform: scale(0.9) translateY(-20px);
    transition: transform 0.3s ease;
}

.goto-line-dialog.show .goto-line-content {
    transform: scale(1) translateY(0);
}

/* 標題區域 */
.goto-line-header {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 16px 20px;
    display: flex;
    align-items: center;
    justify-content: space-between;
}

.goto-line-header h5 {
    margin: 0;
    font-size: 16px;
    font-weight: 600;
    display: flex;
    align-items: center;
}

.goto-line-close {
    background: none;
    border: none;
    color: white;
    font-size: 18px;
    cursor: pointer;
    padding: 4px;
    border-radius: 4px;
    transition: background-color 0.2s ease;
}

.goto-line-close:hover {
    background: rgba(255, 255, 255, 0.1);
}

/* 內容區域 */
.goto-line-body {
    padding: 24px;
}

.goto-line-info {
    display: flex;
    gap: 24px;
    margin-bottom: 20px;
    padding: 12px 16px;
    background: #f8f9fa;
    border-radius: 8px;
    border-left: 4px solid #667eea;
}

.current-info,
.total-info {
    display: flex;
    flex-direction: column;
    gap: 4px;
}

.info-label {
    font-size: 12px;
    color: #6c757d;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.info-value {
    font-size: 16px;
    font-weight: 600;
    color: #495057;
}

/* 輸入區域 */
.goto-line-input-group {
    margin-bottom: 20px;
}

.goto-line-label {
    display: block;
    margin-bottom: 8px;
    font-weight: 500;
    color: #495057;
    font-size: 14px;
}

.goto-line-input-wrapper {
    position: relative;
}

.goto-line-input {
    width: 100%;
    padding: 12px 16px;
    border: 2px solid #e9ecef;
    border-radius: 8px;
    font-size: 16px;
    font-weight: 500;
    transition: all 0.2s ease;
    background: white;
}

.goto-line-input:focus {
    outline: none;
    border-color: #667eea;
    box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
}

.goto-line-input.invalid {
    border-color: #dc3545;
    box-shadow: 0 0 0 3px rgba(220, 53, 69, 0.1);
}

.goto-line-input.typing-effect {
    animation: typing-glow 0.5s ease;
}

@keyframes typing-glow {
    0% { box-shadow: 0 0 5px rgba(102, 126, 234, 0.3); }
    50% { box-shadow: 0 0 20px rgba(102, 126, 234, 0.6); }
    100% { box-shadow: 0 0 5px rgba(102, 126, 234, 0.3); }
}

/* 建議按鈕 */
.goto-line-suggestions {
    margin-top: 12px;
    display: flex;
    gap: 8px;
    flex-wrap: wrap;
}

.goto-suggestion {
    background: #f8f9fa;
    border: 1px solid #dee2e6;
    color: #495057;
    padding: 6px 12px;
    border-radius: 20px;
    font-size: 12px;
    cursor: pointer;
    transition: all 0.2s ease;
}

.goto-suggestion:hover {
    background: #667eea;
    color: white;
    border-color: #667eea;
}

/* 預覽區域 */
.goto-line-preview {
    margin-top: 16px;
    padding: 12px;
    background: #f8f9fa;
    border-radius: 6px;
    border-left: 3px solid #28a745;
}

.preview-label {
    font-size: 12px;
    font-weight: 600;
    color: #495057;
    margin-bottom: 6px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.preview-content {
    font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
    font-size: 13px;
    color: #495057;
    word-break: break-all;
}

.preview-line-number {
    color: #667eea;
    font-weight: 600;
}

/* 底部區域 */
.goto-line-footer {
    padding: 16px 24px;
    background: #f8f9fa;
    display: flex;
    align-items: center;
    justify-content: space-between;
    border-top: 1px solid #dee2e6;
}

.goto-line-shortcuts {
    font-size: 12px;
    color: #6c757d;
}

.shortcut-hint kbd {
    background: #e9ecef;
    color: #495057;
    padding: 2px 6px;
    border-radius: 3px;
    font-size: 11px;
    border: 1px solid #ced4da;
    margin: 0 2px;
}

.goto-line-buttons {
    display: flex;
    gap: 8px;
}

.goto-line-buttons .btn {
    font-size: 14px;
    padding: 8px 16px;
    border-radius: 6px;
    font-weight: 500;
}

/* 跳轉動畫 */
.goto-jumping-animation {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.8);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 10001;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.goto-jumping-animation.show {
    opacity: 1;
}

.jumping-content {
    background: white;
    padding: 32px;
    border-radius: 12px;
    text-align: center;
    min-width: 280px;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
}

.jumping-icon {
    font-size: 48px;
    color: #667eea;
    margin-bottom: 16px;
    animation: rocket-fly 1s ease-in-out infinite alternate;
}

@keyframes rocket-fly {
    0% { transform: translateY(0px) rotate(-45deg); }
    100% { transform: translateY(-10px) rotate(-45deg); }
}

.jumping-text {
    font-size: 16px;
    font-weight: 500;
    color: #495057;
    margin-bottom: 20px;
}

.jumping-progress {
    width: 100%;
    height: 4px;
    background: #e9ecef;
    border-radius: 2px;
    overflow: hidden;
}

.progress-bar {
    width: 0%;
    height: 100%;
    background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
    animation: progress-fill 2.5s ease-in-out infinite;
}

@keyframes progress-fill {
    0% { width: 0%; }
    50% { width: 70%; }
    100% { width: 100%; }
}

/* 響應式設計 */
@media (max-width: 768px) {
    .goto-line-content {
        width: 95vw;
        margin: 20px;
    }
    
    .goto-line-body {
        padding: 20px;
    }
    
    .goto-line-info {
        flex-direction: column;
        gap: 12px;
    }
    
    .goto-line-footer {
        padding: 12px 20px;
        flex-direction: column;
        gap: 12px;
    }
    
    .goto-line-buttons {
        width: 100%;
        justify-content: stretch;
    }
    
    .goto-line-buttons .btn {
        flex: 1;
    }
}

/* 暗色主題支援 */
@media (prefers-color-scheme: dark) {
    .goto-line-content {
        background: #2d3748;
        color: #e2e8f0;
    }
    
    .goto-line-info {
        background: #4a5568;
        border-left-color: #667eea;
    }
    
    .info-value {
        color: #e2e8f0;
    }
    
    .goto-line-input {
        background: #4a5568;
        border-color: #718096;
        color: #e2e8f0;
    }
    
    .goto-line-input:focus {
        border-color: #667eea;
    }
    
    .goto-suggestion {
        background: #4a5568;
        border-color: #718096;
        color: #e2e8f0;
    }
    
    .goto-line-preview {
        background: #4a5568;
    }
    
    .goto-line-footer {
        background: #4a5568;
        border-top-color: #718096;
    }
    
    .jumping-content {
        background: #2d3748;
        color: #e2e8f0;
    }
}

/* 輔助動畫 */
.goto-line-dialog[style*="display: none"] .goto-line-content {
    transform: scale(0.9) translateY(-20px);
    opacity: 0;
}

/* 鍵盤快捷鍵提示 */
.goto-line-label::after {
    content: " (Ctrl+G)";
    color: #6c757d;
    font-weight: normal;
    font-size: 12px;
}

/* 高亮行樣式 */
.highlighted-line {
    background: linear-gradient(90deg, 
        rgba(255, 235, 59, 0.3) 0%, 
        rgba(255, 193, 7, 0.2) 50%, 
        rgba(255, 235, 59, 0.3) 100%);
    animation: highlight-pulse 2s ease-in-out;
    border-left: 4px solid #ffc107;
    box-shadow: 0 0 10px rgba(255, 193, 7, 0.3);
}

@keyframes highlight-pulse {
    0% { 
        background: rgba(255, 235, 59, 0.6);
        transform: scale(1.01);
    }
    50% { 
        background: rgba(255, 193, 7, 0.4);
        transform: scale(1);
    }
    100% { 
        background: rgba(255, 235, 59, 0.3);
        transform: scale(1);
    }
}

/* 按鈕樣式改進 */
.btn-gradient-primary {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border: none;
    color: white;
    font-weight: 500;
    transition: all 0.3s ease;
}

.btn-gradient-primary:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
    background: linear-gradient(135deg, #5a6fd8 0%, #6a4190 100%);
}

.btn-gradient-primary:disabled {
    background: #6c757d;
    cursor: not-allowed;
    transform: none;
    box-shadow: none;
}

/* 輸入框焦點增強 */
.goto-line-input:focus {
    outline: none;
    border-color: #667eea;
    box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
    background: linear-gradient(90deg, 
        rgba(102, 126, 234, 0.02) 0%, 
        rgba(255, 255, 255, 1) 20%, 
        rgba(255, 255, 255, 1) 80%, 
        rgba(102, 126, 234, 0.02) 100%);
}

/* 狀態列快捷鍵提示 */
.status-bar .shortcut-hint {
    font-size: 11px;
    color: #6c757d;
    font-style: italic;
}

.status-bar .shortcut-hint:hover {
    color: #495057;
}

/* 調試樣式 */
.goto-debug {
    position: fixed;
    top: 10px;
    left: 10px;
    background: rgba(0, 0, 0, 0.8);
    color: white;
    padding: 8px;
    border-radius: 4px;
    font-family: monospace;
    font-size: 11px;
    z-index: 10001;
    max-width: 300px;
}

/* 錯誤狀態樣式 */
.goto-line-input.invalid {
    border-color: #dc3545;
    box-shadow: 0 0 0 3px rgba(220, 53, 69, 0.1);
    animation: shake 0.5s ease-in-out;
}

@keyframes shake {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-5px); }
    75% { transform: translateX(5px); }
}

/* 確認對話框樣式 */
.goto-confirm-dialog {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 10001;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    visibility: hidden;
    transition: all 0.3s ease;
}

.goto-confirm-dialog.show {
    opacity: 1;
    visibility: visible;
}

.confirm-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.6);
    backdrop-filter: blur(4px);
}

.confirm-content {
    position: relative;
    background: white;
    border-radius: 12px;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
    width: 420px;
    max-width: 90vw;
    transform: scale(0.9) translateY(-20px);
    transition: transform 0.3s ease;
}

.goto-confirm-dialog.show .confirm-content {
    transform: scale(1) translateY(0);
}

.confirm-header {
    background: linear-gradient(135deg, #17a2b8 0%, #138496 100%);
    color: white;
    padding: 16px 20px;
    border-radius: 12px 12px 0 0;
}

.confirm-header h5 {
    margin: 0;
    font-size: 16px;
    font-weight: 600;
    display: flex;
    align-items: center;
}

.confirm-body {
    padding: 24px;
}

.confirm-body p {
    margin: 0 0 16px 0;
    color: #495057;
    line-height: 1.5;
}

.range-info {
    background: #f8f9fa;
    border-radius: 8px;
    padding: 12px;
    margin: 16px 0;
    border-left: 4px solid #17a2b8;
}

.current-range,
.target-range {
    display: flex;
    align-items: center;
    margin: 6px 0;
    font-size: 14px;
}

.current-range {
    color: #6c757d;
}

.target-range {
    color: #17a2b8;
    font-weight: 600;
}

.confirm-message {
    background: rgba(23, 162, 184, 0.1);
    border: 1px solid rgba(23, 162, 184, 0.2);
    border-radius: 6px;
    padding: 12px;
    color: #0c5460;
    font-size: 14px;
}

.confirm-footer {
    padding: 16px 24px;
    background: #f8f9fa;
    border-radius: 0 0 12px 12px;
    display: flex;
    justify-content: flex-end;
    gap: 12px;
}

/* 導航動畫樣式 */
.goto-navigating-animation {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.8);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 10002;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.goto-navigating-animation.show {
    opacity: 1;
}

.navigating-content {
    background: white;
    padding: 32px;
    border-radius: 12px;
    text-align: center;
    min-width: 300px;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
}

.navigating-spinner {
    width: 48px;
    height: 48px;
    border: 4px solid #e9ecef;
    border-left: 4px solid #17a2b8;
    border-radius: 50%;
    animation: spin 1s linear infinite;
    margin: 0 auto 16px;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

.navigating-text {
    font-size: 18px;
    font-weight: 600;
    color: #495057;
    margin-bottom: 8px;
}

.navigating-subtext {
    font-size: 14px;
    color: #6c757d;
}

/* 預覽載入和狀態樣式 */
.preview-loading {
    color: #17a2b8;
    font-style: italic;
}

.preview-loading .fa-spinner {
    animation: spin 1s linear infinite;
}

.preview-error {
    color: #dc3545;
    font-style: italic;
}

.preview-out-of-range {
    color: #6c757d;
    font-size: 12px;
    font-style: italic;
    margin-left: 8px;
}

.preview-line-number {
    color: #667eea;
    font-weight: 600;
}

/* 輸入框載入狀態 */
.goto-line-input.loading {
    background-image: linear-gradient(45deg, 
        transparent 40%, 
        rgba(102, 126, 234, 0.1) 50%, 
        transparent 60%);
    background-size: 20px 20px;
    animation: loading-shine 1s linear infinite;
}

@keyframes loading-shine {
    0% { background-position: -20px 0; }
    100% { background-position: 20px 0; }
}

/* 預覽區域改進 */
.goto-line-preview {
    margin-top: 16px;
    padding: 12px;
    background: #f8f9fa;
    border-radius: 6px;
    border-left: 3px solid #28a745;
    transition: all 0.3s ease;
}

.goto-line-preview.loading {
    border-left-color: #17a2b8;
    background: linear-gradient(90deg, #f8f9fa 0%, rgba(23, 162, 184, 0.05) 50%, #f8f9fa 100%);
}

.goto-line-preview.error {
    border-left-color: #dc3545;
    background: rgba(220, 53, 69, 0.05);
}
/* === /static/css/file_viewer_comments.css === */
/* Enhanced File Viewer Comments System CSS - Complete */

/* 修復 + 按鈕置中和提示 */
.comment-fab-wrapper {
    position: fixed;
    bottom: 100px;
    right: 20px;
    z-index: 8996;
}

.comment-fab {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    border: none;
    font-size: 30px;
    font-weight: bold;
    box-shadow: 0 4px 20px rgba(102, 126, 234, 0.3);
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    line-height: 1;
    padding: 0;
}

.comment-fab span {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    height: 100%;
    margin: 0;
    padding: 0;
}

.comment-fab:hover {
    transform: scale(1.1) rotate(90deg);
    box-shadow: 0 6px 25px rgba(102, 126, 234, 0.4);
}

.comment-fab-tooltip {
    position: absolute;
    bottom: 70px;
    right: 0;
    background: rgba(0, 0, 0, 0.8);
    color: white;
    padding: 6px 12px;
    border-radius: 4px;
    font-size: 12px;
    white-space: nowrap;
    opacity: 0;
    transform: translateY(10px);
    transition: all 0.3s ease;
    pointer-events: none;
}

.comment-fab-wrapper:hover .comment-fab-tooltip {
    opacity: 1;
    transform: translateY(0);
}

/* 評論對話框 */
.comment-dialog {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 10000;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    visibility: hidden;
    transition: all 0.3s ease;
}

.comment-dialog.show {
    opacity: 1;
    visibility: visible;
}

.comment-dialog-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.5);
    backdrop-filter: blur(3px);
    cursor: pointer;
}

.comment-dialog-content {
    position: relative;
    background: white;
    border-radius: 20px;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
    width: 700px;
    max-width: 90vw;
    max-height: 85vh;
    overflow: hidden;
    transform: scale(0.9) translateY(-20px);
    transition: transform 0.3s ease;
    display: flex;
    flex-direction: column;
}

.comment-dialog.show .comment-dialog-content {
    transform: scale(1) translateY(0);
}

/* 對話框頭部 */
.comment-dialog-header {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 20px;
    display: flex;
    align-items: center;
    justify-content: space-between;
}

.comment-dialog-header h5 {
    margin: 0;
    font-size: 18px;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 10px;
}

.comment-dialog-close {
    background: rgba(255, 255, 255, 0.2);
    border: none;
    color: white;
    width: 36px;
    height: 36px;
    border-radius: 50%;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
}

.comment-dialog-close:hover {
    background: rgba(255, 255, 255, 0.3);
    transform: scale(1.1);
}

/* 編輯器區域 */
.comment-dialog-body {
    padding: 20px;
    flex: 1;
    overflow-y: auto;
    max-height: calc(85vh - 180px);
}

/* 主題選擇器美化 */
.comment-topic-selector {
    margin-bottom: 20px;
}

.comment-topic-selector label {
    font-weight: 600;
    margin-bottom: 8px;
    display: flex;
    align-items: center;
    gap: 8px;
    color: #495057;
}

.topic-input {
    width: 100%;
    padding: 12px 16px;
    border: 2px solid #e2e8f0;
    border-radius: 10px;
    font-size: 14px;
    transition: all 0.3s ease;
    background: #f8faff;
}

.topic-input:focus {
    outline: none;
    border-color: #667eea;
    box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
    background: white;
}

/* 富文本編輯器工具列 */
.comment-toolbar {
    display: flex;
    gap: 8px;
    padding: 12px;
    background: #f8f9fa;
    border-radius: 10px;
    margin-bottom: 12px;
    flex-wrap: wrap;
}

/* 顏色選擇器樣式 */
.color-picker-wrapper {
    position: relative;
}

.comment-toolbar-btn {
    background: white;
    border: 1px solid #dee2e6;
    color: #495057;
    width: 36px;
    height: 36px;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 14px;
    position: relative;
}

.comment-toolbar-btn .color-indicator {
    position: absolute;
    bottom: 2px;
    left: 2px;
    right: 2px;
    height: 4px;
    border-radius: 2px;
    background: currentColor;
}

.comment-toolbar-btn:hover {
    background: #667eea;
    color: white;
    border-color: #667eea;
}

.comment-toolbar-btn.active {
    background: #667eea;
    color: white;
    border-color: #667eea;
}

.comment-toolbar-separator {
    width: 1px;
    background: #dee2e6;
    margin: 0 4px;
}

/* 顏色調色板 */
.color-palette {
    position: absolute;
    top: 100%;
    left: 0;
    margin-top: 4px;
    background: white;
    border: 1px solid #dee2e6;
    border-radius: 8px;
    padding: 8px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    display: none;
    z-index: 1000;
    min-width: 200px;
}

.color-palette.show {
    display: block;
}

.color-palette-header {
    font-size: 12px;
    font-weight: 600;
    color: #6c757d;
    margin-bottom: 8px;
    text-align: center;
}

.color-grid {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: 4px;
}

.color-option {
    width: 24px;
    height: 24px;
    border-radius: 4px;
    cursor: pointer;
    border: 2px solid transparent;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #6c757d;
    font-size: 12px;
}

.color-option:hover {
    transform: scale(1.1);
    border-color: #667eea;
}

.color-option.selected {
    border-color: #333;
    box-shadow: 0 0 0 2px white, 0 0 0 3px #333;
}

/* 編輯器內容區 - 支援縮放 */
.comment-editor {
    min-height: 200px;
    max-height: 400px;
    overflow-y: auto;
    border: 2px solid #e9ecef;
    border-radius: 12px;
    padding: 16px;
    font-size: 14px;
    line-height: 1.6;
    transition: all 0.3s ease;
    background: white;
    resize: vertical;
    position: relative;
}

.comment-editor:focus {
    outline: none;
    border-color: #667eea;
    box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
}

/* 拖放提示 */
.comment-editor.drop-active::before {
    content: '拖曳檔案到這裡';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(102, 126, 234, 0.95);
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 18px;
    font-weight: 600;
    z-index: 10;
    border-radius: 12px;
}

/* 引用樣式 */
.comment-editor blockquote {
    border-left: 4px solid #667eea;
    padding: 12px 20px;
    margin: 16px 0;
    background: rgba(102, 126, 234, 0.05);
    border-radius: 0 8px 8px 0;
    color: #495057;
    font-style: italic;
}

/* 程式碼樣式 */
.comment-editor code {
    background: #f8f9fa;
    padding: 2px 6px;
    border-radius: 4px;
    font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
    color: #e83e8c;
}

.comment-editor pre {
    position: relative;
    background: #2d3748;
    color: #e2e8f0;
    padding: 16px;
    border-radius: 8px;
    overflow-x: auto;
    margin: 12px 0;
}

.comment-editor pre code {
    background: transparent;
    color: inherit;
    padding: 0;
    font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
}

/* 表格樣式 */
.comment-editor table {
    border-collapse: collapse;
    width: 100%;
    margin: 12px 0;
}

.comment-editor table td,
.comment-editor table th {
    border: 1px solid #dee2e6;
    padding: 8px;
}

.comment-editor table th {
    background: #f8f9fa;
    font-weight: 600;
}

/* 可縮放圖片 */
.comment-editor img {
    max-width: 100%;
    height: auto;
    margin: 10px 0;
    cursor: move;
    border: 2px solid transparent;
    border-radius: 4px;
    transition: all 0.3s ease;
}

.comment-editor img:hover {
    border-color: #667eea;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.comment-editor img.resizing {
    cursor: nwse-resize;
}

/* 圖片縮放控制 */
.image-resize-handle {
    position: absolute;
    width: 10px;
    height: 10px;
    background: #667eea;
    border: 2px solid white;
    border-radius: 50%;
    cursor: nwse-resize;
    z-index: 10;
}

/* 附件區域 */
.comment-attachments {
    margin-top: 12px;
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
}

.attachment-item {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 8px 12px;
    background: #f8f9fa;
    border-radius: 20px;
    font-size: 12px;
    position: relative;
}

.attachment-item img {
    max-width: 40px;
    max-height: 40px;
    border-radius: 4px;
}

.attachment-remove {
    background: #dc3545;
    color: white;
    border: none;
    width: 20px;
    height: 20px;
    border-radius: 50%;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 12px;
    transition: all 0.2s ease;
}

.attachment-remove:hover {
    transform: scale(1.1);
}

/* 確保對話框底部可見 - 修復 z-index */
.comment-dialog-footer {
    padding: 16px 20px;
    background: #f8f9fa;
    display: flex !important;
    justify-content: space-between;
    align-items: center;
    border-top: 1px solid #dee2e6;
    position: relative;
    z-index: 10;
}

.comment-info {
    font-size: 12px;
    color: #6c757d;
}

.comment-actions {
    display: flex;
    gap: 10px;
}

/* 程式碼對話框 z-index 修復 */
.code-dialog {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 10100; /* 高於評論對話框 */
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    visibility: hidden;
    transition: all 0.3s ease;
}

.code-dialog.show {
    opacity: 1;
    visibility: visible;
}

.code-dialog-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.6);
    backdrop-filter: blur(3px);
}

.code-dialog-content {
    position: relative;
    background: white;
    border-radius: 20px;
    box-shadow: 0 25px 70px rgba(0, 0, 0, 0.3);
    width: 900px;
    max-width: 90vw;
    max-height: 85vh;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    transform: scale(0.9);
    transition: transform 0.3s ease;
}

.code-dialog.show .code-dialog-content {
    transform: scale(1);
}

.code-dialog-header {
    background: linear-gradient(135deg, #2d3748 0%, #4a5568 100%);
    color: white;
    padding: 20px;
    display: flex;
    align-items: center;
    justify-content: space-between;
}

.code-dialog-body {
    padding: 20px;
    flex: 1;
    overflow-y: auto;
    display: flex;
    gap: 20px;
}

.code-input-section {
    flex: 1;
    display: flex;
    flex-direction: column;
}

.code-preview-section {
    flex: 1;
    display: flex;
    flex-direction: column;
}

.preview-label {
    font-weight: 600;
    margin-bottom: 8px;
    display: block;
    color: #495057;
}

.code-preview {
    flex: 1;
    background: #2d3748;
    color: #e2e8f0;
    padding: 15px;
    border-radius: 8px;
    overflow-x: auto;
    font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
    font-size: 14px;
    white-space: pre-wrap;
    word-wrap: break-word;
    position: relative;
}

.code-preview pre {
    margin: 0;
}

.code-preview code {
    background: transparent;
    padding: 0;
}

/* 程式碼高亮預覽 */
.code-preview .hljs-keyword { color: #c792ea; }
.code-preview .hljs-string { color: #c3e88d; }
.code-preview .hljs-number { color: #f78c6c; }
.code-preview .hljs-comment { color: #5f7e97; }
.code-preview .hljs-function { color: #82aaff; }
.code-preview .hljs-class { color: #ffcb6b; }
.code-preview .hljs-variable { color: #f07178; }
.code-preview .hljs-tag { color: #ff5370; }
.code-preview .hljs-attribute { color: #c792ea; }

.language-selector {
    margin-bottom: 15px;
}

.language-selector label {
    font-weight: 600;
    margin-bottom: 8px;
    display: block;
}

.language-selector select {
    width: 100%;
    padding: 10px;
    border: 2px solid #e2e8f0;
    border-radius: 8px;
    font-size: 14px;
    transition: all 0.3s ease;
}

.language-selector select:focus {
    outline: none;
    border-color: #667eea;
    box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
}

/* 拖放提示 - 程式碼對話框 */
.code-textarea-wrapper {
    position: relative;
    flex: 1;
    display: flex;
}

.code-textarea {
    width: 100%;
    min-height: 300px;
    padding: 15px;
    border: 2px solid #e2e8f0;
    border-radius: 8px;
    font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
    font-size: 14px;
    background: #f7fafc;
    resize: vertical;
    transition: all 0.3s ease;
}

.code-textarea:focus {
    outline: none;
    border-color: #667eea;
    box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
    background: white;
}

.code-drop-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(102, 126, 234, 0.95);
    color: white;
    display: none;
    align-items: center;
    justify-content: center;
    font-size: 18px;
    font-weight: 600;
    z-index: 10;
    border-radius: 8px;
    pointer-events: none;
}

.code-textarea.drop-active + .code-drop-overlay,
.code-drop-overlay.active {
    display: flex;
}

.code-dialog-footer {
    padding: 16px 20px;
    background: #f8f9fa;
    display: flex;
    justify-content: flex-end;
    gap: 10px;
    border-top: 1px solid #e2e8f0;
}

/* 程式碼高亮 */
.language-javascript { color: #f7df1e; }
.language-python { color: #3776ab; }
.language-java { color: #007396; }
.language-c { color: #555555; }
.language-cpp { color: #f34b7d; }
.language-xml { color: #ff6600; }
.language-json { color: #90a959; }
.language-html { color: #e34c26; }
.language-css { color: #563d7c; }
.language-sql { color: #336791; }
.language-bash { color: #4eaa25; }
.language-ini { color: #d1dbe0; }
.language-diff { color: #88cc88; }
.language-kotlin { color: #f18e33; }

/* 表格右鍵選單 */
.table-context-menu {
    position: fixed;
    background: white;
    border: 1px solid #dee2e6;
    border-radius: 8px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
    padding: 8px 0;
    z-index: 10101;
    min-width: 180px;
}

.table-menu-item {
    padding: 10px 16px;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 10px;
    font-size: 14px;
    transition: all 0.2s ease;
}

.table-menu-item:hover {
    background: #f8f9fa;
    color: #667eea;
}

.table-menu-separator {
    height: 1px;
    background: #e9ecef;
    margin: 4px 0;
}

/* 表格顏色選單 */
.table-color-menu {
    position: fixed;
    background: white;
    border: 1px solid #dee2e6;
    border-radius: 8px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
    padding: 12px;
    z-index: 10102;
    min-width: 200px;
}

.table-color-title {
    font-size: 12px;
    font-weight: 600;
    color: #6c757d;
    margin-bottom: 8px;
}

.table-color-grid {
    display: grid;
    grid-template-columns: repeat(8, 1fr);
    gap: 4px;
    margin-bottom: 12px;
}

.table-color-option {
    width: 20px;
    height: 20px;
    border-radius: 4px;
    cursor: pointer;
    border: 2px solid transparent;
    transition: all 0.2s ease;
}

.table-color-option:hover {
    transform: scale(1.2);
    border-color: #667eea;
}

/* 物件右鍵選單 */
.element-context-menu {
    position: fixed;
    background: white;
    border: 1px solid #dee2e6;
    border-radius: 8px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
    padding: 8px 0;
    z-index: 10101;
    min-width: 150px;
}

.element-menu-item {
    padding: 10px 16px;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 10px;
    font-size: 14px;
    transition: all 0.2s ease;
}

.element-menu-item:hover {
    background: #f8f9fa;
    color: #667eea;
}

.element-menu-item.delete:hover {
    background: #fff5f5;
    color: #dc3545;
}

/* 評論區塊 */
.comments-section {
    margin: 30px 0;
    padding: 0 20px;
    animation: fadeInUp 0.3s ease-out;
}

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.comments-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 20px;
    padding-bottom: 16px;
    border-bottom: 2px solid #e9ecef;
}

.comments-header h4 {
    margin: 0;
    font-size: 20px;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 10px;
    color: #495057;
}

.comments-count {
    background: #667eea;
    color: white;
    padding: 2px 10px;
    border-radius: 15px;
    font-size: 12px;
}

/* 單個評論 */
.comment-item {
    background: white;
    border: 1px solid #e9ecef;
    border-radius: 16px;
    padding: 20px;
    margin-bottom: 16px;
    transition: all 0.3s ease;
    position: relative;
}

.comment-item:hover {
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
    transform: translateY(-2px);
}

.comment-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 12px;
}

.comment-author {
    display: flex;
    align-items: center;
    gap: 12px;
}

.comment-avatar {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 600;
    font-size: 16px;
}

.comment-meta {
    display: flex;
    flex-direction: column;
    gap: 2px;
}

.comment-author-name {
    font-weight: 600;
    color: #495057;
    font-size: 14px;
}

.comment-time {
    font-size: 12px;
    color: #6c757d;
}

.comment-actions {
    display: flex;
    gap: 8px;
    opacity: 0;
    transition: opacity 0.2s ease;
}

.comment-item:hover .comment-actions {
    opacity: 1;
}

.comment-action-btn {
    background: none;
    border: none;
    color: #6c757d;
    cursor: pointer;
    padding: 6px 10px;
    border-radius: 6px;
    transition: all 0.2s ease;
    font-size: 12px;
}

.comment-action-btn:hover {
    background: #f8f9fa;
    color: #495057;
}

.comment-action-btn.delete:hover {
    background: #fff5f5;
    color: #dc3545;
}

/* 評論內容 */
.comment-content {
    color: #495057;
    line-height: 1.8;
    margin-bottom: 12px;
}

.comment-content h1 { font-size: 1.5em; margin: 0.5em 0; }
.comment-content h2 { font-size: 1.3em; margin: 0.5em 0; }
.comment-content h3 { font-size: 1.1em; margin: 0.5em 0; }
.comment-content strong { font-weight: 600; }
.comment-content em { font-style: italic; }
.comment-content u { text-decoration: underline; }
.comment-content s { text-decoration: line-through; }
.comment-content ul, .comment-content ol { margin: 0.5em 0; padding-left: 2em; }
.comment-content blockquote {
    border-left: 4px solid #667eea;
    padding-left: 16px;
    margin: 12px 0;
    color: #6c757d;
}
.comment-content code {
    background: #f8f9fa;
    padding: 2px 6px;
    border-radius: 4px;
    font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
}
.comment-content a {
    color: #667eea;
    text-decoration: none;
}
.comment-content a:hover {
    text-decoration: underline;
}

/* 評論圖片 */
.comment-images {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
    gap: 12px;
    margin-top: 12px;
}

.comment-image {
    position: relative;
    border-radius: 8px;
    overflow: hidden;
    cursor: pointer;
    transition: all 0.3s ease;
}

.comment-image:hover {
    transform: scale(1.05);
}

.comment-image img {
    width: 100%;
    height: 150px;
    object-fit: cover;
    display: block;
}

/* 編輯模式 */
.comment-item.editing .comment-content {
    display: none;
}

.comment-item.editing .comment-edit-area {
    display: block;
}

.comment-edit-area {
    display: none;
}

/* 空狀態 */
.comments-empty {
    text-align: center;
    padding: 60px 20px;
    color: #6c757d;
}

.comments-empty i {
    font-size: 48px;
    margin-bottom: 16px;
    opacity: 0.3;
}

.comments-empty p {
    font-size: 16px;
    margin: 0;
}

/* 圖片預覽 */
.image-preview-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.9);
    z-index: 10101;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
}

.image-preview-content {
    max-width: 90%;
    max-height: 90%;
}

.image-preview-content img {
    max-width: 100%;
    max-height: 100%;
    border-radius: 8px;
}

/* 評論主題分組樣式 */
.comment-topic-group {
    margin-bottom: 30px;
}

.comment-topic {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 15px;
    padding-bottom: 10px;
    border-bottom: 2px solid #e9ecef;
    color: #495057;
    font-size: 18px;
    font-weight: 600;
}

.comment-topic .badge {
    background: #667eea;
    color: white;
    padding: 4px 10px;
    border-radius: 15px;
    font-size: 12px;
    font-weight: normal;
}

/* 回覆按鈕 */
.comment-reply-btn {
    background: linear-gradient(135deg, #17a2b8 0%, #138496 100%);
    color: white;
    border: none;
    padding: 6px 12px;
    border-radius: 6px;
    font-size: 12px;
    cursor: pointer;
    transition: all 0.2s ease;
}

.comment-reply-btn:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(23, 162, 184, 0.3);
}

/* 快速連結按鈕 */
.quick-comment-link {
    position: fixed;
    bottom: 320px;
    right: 20px;
    background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
    color: white;
    padding: 12px 20px;
    border-radius: 25px;
    text-decoration: none;
    display: none;
    align-items: center;
    gap: 8px;
    font-size: 14px;
    font-weight: 500;
    box-shadow: 0 4px 15px rgba(40, 167, 69, 0.3);
    transition: all 0.3s ease;
    z-index: 8995;
}

.quick-comment-link.show {
    display: flex;
}

.quick-comment-link:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(40, 167, 69, 0.4);
    color: white;
    text-decoration: none;
}

.comments-count-quick {
    background: rgba(255, 255, 255, 0.2);
    padding: 2px 8px;
    border-radius: 12px;
    font-size: 12px;
}

/* 回到頂部按鈕 */
.back-to-top {
    position: fixed;
    bottom: 30px;
    right: 30px;
    width: 48px;
    height: 48px;
    background: linear-gradient(135deg, #764ba2 0%, #667eea 100%);
    color: white;
    border: none;
    border-radius: 50%;
    display: none;
    align-items: center;
    justify-content: center;
    font-size: 18px;
    box-shadow: 0 4px 15px rgba(118, 75, 162, 0.3);
    cursor: pointer;
    transition: all 0.3s ease;
    z-index: 8994;
}

.back-to-top.show {
    display: flex;
}

.back-to-top:hover {
    transform: translateY(-3px) scale(1.1);
    box-shadow: 0 6px 20px rgba(118, 75, 162, 0.4);
}

/* 手機版調整 */
@media (max-width: 768px) {
    .comment-fab-wrapper {
        bottom: 220px;
        right: 15px;
    }
    
    .comment-fab {
        width: 48px;
        height: 48px;
        font-size: 20px;
    }
    
    .comment-dialog-content {
        width: 95vw;
        margin: 20px;
    }
    
    .code-dialog-content {
        width: 95vw;
    }
    
    .code-textarea {
        min-height: 200px;
    }
    
    .comment-toolbar {
        padding: 8px;
        gap: 4px;
    }
    
    .comment-toolbar-btn {
        width: 32px;
        height: 32px;
        font-size: 12px;
    }
    
    .comments-section {
        padding: 0 10px;
    }
    
    .comment-item {
        padding: 16px;
    }
    
    .comment-images {
        grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
    }
    
    .comment-image img {
        height: 100px;
    }
    
    .quick-comment-link {
        bottom: 300px;
        right: 15px;
        padding: 10px 16px;
        font-size: 12px;
    }
    
    .back-to-top {
        bottom: 25px;
        right: 25px;
        width: 42px;
        height: 42px;
        font-size: 16px;
    }
}
/* === Computed Styles === */


/* 匯出頁面額外樣式 */
.exported-watermark {
    position: fixed;
    top: 30px;
    right: 20px;
    background: rgba(255, 193, 7, 0.9);
    color: #856404;
    padding: 8px 16px;
    border-radius: 20px;
    font-size: 12px;
    z-index: 9999;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}

/* 確保匯出後的樣式正確 */
body {
    margin: 0;
    padding: 0;
}

/* 隱藏不需要的功能 */
.device-switcher,
.btn-export,
.btn-export-html {
    display: none !important;
}
    </style>
</head>
<body>

    <!-- 設備切換器 -->
	
    
    <!-- 隱藏的初始資料 -->
    <input type="hidden" id="initial-start-line" value="1">
    <input type="hidden" id="initial-end-line" value="201">
    <input type="hidden" id="initial-total-lines" value="374837">
    <input type="hidden" id="initial-file-path" value="/home/vince_lin/Rust_Project/9L05com04-0422_2051.log">
    <input type="hidden" id="initial-target-line" value="1">
    
    <!-- 檔案標題區域 -->
    <div class="file-header" style="z-index: 100;">
        <div class="container-fluid">
            <div class="row align-items-center">
                <div class="col-lg-8">
                    <h4 class="mb-2 animate__animated animate__fadeInLeft">
                        <i class="fas fa-file-code me-2"></i>9L05com04-0422_2051.log
                    </h4>
                    <div class="file-info-badge animate__animated animate__fadeInLeft animate__delay-1s">
                        <div class="info-item">
                            <i class="fas fa-folder-open"></i>
                            <span>/home/vince_lin/Rust_Project/9L05com04-0422_2051.log</span>
                        </div>
                        <div class="divider"></div>
                        <div class="info-item">
                            <i class="fas fa-list-ol"></i>
                            <span>374837 行</span>
                        </div>
                        <div class="divider"></div>
                        <div class="info-item">
                            <i class="fas fa-eye"></i>
                            <span>顯示: 1-201</span>
                        </div>
                        <div class="divider"></div>
                        <div class="info-item">
                            <i class="fas fa-crosshairs"></i>
                            <span>目標: 第 1 行</span>
                        </div>
                    </div>
                    
                    <!-- 高亮顏色快速跳轉區 -->
                    <div class="highlight-jumper">
                        <span class="highlight-label">快速跳轉:</span>
                    </div>
                </div>
                <div class="col-lg-4 text-end">
                    <div class="animate__animated animate__fadeInRight btn-group-aligned" style="position: relative;"><div class="nav-buttons-hint">使用 Alt+← / Alt+→ 快速導航</div>
                        <div class="export-group d-inline-block position-relative" style="z-index: 10000;">
                            <button class="btn btn-export" style="z-index: 10001;">
                                <i class="fas fa-cloud-download-alt"></i>
                                <span>匯出檔案</span>
                                <i class="fas fa-caret-down ms-2"></i>
                            </button>
							
                        </div>
                        
                        <button class="btn btn-export-html" onclick="exportHTML()">
                            <i class="fas fa-code"></i>
                            <span>匯出 HTML</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="container-fluid">
        <!-- 工具列 -->
        <div class="file-viewer">
            <div class="toolbar" style="z-index: 1000;">
                <div class="toolbar-group">
                    <button class="btn btn-gradient-primary btn-modern" onclick="scrollToTarget()">
                        <i class="fas fa-crosshairs me-1"></i>目標行
                    </button>
                    <button class="btn btn-outline-info btn-modern" onclick="showRangeSelector()">
                        <i class="fas fa-edit me-1"></i>選擇範圍
                    </button>
					<button class="btn btn-clear-highlights btn-modern" onclick="clearAllHighlights()">
						<i class="fas fa-eraser me-1"></i>清除高亮
					</button>
					<button class="btn btn-outline-secondary btn-modern" onclick="toggleJumpModeFixed()" id="jump-mode-btn">
						<i class="fas fa-crosshairs me-1"></i>跳轉模式
					</button>
                    
                    <!-- 快速導航按鈕 -->
					<div class="quick-nav-buttons" style="display: none;">
						<button class="btn-quick-nav" onclick="gotoNextBookmarkSilent()" data-bs-toggle="tooltip" aria-label="下一個書籤 (F3)" data-bs-original-title="下一個書籤 (F3)">
							<i class="fas fa-bookmark"></i>
							<i class="fas fa-arrow-right"></i>
						</button>
						<button class="btn-quick-nav warning" onclick="gotoNextJumpSilent()" data-bs-toggle="tooltip" aria-label="下一個跳轉點 (F2)" data-bs-original-title="下一個跳轉點 (F2)">
							<i class="fas fa-crosshairs"></i>
							<i class="fas fa-arrow-right"></i>
						</button>
					</div>
                </div>
                
                <div class="toolbar-group">
                    <div class="search-container">
                        <input type="text" class="form-control search-input regex-mode" id="search-input" placeholder="搜尋文字 (支援正規表達式) - 按 Ctrl+F 快速搜尋">
                        <div class="search-controls">
                            <button class="regex-toggle active" id="regex-toggle" onclick="toggleRegex()" data-bs-toggle="tooltip" data-bs-original-title="切換正規表達式模式">
                                <i class="fas fa-code"></i> Regex
                            </button>
                            <button class="btn btn-sm btn-outline-secondary" onclick="findPrevious()" data-bs-toggle="tooltip" aria-label="上一個 (Shift+Enter)" data-bs-original-title="上一個 (Shift+Enter)">
                                <i class="fas fa-chevron-up"></i>
                            </button>
                            <button class="btn btn-sm btn-outline-secondary" onclick="findNext()" data-bs-toggle="tooltip" aria-label="下一個 (Enter)" data-bs-original-title="下一個 (Enter)">
                                <i class="fas fa-chevron-down"></i>
                            </button>
                            <div class="search-info" id="search-info">0 / 0</div>
                        </div>
                    </div>
                </div>
                
				<div class="toolbar-group">
					<div id="jump-line-wrapper" style="width: 240px;">
						<input type="number" class="form-control" id="jump-line" placeholder="跳轉行號 (Ctrl+G)" min="1" max="374837" data-bs-toggle="tooltip" aria-label="輸入行號快速跳轉，或按 Ctrl+G 開啟增強跳轉對話框" data-bs-original-title="輸入行號快速跳轉，或按 Ctrl+G 開啟增強跳轉對話框">
						<button class="btn btn-gradient-primary" onclick="jumpToLine()" data-bs-toggle="tooltip" aria-label="跳轉到指定行號" data-bs-original-title="跳轉到指定行號">
							<i class="fas fa-arrow-right"></i>
						</button>
					</div>
				</div>
            </div>

            <!-- 範圍選擇器 -->
            <div id="range-selector" class="range-selector" style="display: none;">
                <h6><i class="fas fa-sliders-h"></i>選擇顯示範圍</h6>
                <div class="row">
                    <div class="col-md-3">
                        <label class="form-label">
                            <i class="fas fa-arrow-up"></i>
                            起始行
                        </label>
                        <div class="number-input-group">
                            <div class="form-control-number"><input type="number" class="" id="range-start" min="1" max="374837" value="1" placeholder="1"></div>
                            
                        </div>
                    </div>
                    <div class="col-md-3">
                        <label class="form-label">
                            <i class="fas fa-arrow-down"></i>
                            結束行
                        </label>
                        <div class="number-input-group">
                            <div class="form-control-number"><input type="number" class="" id="range-end" min="1" max="374837" value="201" placeholder="374837"></div>
                            
                        </div>
                    </div>
                    <div class="col-md-3">
                        <label class="form-label">
                            <i class="fas fa-expand-arrows-alt"></i>
                            上下文行數
                        </label>
                        <div class="number-input-group">
                            <div class="form-control-number"><input type="number" class="" id="range-context" min="0" max="500" value="200" placeholder="200" data-bs-toggle="tooltip" aria-label="設定後將以範圍中心為基準，前後各顯示指定行數" data-bs-original-title="設定後將以範圍中心為基準，前後各顯示指定行數"></div>
                            
                        </div>
                    </div>
                    <div class="col-md-3 d-flex align-items-end gap-2">
                        <button class="btn btn-gradient-primary" onclick="applyRange()">
                            <i class="fas fa-check me-1"></i>套用
                        </button>
                        <button class="btn btn-outline-secondary" onclick="closeRangeSelector()">
                            <i class="fas fa-times me-1"></i>取消
                        </button>
                    </div>
                </div>
                <div class="row mt-3">
                    <div class="col-md-6">
                        <label class="form-label">
                            <i class="fas fa-tachometer-alt"></i>
                            快速選擇範圍
                        </label>
						<select class="form-select" onchange="quickRangeSelect(this.value)">
							<option value="">-- 選擇預設範圍 --</option>
							<option value="100">前後 100 行</option>
							<option value="200">前後 200 行</option>
							<option value="500">前後 500 行</option>
							<option value="1000">前後 1000 行</option>
							<option value="all">顯示全部</option>
						</select>
                    </div>
                    <div class="col-md-6">
                        <small class="text-muted d-block mt-4">
                            <i class="fas fa-info-circle me-1"></i>
                            提示：若設定上下文行數，將以範圍中心為基準，前後各顯示指定行數
                        </small>
                    </div>
                </div>
            </div>

            <!-- 程式碼內容 -->
            <div class="line-container" id="line-container">
                <div id="loading-overlay-top" class="loading-overlay top" style="display: none;">
                    <div class="loading-spinner"></div>
                    <div class="loading-text">載入中...</div>
                </div>
                <div id="loading-overlay-bottom" class="loading-overlay bottom" style="display: none;">
                    <div class="loading-spinner"></div>
                    <div class="loading-text">載入中...</div>
                </div>
                
                <div class="code-line line-target" id="line-1" data-line="1">
						<div class="line-number" ondblclick="handleLineDoubleClick(1)" oncontextmenu="showLineContextMenu(event, 1)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							1
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(1)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(1)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 1)">﻿[20250422_20:51:31:854]</div>
                </div>
                
                <div class="code-line " id="line-2" data-line="2">
						<div class="line-number" ondblclick="handleLineDoubleClick(2)" oncontextmenu="showLineContextMenu(event, 2)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							2
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(2)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(2)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 2)">[20250422_20:51:31:854]console:/ $ </div>
                </div>
                
                <div class="code-line " id="line-3" data-line="3">
						<div class="line-number jump-point bookmark" ondblclick="handleLineDoubleClick(3)" oncontextmenu="showLineContextMenu(event, 3)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							3
						<div class="line-icons">
                    <div class="line-icon bookmark-icon active" onclick="toggleBookmarkIcon(3)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon active" onclick="toggleJumpIcon(3)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 3)">[20250422_20:51:31:854]console:/ $ su</div>
                </div>
                
                <div class="code-line " id="line-4" data-line="4">
						<div class="line-number" ondblclick="handleLineDoubleClick(4)" oncontextmenu="showLineContextMenu(event, 4)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							4
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(4)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(4)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 4)">[20250422_20:51:31:885]rm -rf /data/user_de/0/com.android.shell/files/bugreports/*.zip /data/anr/* /data/tombstones/* /data/local/tmp/*.log /storage/AAAA-AAAA/rtklog_usb/*</div>
                </div>
                
                <div class="code-line " id="line-5" data-line="5">
						<div class="line-number" ondblclick="handleLineDoubleClick(5)" oncontextmenu="showLineContextMenu(event, 5)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							5
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(5)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(5)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 5)">[20250422_20:51:31:885]echo 0 &gt; /proc/sys/kernel/panic</div>
                </div>
                
                <div class="code-line " id="line-6" data-line="6">
						<div class="line-number" ondblclick="handleLineDoubleClick(6)" oncontextmenu="showLineContextMenu(event, 6)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							6
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(6)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(6)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 6)">[20250422_20:51:31:964]ls /data/local/tmp /data/anr /data/tombstones</div>
                </div>
                
                <div class="code-line " id="line-7" data-line="7">
						<div class="line-number" ondblclick="handleLineDoubleClick(7)" oncontextmenu="showLineContextMenu(event, 7)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							7
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(7)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(7)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 7)">[20250422_20:51:31:964]console:/ # </div>
                </div>
                
                <div class="code-line " id="line-8" data-line="8">
						<div class="line-number" ondblclick="handleLineDoubleClick(8)" oncontextmenu="showLineContextMenu(event, 8)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							8
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(8)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(8)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 8)">[20250422_20:51:31:980]ones/* /data/local/tmp/*.log /storage/AAAA-AAAA/rtklog_usb/*                  &lt;</div>
                </div>
                
                <div class="code-line " id="line-9" data-line="9">
						<div class="line-number" ondblclick="handleLineDoubleClick(9)" oncontextmenu="showLineContextMenu(event, 9)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							9
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(9)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(9)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 9)">[20250422_20:51:32:077]console:/ # echo 0 &gt; /proc/sys/kernel/panic</div>
                </div>
                
                <div class="code-line " id="line-10" data-line="10">
						<div class="line-number" ondblclick="handleLineDoubleClick(10)" oncontextmenu="showLineContextMenu(event, 10)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							10
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(10)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(10)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 10)">[20250422_20:51:32:077]console:/ # ls /data/local/tmp /data/anr /data/tombstones</div>
                </div>
                
                <div class="code-line " id="line-11" data-line="11">
						<div class="line-number" ondblclick="handleLineDoubleClick(11)" oncontextmenu="showLineContextMenu(event, 11)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							11
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(11)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(11)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 11)">[20250422_20:51:32:077]/data/anr:</div>
                </div>
                
                <div class="code-line " id="line-12" data-line="12">
						<div class="line-number" ondblclick="handleLineDoubleClick(12)" oncontextmenu="showLineContextMenu(event, 12)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							12
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(12)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(12)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 12)">[20250422_20:51:32:077]</div>
                </div>
                
                <div class="code-line " id="line-13" data-line="13">
						<div class="line-number" ondblclick="handleLineDoubleClick(13)" oncontextmenu="showLineContextMenu(event, 13)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							13
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(13)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(13)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 13)">[20250422_20:51:32:077]/data/local/tmp:</div>
                </div>
                
                <div class="code-line " id="line-14" data-line="14">
						<div class="line-number" ondblclick="handleLineDoubleClick(14)" oncontextmenu="showLineContextMenu(event, 14)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							14
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(14)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(14)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 14)">[20250422_20:51:32:077]</div>
                </div>
                
                <div class="code-line " id="line-15" data-line="15">
						<div class="line-number" ondblclick="handleLineDoubleClick(15)" oncontextmenu="showLineContextMenu(event, 15)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							15
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(15)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(15)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 15)">[20250422_20:51:32:077]/data/tombstones:</div>
                </div>
                
                <div class="code-line " id="line-16" data-line="16">
						<div class="line-number" ondblclick="handleLineDoubleClick(16)" oncontextmenu="showLineContextMenu(event, 16)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							16
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(16)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(16)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 16)">[20250422_20:51:32:091]console:/ # logcat -c</div>
                </div>
                
                <div class="code-line " id="line-17" data-line="17">
						<div class="line-number" ondblclick="handleLineDoubleClick(17)" oncontextmenu="showLineContextMenu(event, 17)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							17
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(17)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(17)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 17)">[20250422_20:51:32:171]console:/ # </div>
                </div>
                
                <div class="code-line " id="line-18" data-line="18">
						<div class="line-number" ondblclick="handleLineDoubleClick(18)" oncontextmenu="showLineContextMenu(event, 18)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							18
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(18)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(18)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 18)">[20250422_20:51:33:014]console:/ # </div>
                </div>
                
                <div class="code-line " id="line-19" data-line="19">
						<div class="line-number" ondblclick="handleLineDoubleClick(19)" oncontextmenu="showLineContextMenu(event, 19)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							19
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(19)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(19)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 19)">[20250422_20:51:33:014]console:/ # </div>
                </div>
                
                <div class="code-line " id="line-20" data-line="20">
						<div class="line-number" ondblclick="handleLineDoubleClick(20)" oncontextmenu="showLineContextMenu(event, 20)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							20
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(20)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(20)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 20)">[20250422_20:51:33:014]console:/ # su</div>
                </div>
                
                <div class="code-line " id="line-21" data-line="21">
						<div class="line-number" ondblclick="handleLineDoubleClick(21)" oncontextmenu="showLineContextMenu(event, 21)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							21
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(21)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(21)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 21)">[20250422_20:51:33:014]</div>
                </div>
                
                <div class="code-line " id="line-22" data-line="22">
						<div class="line-number" ondblclick="handleLineDoubleClick(22)" oncontextmenu="showLineContextMenu(event, 22)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							22
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(22)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(22)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 22)">[20250422_20:51:33:019]rm -rf /data/user_de/0/com.android.shell/files/bugreports/*.zip /data/anr/* /data/tombstones/* /data/local/tmp/*.log /storage/AAAA-AAAA/rtklog_usb/*</div>
                </div>
                
                <div class="code-line " id="line-23" data-line="23">
						<div class="line-number" ondblclick="handleLineDoubleClick(23)" oncontextmenu="showLineContextMenu(event, 23)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							23
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(23)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(23)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 23)">[20250422_20:51:33:019]echo 0 &gt; /proc/sys/kernel/panic</div>
                </div>
                
                <div class="code-line " id="line-24" data-line="24">
						<div class="line-number" ondblclick="handleLineDoubleClick(24)" oncontextmenu="showLineContextMenu(event, 24)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							24
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(24)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(24)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 24)">[20250422_20:51:33:030]console:/ # </div>
                </div>
                
                <div class="code-line " id="line-25" data-line="25">
						<div class="line-number" ondblclick="handleLineDoubleClick(25)" oncontextmenu="showLineContextMenu(event, 25)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							25
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(25)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(25)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 25)">[20250422_20:51:33:093]ones/* /data/local/tmp/*.log /storage/AAAA-AAAA/rtklog_usb/*                  &lt;</div>
                </div>
                
                <div class="code-line " id="line-26" data-line="26">
						<div class="line-number" ondblclick="handleLineDoubleClick(26)" oncontextmenu="showLineContextMenu(event, 26)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							26
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(26)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(26)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 26)">[20250422_20:51:33:157]console:/ # echo 0 &gt; /proc/sys/kernel/panic</div>
                </div>
                
                <div class="code-line " id="line-27" data-line="27">
						<div class="line-number" ondblclick="handleLineDoubleClick(27)" oncontextmenu="showLineContextMenu(event, 27)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							27
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(27)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(27)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 27)">[20250422_20:51:33:157]console:/ # ls /data/local/tmp /data/anr /data/tombstones</div>
                </div>
                
                <div class="code-line " id="line-28" data-line="28">
						<div class="line-number" ondblclick="handleLineDoubleClick(28)" oncontextmenu="showLineContextMenu(event, 28)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							28
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(28)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(28)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 28)">[20250422_20:51:33:157]/data/anr:</div>
                </div>
                
                <div class="code-line " id="line-29" data-line="29">
						<div class="line-number" ondblclick="handleLineDoubleClick(29)" oncontextmenu="showLineContextMenu(event, 29)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							29
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(29)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(29)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 29)">[20250422_20:51:33:157]</div>
                </div>
                
                <div class="code-line " id="line-30" data-line="30">
						<div class="line-number" ondblclick="handleLineDoubleClick(30)" oncontextmenu="showLineContextMenu(event, 30)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							30
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(30)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(30)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 30)">[20250422_20:51:33:157]/data/local/tmp:</div>
                </div>
                
                <div class="code-line " id="line-31" data-line="31">
						<div class="line-number" ondblclick="handleLineDoubleClick(31)" oncontextmenu="showLineContextMenu(event, 31)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							31
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(31)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(31)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 31)">[20250422_20:51:33:157]</div>
                </div>
                
                <div class="code-line " id="line-32" data-line="32">
						<div class="line-number" ondblclick="handleLineDoubleClick(32)" oncontextmenu="showLineContextMenu(event, 32)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							32
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(32)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(32)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 32)">[20250422_20:51:33:157]/data/tombstones:</div>
                </div>
                
                <div class="code-line " id="line-33" data-line="33">
						<div class="line-number" ondblclick="handleLineDoubleClick(33)" oncontextmenu="showLineContextMenu(event, 33)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							33
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(33)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(33)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 33)">[20250422_20:51:33:172]console:/ # logcat -c</div>
                </div>
                
                <div class="code-line " id="line-34" data-line="34">
						<div class="line-number" ondblclick="handleLineDoubleClick(34)" oncontextmenu="showLineContextMenu(event, 34)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							34
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(34)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(34)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 34)">[20250422_20:51:33:220]console:/ # </div>
                </div>
                
                <div class="code-line " id="line-35" data-line="35">
						<div class="line-number" ondblclick="handleLineDoubleClick(35)" oncontextmenu="showLineContextMenu(event, 35)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							35
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(35)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(35)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 35)">[20250422_20:51:39:944]console:/ # $</div>
                </div>
                
                <div class="code-line " id="line-36" data-line="36">
						<div class="line-number" ondblclick="handleLineDoubleClick(36)" oncontextmenu="showLineContextMenu(event, 36)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							36
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(36)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(36)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 36)">[20250422_20:51:39:944] Post romcode git ver:432daf8ae0020852 (Apr 19 2025 04:21:48)</div>
                </div>
                
                <div class="code-line " id="line-37" data-line="37">
						<div class="line-number" ondblclick="handleLineDoubleClick(37)" oncontextmenu="showLineContextMenu(event, 37)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							37
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(37)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(37)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 37)">[20250422_20:51:39:944]MID_OTP status : [0]. </div>
                </div>
                
                <div class="code-line " id="line-38" data-line="38">
						<div class="line-number" ondblclick="handleLineDoubleClick(38)" oncontextmenu="showLineContextMenu(event, 38)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							38
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(38)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(38)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 38)">[20250422_20:51:39:944][RPMB]Auth Key is Ready(0)!!!</div>
                </div>
                
                <div class="code-line " id="line-39" data-line="39">
						<div class="line-number" ondblclick="handleLineDoubleClick(39)" oncontextmenu="showLineContextMenu(event, 39)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							39
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(39)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(39)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 39)">[20250422_20:51:39:960][FV]0,[RV]0.</div>
                </div>
                
                <div class="code-line " id="line-40" data-line="40">
						<div class="line-number" ondblclick="handleLineDoubleClick(40)" oncontextmenu="showLineContextMenu(event, 40)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							40
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(40)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(40)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 40)">[20250422_20:51:39:960]FW Aux version check pass !</div>
                </div>
                
                <div class="code-line " id="line-41" data-line="41">
						<div class="line-number" ondblclick="handleLineDoubleClick(41)" oncontextmenu="showLineContextMenu(event, 41)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							41
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(41)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(41)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 41)">[20250422_20:51:40:119]ecdsa compare sha256 ok!$</div>
                </div>
                
                <div class="code-line " id="line-42" data-line="42">
						<div class="line-number" ondblclick="handleLineDoubleClick(42)" oncontextmenu="showLineContextMenu(event, 42)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							42
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(42)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(42)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 42)">[20250422_20:51:40:119]Hello world, DEMETER !{uni}[WEI]</div>
                </div>
                
                <div class="code-line " id="line-43" data-line="43">
						<div class="line-number" ondblclick="handleLineDoubleClick(43)" oncontextmenu="showLineContextMenu(event, 43)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							43
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(43)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(43)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 43)">[20250422_20:51:40:119] Auxcode git ver:95d2ce1c1d3c778a (Apr 19 2025 04:21:45)</div>
                </div>
                
                <div class="code-line " id="line-44" data-line="44">
						<div class="line-number" ondblclick="handleLineDoubleClick(44)" oncontextmenu="showLineContextMenu(event, 44)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							44
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(44)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(44)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 44)">[20250422_20:51:40:119]flash_type = 2, secure_type = 2</div>
                </div>
                
                <div class="code-line " id="line-45" data-line="45">
						<div class="line-number" ondblclick="handleLineDoubleClick(45)" oncontextmenu="showLineContextMenu(event, 45)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							45
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(45)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(45)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 45)">[20250422_20:51:40:119]b8062204=0</div>
                </div>
                
                <div class="code-line " id="line-46" data-line="46">
						<div class="line-number" ondblclick="handleLineDoubleClick(46)" oncontextmenu="showLineContextMenu(event, 46)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							46
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(46)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(46)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 46)">[20250422_20:51:40:119]speed up mmc</div>
                </div>
                
                <div class="code-line " id="line-47" data-line="47">
						<div class="line-number" ondblclick="handleLineDoubleClick(47)" oncontextmenu="showLineContextMenu(event, 47)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							47
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(47)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(47)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 47)">[20250422_20:51:40:119]switch to HS50</div>
                </div>
                
                <div class="code-line " id="line-48" data-line="48">
						<div class="line-number" ondblclick="handleLineDoubleClick(48)" oncontextmenu="showLineContextMenu(event, 48)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							48
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(48)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(48)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 48)">[20250422_20:51:40:119]slot info 0 0x0 info 1 0x0 </div>
                </div>
                
                <div class="code-line " id="line-49" data-line="49">
						<div class="line-number" ondblclick="handleLineDoubleClick(49)" oncontextmenu="showLineContextMenu(event, 49)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							49
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(49)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(49)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 49)">[20250422_20:51:40:119]invalid reg slot status 0x0,get slot info from flash!</div>
                </div>
                
                <div class="code-line " id="line-50" data-line="50">
						<div class="line-number" ondblclick="handleLineDoubleClick(50)" oncontextmenu="showLineContextMenu(event, 50)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							50
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(50)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(50)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 50)">[20250422_20:51:40:119]choose active index 0</div>
                </div>
                
                <div class="code-line " id="line-51" data-line="51">
						<div class="line-number" ondblclick="handleLineDoubleClick(51)" oncontextmenu="showLineContextMenu(event, 51)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							51
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(51)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(51)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 51)">[20250422_20:51:40:119]ls0=28, ver=2</div>
                </div>
                
                <div class="code-line " id="line-52" data-line="52">
						<div class="line-number" ondblclick="handleLineDoubleClick(52)" oncontextmenu="showLineContextMenu(event, 52)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							52
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(52)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(52)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 52)">[20250422_20:51:40:119]Core IDDQ=107, VID_M</div>
                </div>
                
                <div class="code-line " id="line-53" data-line="53">
						<div class="line-number" ondblclick="handleLineDoubleClick(53)" oncontextmenu="showLineContextMenu(event, 53)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							53
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(53)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(53)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 53)">[20250422_20:51:40:119]SCPU IDDQ=31, VID_L</div>
                </div>
                
                <div class="code-line " id="line-54" data-line="54">
						<div class="line-number" ondblclick="handleLineDoubleClick(54)" oncontextmenu="showLineContextMenu(event, 54)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							54
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(54)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(54)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 54)">[20250422_20:51:40:119]part name hwsetting start 0x100000 size 0x14c00 </div>
                </div>
                
                <div class="code-line " id="line-55" data-line="55">
						<div class="line-number" ondblclick="handleLineDoubleClick(55)" oncontextmenu="showLineContextMenu(event, 55)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							55
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(55)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(55)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 55)">[20250422_20:51:40:119]pinmux setting pinmux_config_id = 1006982, offset = 11800</div>
                </div>
                
                <div class="code-line " id="line-56" data-line="56">
						<div class="line-number" ondblclick="handleLineDoubleClick(56)" oncontextmenu="showLineContextMenu(event, 56)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							56
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(56)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(56)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 56)">[20250422_20:51:40:119]offset = 9000</div>
                </div>
                
                <div class="code-line " id="line-57" data-line="57">
						<div class="line-number" ondblclick="handleLineDoubleClick(57)" oncontextmenu="showLineContextMenu(event, 57)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							57
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(57)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(57)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 57)">[20250422_20:51:40:119][RPMB]Auth Key is Ready(0)!!!</div>
                </div>
                
                <div class="code-line " id="line-58" data-line="58">
						<div class="line-number" ondblclick="handleLineDoubleClick(58)" oncontextmenu="showLineContextMenu(event, 58)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							58
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(58)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(58)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 58)">[20250422_20:51:40:119][VERCHK][INFO]hwsetting_a image version 0 is equal to flash version 0.</div>
                </div>
                
                <div class="code-line " id="line-59" data-line="59">
						<div class="line-number" ondblclick="handleLineDoubleClick(59)" oncontextmenu="showLineContextMenu(event, 59)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							59
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(59)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(59)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 59)">[20250422_20:51:40:261]AAAAA{0a 0a}</div>
                </div>
                
                <div class="code-line " id="line-60" data-line="60">
						<div class="line-number" ondblclick="handleLineDoubleClick(60)" oncontextmenu="showLineContextMenu(event, 60)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							60
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(60)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(60)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 60)">[20250422_20:51:40:261]151515151414151512121414</div>
                </div>
                
                <div class="code-line " id="line-61" data-line="61">
						<div class="line-number" ondblclick="handleLineDoubleClick(61)" oncontextmenu="showLineContextMenu(event, 61)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							61
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(61)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(61)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 61)">[20250422_20:51:40:436]{12 11 12 12 11 11} {09 08 20 20 07 07}</div>
                </div>
                
                <div class="code-line " id="line-62" data-line="62">
						<div class="line-number" ondblclick="handleLineDoubleClick(62)" oncontextmenu="showLineContextMenu(event, 62)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							62
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(62)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(62)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 62)">[20250422_20:51:40:468]r.y.0 r.y.0 part name ext_fw start 0x114e00 size 0x21410 </div>
                </div>
                
                <div class="code-line " id="line-63" data-line="63">
						<div class="line-number" ondblclick="handleLineDoubleClick(63)" oncontextmenu="showLineContextMenu(event, 63)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							63
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(63)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(63)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 63)">[20250422_20:51:40:468][VERCHK][INFO]emcu_a image version 0 is equal to flash version 0.</div>
                </div>
                
                <div class="code-line " id="line-64" data-line="64">
						<div class="line-number" ondblclick="handleLineDoubleClick(64)" oncontextmenu="showLineContextMenu(event, 64)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							64
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(64)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(64)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 64)">[20250422_20:51:40:516]emcu go</div>
                </div>
                
                <div class="code-line " id="line-65" data-line="65">
						<div class="line-number" ondblclick="handleLineDoubleClick(65)" oncontextmenu="showLineContextMenu(event, 65)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							65
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(65)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(65)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 65)">[20250422_20:51:40:516]1</div>
                </div>
                
                <div class="code-line " id="line-66" data-line="66">
						<div class="line-number" ondblclick="handleLineDoubleClick(66)" oncontextmenu="showLineContextMenu(event, 66)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							66
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(66)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(66)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 66)">[20250422_20:51:40:516]interrupt init</div>
                </div>
                
                <div class="code-line " id="line-67" data-line="67">
						<div class="line-number" ondblclick="handleLineDoubleClick(67)" oncontextmenu="showLineContextMenu(event, 67)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							67
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(67)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(67)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 67)">[20250422_20:51:40:516]</div>
                </div>
                
                <div class="code-line " id="line-68" data-line="68">
						<div class="line-number" ondblclick="handleLineDoubleClick(68)" oncontextmenu="showLineContextMenu(event, 68)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							68
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(68)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(68)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 68)">[20250422_20:51:40:516]emcu go!!</div>
                </div>
                
                <div class="code-line " id="line-69" data-line="69">
						<div class="line-number" ondblclick="handleLineDoubleClick(69)" oncontextmenu="showLineContextMenu(event, 69)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							69
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(69)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(69)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 69)">[20250422_20:51:40:516]</div>
                </div>
                
                <div class="code-line " id="line-70" data-line="70">
						<div class="line-number" ondblclick="handleLineDoubleClick(70)" oncontextmenu="showLineContextMenu(event, 70)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							70
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(70)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(70)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 70)">[20250422_20:51:40:516]EVer:8c996d7f508f9a90</div>
                </div>
                
                <div class="code-line " id="line-71" data-line="71">
						<div class="line-number" ondblclick="handleLineDoubleClick(71)" oncontextmenu="showLineContextMenu(event, 71)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							71
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(71)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(71)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 71)">[20250422_20:51:40:516]build:20250327 100808</div>
                </div>
                
                <div class="code-line " id="line-72" data-line="72">
						<div class="line-number" ondblclick="handleLineDoubleClick(72)" oncontextmenu="showLineContextMenu(event, 72)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							72
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(72)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(72)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 72)">[20250422_20:51:40:516]</div>
                </div>
                
                <div class="code-line " id="line-73" data-line="73">
						<div class="line-number" ondblclick="handleLineDoubleClick(73)" oncontextmenu="showLineContextMenu(event, 73)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							73
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(73)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(73)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 73)">[20250422_20:51:40:516]Pwr2 Ready</div>
                </div>
                
                <div class="code-line " id="line-74" data-line="74">
						<div class="line-number" ondblclick="handleLineDoubleClick(74)" oncontextmenu="showLineContextMenu(event, 74)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							74
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(74)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(74)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 74)">[20250422_20:51:40:516]part name kboot start 0x136600 size 0x2d520 </div>
                </div>
                
                <div class="code-line " id="line-75" data-line="75">
						<div class="line-number" ondblclick="handleLineDoubleClick(75)" oncontextmenu="showLineContextMenu(event, 75)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							75
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(75)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(75)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 75)">[20250422_20:51:40:516][VERCHK][INFO]teeboot_a image version 0 is equal to flash version 0.</div>
                </div>
                
                <div class="code-line " id="line-76" data-line="76">
						<div class="line-number" ondblclick="handleLineDoubleClick(76)" oncontextmenu="showLineContextMenu(event, 76)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							76
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(76)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(76)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 76)">[20250422_20:51:40:659]ecdsa compare sha256 ok!</div>
                </div>
                
                <div class="code-line " id="line-77" data-line="77">
						<div class="line-number" ondblclick="handleLineDoubleClick(77)" oncontextmenu="showLineContextMenu(event, 77)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							77
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(77)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(77)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 77)">[20250422_20:51:40:659][go kb]</div>
                </div>
                
                <div class="code-line " id="line-78" data-line="78">
						<div class="line-number" ondblclick="handleLineDoubleClick(78)" oncontextmenu="showLineContextMenu(event, 78)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							78
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(78)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(78)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 78)">[20250422_20:51:40:659]</div>
                </div>
                
                <div class="code-line " id="line-79" data-line="79">
						<div class="line-number" ondblclick="handleLineDoubleClick(79)" oncontextmenu="showLineContextMenu(event, 79)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							79
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(79)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(79)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 79)">[20250422_20:51:40:659]</div>
                </div>
                
                <div class="code-line " id="line-80" data-line="80">
						<div class="line-number" ondblclick="handleLineDoubleClick(80)" oncontextmenu="showLineContextMenu(event, 80)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							80
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(80)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(80)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 80)">[20250422_20:51:40:659]pass bootcode info to kboot</div>
                </div>
                
                <div class="code-line " id="line-81" data-line="81">
						<div class="line-number" ondblclick="handleLineDoubleClick(81)" oncontextmenu="showLineContextMenu(event, 81)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							81
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(81)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(81)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 81)">[20250422_20:51:40:659]part name hwsetting start 0x100000 size 0x14c00 </div>
                </div>
                
                <div class="code-line " id="line-82" data-line="82">
						<div class="line-number" ondblclick="handleLineDoubleClick(82)" oncontextmenu="showLineContextMenu(event, 82)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							82
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(82)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(82)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 82)">[20250422_20:51:40:659]num=1006</div>
                </div>
                
                <div class="code-line " id="line-83" data-line="83">
						<div class="line-number" ondblclick="handleLineDoubleClick(83)" oncontextmenu="showLineContextMenu(event, 83)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							83
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(83)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(83)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 83)">[20250422_20:51:40:659]boot_magic=a72a15f3</div>
                </div>
                
                <div class="code-line " id="line-84" data-line="84">
						<div class="line-number" ondblclick="handleLineDoubleClick(84)" oncontextmenu="showLineContextMenu(event, 84)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							84
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(84)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(84)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 84)">[20250422_20:51:40:659]To setup mmu...</div>
                </div>
                
                <div class="code-line " id="line-85" data-line="85">
						<div class="line-number" ondblclick="handleLineDoubleClick(85)" oncontextmenu="showLineContextMenu(event, 85)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							85
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(85)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(85)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 85)">[20250422_20:51:40:659]dram_bank_mmu_setup: bank: 0</div>
                </div>
                
                <div class="code-line " id="line-86" data-line="86">
						<div class="line-number" ondblclick="handleLineDoubleClick(86)" oncontextmenu="showLineContextMenu(event, 86)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							86
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(86)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(86)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 86)">[20250422_20:51:40:659]Cache: Enabled, cpu(0x0)</div>
                </div>
                
                <div class="code-line " id="line-87" data-line="87">
						<div class="line-number" ondblclick="handleLineDoubleClick(87)" oncontextmenu="showLineContextMenu(event, 87)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							87
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(87)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(87)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 87)">[20250422_20:51:40:659]</div>
                </div>
                
                <div class="code-line " id="line-88" data-line="88">
						<div class="line-number" ondblclick="handleLineDoubleClick(88)" oncontextmenu="showLineContextMenu(event, 88)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							88
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(88)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(88)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 88)">[20250422_20:51:40:659]---DEBUG kboot 04:21:21 Apr 19 2025 ---</div>
                </div>
                
                <div class="code-line " id="line-89" data-line="89">
						<div class="line-number" ondblclick="handleLineDoubleClick(89)" oncontextmenu="showLineContextMenu(event, 89)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							89
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(89)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(89)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 89)">[20250422_20:51:40:659]--- heap start:0x15e90000 size:1468 KB ---</div>
                </div>
                
                <div class="code-line " id="line-90" data-line="90">
						<div class="line-number" ondblclick="handleLineDoubleClick(90)" oncontextmenu="showLineContextMenu(event, 90)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							90
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(90)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(90)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 90)">[20250422_20:51:40:659]kboot emmc: driver init start!</div>
                </div>
                
                <div class="code-line " id="line-91" data-line="91">
						<div class="line-number" ondblclick="handleLineDoubleClick(91)" oncontextmenu="showLineContextMenu(event, 91)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							91
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(91)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(91)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 91)">[20250422_20:51:40:659]KCPU eMMC: 0</div>
                </div>
                
                <div class="code-line " id="line-92" data-line="92">
						<div class="line-number" ondblclick="handleLineDoubleClick(92)" oncontextmenu="showLineContextMenu(event, 92)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							92
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(92)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(92)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 92)">[20250422_20:51:40:659]kboot emmc: driver init finish!</div>
                </div>
                
                <div class="code-line " id="line-93" data-line="93">
						<div class="line-number" ondblclick="handleLineDoubleClick(93)" oncontextmenu="showLineContextMenu(event, 93)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							93
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(93)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(93)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 93)">[20250422_20:51:40:663]PinMuxInit[1] item count = 103, res = 1, bin_size = 0x2300</div>
                </div>
                
                <div class="code-line " id="line-94" data-line="94">
						<div class="line-number" ondblclick="handleLineDoubleClick(94)" oncontextmenu="showLineContextMenu(event, 94)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							94
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(94)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(94)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 94)">[20250422_20:51:40:663]board_version = 21</div>
                </div>
                
                <div class="code-line " id="line-95" data-line="95">
						<div class="line-number" ondblclick="handleLineDoubleClick(95)" oncontextmenu="showLineContextMenu(event, 95)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							95
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(95)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(95)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 95)">[20250422_20:51:40:690]PinMuxInit[3] item count = 366, res = 1, bin_size = 0x2300</div>
                </div>
                
                <div class="code-line " id="line-96" data-line="96">
						<div class="line-number" ondblclick="handleLineDoubleClick(96)" oncontextmenu="showLineContextMenu(event, 96)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							96
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(96)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(96)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 96)">[20250422_20:51:40:738]enter init_rtd_logbuff 3</div>
                </div>
                
                <div class="code-line " id="line-97" data-line="97">
						<div class="line-number" ondblclick="handleLineDoubleClick(97)" oncontextmenu="showLineContextMenu(event, 97)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							97
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(97)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(97)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 97)">[20250422_20:51:40:738]</div>
                </div>
                
                <div class="code-line " id="line-98" data-line="98">
						<div class="line-number" ondblclick="handleLineDoubleClick(98)" oncontextmenu="showLineContextMenu(event, 98)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							98
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(98)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(98)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 98)">[20250422_20:51:40:754]reset_logbuf_para 167  logbuf=(null)</div>
                </div>
                
                <div class="code-line " id="line-99" data-line="99">
						<div class="line-number" ondblclick="handleLineDoubleClick(99)" oncontextmenu="showLineContextMenu(event, 99)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							99
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(99)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(99)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 99)">[20250422_20:51:40:754]</div>
                </div>
                
                <div class="code-line " id="line-100" data-line="100">
						<div class="line-number" ondblclick="handleLineDoubleClick(100)" oncontextmenu="showLineContextMenu(event, 100)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							100
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(100)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(100)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 100)">[20250422_20:51:40:754]</div>
                </div>
                
                <div class="code-line " id="line-101" data-line="101">
						<div class="line-number" ondblclick="handleLineDoubleClick(101)" oncontextmenu="showLineContextMenu(event, 101)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							101
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(101)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(101)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 101)">[20250422_20:51:40:754]reset_logbuf_para 168  logbuf size =(null)</div>
                </div>
                
                <div class="code-line " id="line-102" data-line="102">
						<div class="line-number" ondblclick="handleLineDoubleClick(102)" oncontextmenu="showLineContextMenu(event, 102)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							102
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(102)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(102)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 102)">[20250422_20:51:40:754]</div>
                </div>
                
                <div class="code-line " id="line-103" data-line="103">
						<div class="line-number" ondblclick="handleLineDoubleClick(103)" oncontextmenu="showLineContextMenu(event, 103)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							103
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(103)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(103)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 103)">[20250422_20:51:40:754]</div>
                </div>
                
                <div class="code-line " id="line-104" data-line="104">
						<div class="line-number" ondblclick="handleLineDoubleClick(104)" oncontextmenu="showLineContextMenu(event, 104)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							104
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(104)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(104)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 104)">[20250422_20:51:40:754] (00000000) (1) bufsize=400000 </div>
                </div>
                
                <div class="code-line " id="line-105" data-line="105">
						<div class="line-number" ondblclick="handleLineDoubleClick(105)" oncontextmenu="showLineContextMenu(event, 105)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							105
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(105)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(105)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 105)">[20250422_20:51:40:754]</div>
                </div>
                
                <div class="code-line " id="line-106" data-line="106">
						<div class="line-number" ondblclick="handleLineDoubleClick(106)" oncontextmenu="showLineContextMenu(event, 106)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							106
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(106)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(106)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 106)">[20250422_20:51:40:754]DRAM size: 0x00000000 60000000</div>
                </div>
                
                <div class="code-line " id="line-107" data-line="107">
						<div class="line-number" ondblclick="handleLineDoubleClick(107)" oncontextmenu="showLineContextMenu(event, 107)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							107
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(107)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(107)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 107)">[20250422_20:51:40:754]kboot read uboot start...</div>
                </div>
                
                <div class="code-line " id="line-108" data-line="108">
						<div class="line-number" ondblclick="handleLineDoubleClick(108)" oncontextmenu="showLineContextMenu(event, 108)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							108
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(108)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(108)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 108)">[20250422_20:51:40:754]name uboot offset 0x163e00 size 0x110010 </div>
                </div>
                
                <div class="code-line " id="line-109" data-line="109">
						<div class="line-number" ondblclick="handleLineDoubleClick(109)" oncontextmenu="showLineContextMenu(event, 109)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							109
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(109)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(109)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 109)">[20250422_20:51:40:754][INFO]RPMB auth key is ready, write_cnt = 0x26d !</div>
                </div>
                
                <div class="code-line " id="line-110" data-line="110">
						<div class="line-number" ondblclick="handleLineDoubleClick(110)" oncontextmenu="showLineContextMenu(event, 110)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							110
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(110)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(110)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 110)">[20250422_20:51:40:754][VERCHK][INFO]uboot_a image version 0 is equal to flash version 0.</div>
                </div>
                
                <div class="code-line " id="line-111" data-line="111">
						<div class="line-number" ondblclick="handleLineDoubleClick(111)" oncontextmenu="showLineContextMenu(event, 111)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							111
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(111)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(111)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 111)">[20250422_20:51:40:818]kboot read uboot end...</div>
                </div>
                
                <div class="code-line " id="line-112" data-line="112">
						<div class="line-number" ondblclick="handleLineDoubleClick(112)" oncontextmenu="showLineContextMenu(event, 112)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							112
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(112)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(112)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 112)">[20250422_20:51:40:818]Setup FW Image:</div>
                </div>
                
                <div class="code-line " id="line-113" data-line="113">
						<div class="line-number" ondblclick="handleLineDoubleClick(113)" oncontextmenu="showLineContextMenu(event, 113)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							113
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(113)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(113)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 113)">[20250422_20:51:40:818]</div>
                </div>
                
                <div class="code-line " id="line-114" data-line="114">
						<div class="line-number" ondblclick="handleLineDoubleClick(114)" oncontextmenu="showLineContextMenu(event, 114)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							114
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(114)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(114)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 114)">[20250422_20:51:40:818]go</div>
                </div>
                
                <div class="code-line " id="line-115" data-line="115">
						<div class="line-number" ondblclick="handleLineDoubleClick(115)" oncontextmenu="showLineContextMenu(event, 115)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							115
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(115)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(115)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 115)">[20250422_20:51:40:818][VERCHK][INFO]tzfw_a image version 0 is equal to flash version 0.</div>
                </div>
                
                <div class="code-line " id="line-116" data-line="116">
						<div class="line-number" ondblclick="handleLineDoubleClick(116)" oncontextmenu="showLineContextMenu(event, 116)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							116
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(116)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(116)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 116)">[20250422_20:51:40:863]ecdsa compare sha256 ok!</div>
                </div>
                
                <div class="code-line " id="line-117" data-line="117">
						<div class="line-number" ondblclick="handleLineDoubleClick(117)" oncontextmenu="showLineContextMenu(event, 117)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							117
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(117)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(117)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 117)">[20250422_20:51:40:863]get FW_TZFW flash start 0xd500200 ddr buf start 0x180000 image size 0164a83 ok!</div>
                </div>
                
                <div class="code-line " id="line-118" data-line="118">
						<div class="line-number" ondblclick="handleLineDoubleClick(118)" oncontextmenu="showLineContextMenu(event, 118)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							118
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(118)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(118)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 118)">[20250422_20:51:40:865][VERCHK][INFO]videofw_a image version 0 is equal to flash version 0.</div>
                </div>
                
                <div class="code-line " id="line-119" data-line="119">
						<div class="line-number" ondblclick="handleLineDoubleClick(119)" oncontextmenu="showLineContextMenu(event, 119)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							119
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(119)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(119)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 119)">[20250422_20:51:41:040]get FW_VKERNEL flash start 0xbd00200 ddr buf start 0x1a900000 image size 05d6328 ok!</div>
                </div>
                
                <div class="code-line " id="line-120" data-line="120">
						<div class="line-number" ondblclick="handleLineDoubleClick(120)" oncontextmenu="showLineContextMenu(event, 120)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							120
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(120)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(120)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 120)">[20250422_20:51:41:056][VERCHK][INFO]video2fw_a image version 0 is equal to flash version 0.</div>
                </div>
                
                <div class="code-line " id="line-121" data-line="121">
						<div class="line-number" ondblclick="handleLineDoubleClick(121)" oncontextmenu="showLineContextMenu(event, 121)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							121
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(121)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(121)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 121)">[20250422_20:51:41:088]get FW_VKERNEL2 flash start 0xd100200 ddr buf start 0x1af40000 image size 0f1f10 ok!</div>
                </div>
                
                <div class="code-line " id="line-122" data-line="122">
						<div class="line-number" ondblclick="handleLineDoubleClick(122)" oncontextmenu="showLineContextMenu(event, 122)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							122
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(122)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(122)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 122)">[20250422_20:51:41:104][VERCHK][INFO]audiofw_a image version 0 is equal to flash version 0.</div>
                </div>
                
                <div class="code-line " id="line-123" data-line="123">
						<div class="line-number" ondblclick="handleLineDoubleClick(123)" oncontextmenu="showLineContextMenu(event, 123)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							123
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(123)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(123)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 123)">[20250422_20:51:41:357]get FW_AKERNEL flash start 0xa900200 ddr buf start 0x3e500000 image size 07b39f0 ok!</div>
                </div>
                
                <div class="code-line " id="line-124" data-line="124">
						<div class="line-number" ondblclick="handleLineDoubleClick(124)" oncontextmenu="showLineContextMenu(event, 124)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							124
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(124)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(124)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 124)">[20250422_20:51:41:643]ATFUfixup_node_name 340. set /reserved-memory@6 to /reserved-memory</div>
                </div>
                
                <div class="code-line " id="line-125" data-line="125">
						<div class="line-number" ondblclick="handleLineDoubleClick(125)" oncontextmenu="showLineContextMenu(event, 125)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							125
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(125)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(125)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 125)">[20250422_20:51:41:643]fixup_node_name 340. set /rtk_cma@6 to /rtk_cma</div>
                </div>
                
                <div class="code-line " id="line-126" data-line="126">
						<div class="line-number" ondblclick="handleLineDoubleClick(126)" oncontextmenu="showLineContextMenu(event, 126)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							126
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(126)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(126)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 126)">[20250422_20:51:41:643]reinit_mem_info:903  reuse CMA1 end address 0x44600000 outof caveout_start 0x3d500000</div>
                </div>
                
                <div class="code-line " id="line-127" data-line="127">
						<div class="line-number" ondblclick="handleLineDoubleClick(127)" oncontextmenu="showLineContextMenu(event, 127)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							127
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(127)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(127)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 127)">[20250422_20:51:41:643]</div>
                </div>
                
                <div class="code-line " id="line-128" data-line="128">
						<div class="line-number" ondblclick="handleLineDoubleClick(128)" oncontextmenu="showLineContextMenu(event, 128)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							128
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(128)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(128)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 128)">[20250422_20:51:41:643]##Trying to enter console ... ## </div>
                </div>
                
                <div class="code-line " id="line-129" data-line="129">
						<div class="line-number" ondblclick="handleLineDoubleClick(129)" oncontextmenu="showLineContextMenu(event, 129)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							129
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(129)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(129)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 129)">[20250422_20:51:41:643][EXT4] factory_buffer:40000000, factory_size:0x1000000!</div>
                </div>
                
                <div class="code-line " id="line-130" data-line="130">
						<div class="line-number" ondblclick="handleLineDoubleClick(130)" oncontextmenu="showLineContextMenu(event, 130)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							130
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(130)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(130)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 130)">[20250422_20:51:41:659]No need do recovery for factory!</div>
                </div>
                
                <div class="code-line " id="line-131" data-line="131">
						<div class="line-number" ondblclick="handleLineDoubleClick(131)" oncontextmenu="showLineContextMenu(event, 131)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							131
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(131)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(131)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 131)">[20250422_20:51:41:659]Partiton factory located at 0:4 </div>
                </div>
                
                <div class="code-line " id="line-132" data-line="132">
						<div class="line-number" ondblclick="handleLineDoubleClick(132)" oncontextmenu="showLineContextMenu(event, 132)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							132
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(132)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(132)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 132)">[20250422_20:51:41:659]factory partition can not find /.000@bk@***!</div>
                </div>
                
                <div class="code-line " id="line-133" data-line="133">
						<div class="line-number" ondblclick="handleLineDoubleClick(133)" oncontextmenu="showLineContextMenu(event, 133)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							133
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(133)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(133)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 133)">[20250422_20:51:41:659]Factory no need recovery!</div>
                </div>
                
                <div class="code-line " id="line-134" data-line="134">
						<div class="line-number" ondblclick="handleLineDoubleClick(134)" oncontextmenu="showLineContextMenu(event, 134)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							134
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(134)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(134)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 134)">[20250422_20:51:41:659]No need do backup for factory!</div>
                </div>
                
                <div class="code-line " id="line-135" data-line="135">
						<div class="line-number" ondblclick="handleLineDoubleClick(135)" oncontextmenu="showLineContextMenu(event, 135)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							135
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(135)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(135)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 135)">[20250422_20:51:41:659][EXT4] factory_ro_buffer:41000000, factory_ro_buffer size:0x1000000!</div>
                </div>
                
                <div class="code-line " id="line-136" data-line="136">
						<div class="line-number" ondblclick="handleLineDoubleClick(136)" oncontextmenu="showLineContextMenu(event, 136)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							136
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(136)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(136)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 136)">[20250422_20:51:41:659]Partiton factory_ro_a located at 0:6 </div>
                </div>
                
                <div class="code-line " id="line-137" data-line="137">
						<div class="line-number" ondblclick="handleLineDoubleClick(137)" oncontextmenu="showLineContextMenu(event, 137)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							137
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(137)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(137)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 137)">[20250422_20:51:41:659]factory_ro_a partition can not find /.000@bk@***!</div>
                </div>
                
                <div class="code-line " id="line-138" data-line="138">
						<div class="line-number" ondblclick="handleLineDoubleClick(138)" oncontextmenu="showLineContextMenu(event, 138)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							138
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(138)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(138)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 138)">[20250422_20:51:41:659]Factory RO no need recovery!</div>
                </div>
                
                <div class="code-line " id="line-139" data-line="139">
						<div class="line-number" ondblclick="handleLineDoubleClick(139)" oncontextmenu="showLineContextMenu(event, 139)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							139
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(139)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(139)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 139)">[20250422_20:51:41:659]get_bootparam:</div>
                </div>
                
                <div class="code-line " id="line-140" data-line="140">
						<div class="line-number" ondblclick="handleLineDoubleClick(140)" oncontextmenu="showLineContextMenu(event, 140)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							140
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(140)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(140)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 140)">[20250422_20:51:41:659]------------tmp/factory/bin_panel/000BootParam.h found</div>
                </div>
                
                <div class="code-line " id="line-141" data-line="141">
						<div class="line-number" ondblclick="handleLineDoubleClick(141)" oncontextmenu="showLineContextMenu(event, 141)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							141
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(141)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(141)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 141)">[20250422_20:51:41:659]bootparam.uart_pinmux_setting:0xff</div>
                </div>
                
                <div class="code-line " id="line-142" data-line="142">
						<div class="line-number" ondblclick="handleLineDoubleClick(142)" oncontextmenu="showLineContextMenu(event, 142)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							142
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(142)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(142)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 142)">[20250422_20:51:41:707]Support board ini mechansim!</div>
                </div>
                
                <div class="code-line " id="line-143" data-line="143">
						<div class="line-number" ondblclick="handleLineDoubleClick(143)" oncontextmenu="showLineContextMenu(event, 143)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							143
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(143)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(143)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 143)">[20250422_20:51:41:707]Ini parse IR_CONFIG=rtk_GTV_Remot(NEC),bootparam.ir_default_remoter[0]:rtk_GTV_Remot(NEC)</div>
                </div>
                
                <div class="code-line " id="line-144" data-line="144">
						<div class="line-number" ondblclick="handleLineDoubleClick(144)" oncontextmenu="showLineContextMenu(event, 144)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							144
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(144)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(144)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 144)">[20250422_20:51:41:898]IRDA_POWER_UP_KEY=74,2f6,2fa,16d,18b,239,2f9,66,20e</div>
                </div>
                
                <div class="code-line " id="line-145" data-line="145">
						<div class="line-number" ondblclick="handleLineDoubleClick(145)" oncontextmenu="showLineContextMenu(event, 145)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							145
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(145)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(145)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 145)">[20250422_20:51:41:898]IRDA_FILTER not found </div>
                </div>
                
                <div class="code-line " id="line-146" data-line="146">
						<div class="line-number" ondblclick="handleLineDoubleClick(146)" oncontextmenu="showLineContextMenu(event, 146)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							146
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(146)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(146)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 146)">[20250422_20:51:41:898]IRDA_DEFAULT_REMOTER1 not found </div>
                </div>
                
                <div class="code-line " id="line-147" data-line="147">
						<div class="line-number" ondblclick="handleLineDoubleClick(147)" oncontextmenu="showLineContextMenu(event, 147)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							147
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(147)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(147)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 147)">[20250422_20:51:41:898]IRDA_POWER_UP_KEY1 not found </div>
                </div>
                
                <div class="code-line " id="line-148" data-line="148">
						<div class="line-number" ondblclick="handleLineDoubleClick(148)" oncontextmenu="showLineContextMenu(event, 148)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							148
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(148)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(148)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 148)">[20250422_20:51:41:898]BOOT_TP0_FE=DTV_FE_REALTEK_ATBM253_ALL</div>
                </div>
                
                <div class="code-line " id="line-149" data-line="149">
						<div class="line-number" ondblclick="handleLineDoubleClick(149)" oncontextmenu="showLineContextMenu(event, 149)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							149
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(149)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(149)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 149)">[20250422_20:51:41:898]BOOT_TP1_FE=DTV_FE_REALTEK_RDA5815M_ALL</div>
                </div>
                
                <div class="code-line " id="line-150" data-line="150">
						<div class="line-number" ondblclick="handleLineDoubleClick(150)" oncontextmenu="showLineContextMenu(event, 150)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							150
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(150)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(150)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 150)">[20250422_20:51:41:898]BOOT_POWER_ON_MODE=0</div>
                </div>
                
                <div class="code-line " id="line-151" data-line="151">
						<div class="line-number" ondblclick="handleLineDoubleClick(151)" oncontextmenu="showLineContextMenu(event, 151)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							151
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(151)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(151)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 151)">[20250422_20:51:41:898]BOOT_LOGO_ENABLE=1</div>
                </div>
                
                <div class="code-line " id="line-152" data-line="152">
						<div class="line-number" ondblclick="handleLineDoubleClick(152)" oncontextmenu="showLineContextMenu(event, 152)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							152
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(152)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(152)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 152)">[20250422_20:51:41:898]CUSTOM_VIDEO1_LENG not found </div>
                </div>
                
                <div class="code-line " id="line-153" data-line="153">
						<div class="line-number" ondblclick="handleLineDoubleClick(153)" oncontextmenu="showLineContextMenu(event, 153)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							153
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(153)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(153)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 153)">[20250422_20:51:41:898]CUSTOM_VIDEO2_LENG not found </div>
                </div>
                
                <div class="code-line " id="line-154" data-line="154">
						<div class="line-number" ondblclick="handleLineDoubleClick(154)" oncontextmenu="showLineContextMenu(event, 154)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							154
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(154)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(154)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 154)">[20250422_20:51:41:898]BOOT_MUSIC_ENABLE not found </div>
                </div>
                
                <div class="code-line " id="line-155" data-line="155">
						<div class="line-number" ondblclick="handleLineDoubleClick(155)" oncontextmenu="showLineContextMenu(event, 155)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							155
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(155)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(155)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 155)">[20250422_20:51:41:898]CUSTOM_AUDIO1_LENG not found </div>
                </div>
                
                <div class="code-line " id="line-156" data-line="156">
						<div class="line-number" ondblclick="handleLineDoubleClick(156)" oncontextmenu="showLineContextMenu(event, 156)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							156
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(156)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(156)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 156)">[20250422_20:51:41:898]CUSTOM_AUDIO2_LENG not found </div>
                </div>
                
                <div class="code-line " id="line-157" data-line="157">
						<div class="line-number" ondblclick="handleLineDoubleClick(157)" oncontextmenu="showLineContextMenu(event, 157)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							157
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(157)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(157)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 157)">[20250422_20:51:41:898]BOOT_MAC_ADDRESS not found </div>
                </div>
                
                <div class="code-line " id="line-158" data-line="158">
						<div class="line-number" ondblclick="handleLineDoubleClick(158)" oncontextmenu="showLineContextMenu(event, 158)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							158
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(158)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(158)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 158)">[20250422_20:51:41:898]LOCAL_UPGRADE_EN=0</div>
                </div>
                
                <div class="code-line " id="line-159" data-line="159">
						<div class="line-number" ondblclick="handleLineDoubleClick(159)" oncontextmenu="showLineContextMenu(event, 159)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							159
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(159)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(159)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 159)">[20250422_20:51:41:898]BOOT_FACTORY_LOCAL_UPGRADE_EN=0</div>
                </div>
                
                <div class="code-line " id="line-160" data-line="160">
						<div class="line-number" ondblclick="handleLineDoubleClick(160)" oncontextmenu="showLineContextMenu(event, 160)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							160
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(160)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(160)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 160)">[20250422_20:51:41:898]PANEL_SSC_ENABLE=1</div>
                </div>
                
                <div class="code-line " id="line-161" data-line="161">
						<div class="line-number" ondblclick="handleLineDoubleClick(161)" oncontextmenu="showLineContextMenu(event, 161)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							161
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(161)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(161)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 161)">[20250422_20:51:41:898]PANEL_SSC_STEP=0</div>
                </div>
                
                <div class="code-line " id="line-162" data-line="162">
						<div class="line-number" ondblclick="handleLineDoubleClick(162)" oncontextmenu="showLineContextMenu(event, 162)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							162
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(162)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(162)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 162)">[20250422_20:51:41:898]PANEL_SSC_SPAN=300</div>
                </div>
                
                <div class="code-line " id="line-163" data-line="163">
						<div class="line-number" ondblclick="handleLineDoubleClick(163)" oncontextmenu="showLineContextMenu(event, 163)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							163
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(163)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(163)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 163)">[20250422_20:51:41:898]BOOT_AMP_MODEL="WA6819"</div>
                </div>
                
                <div class="code-line " id="line-164" data-line="164">
						<div class="line-number" ondblclick="handleLineDoubleClick(164)" oncontextmenu="showLineContextMenu(event, 164)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							164
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(164)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(164)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 164)">[20250422_20:51:41:898]#define BOOT_TP0_FE "DTV_FE_REALTEK_ATBM253_ALL"</div>
                </div>
                
                <div class="code-line " id="line-165" data-line="165">
						<div class="line-number" ondblclick="handleLineDoubleClick(165)" oncontextmenu="showLineContextMenu(event, 165)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							165
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(165)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(165)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 165)">[20250422_20:51:41:898]#define PANEL_SSC_SPAN 300</div>
                </div>
                
                <div class="code-line " id="line-166" data-line="166">
						<div class="line-number" ondblclick="handleLineDoubleClick(166)" oncontextmenu="showLineContextMenu(event, 166)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							166
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(166)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(166)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 166)">[20250422_20:51:41:898]#define PANEL_SSC_ENABLE 1</div>
                </div>
                
                <div class="code-line " id="line-167" data-line="167">
						<div class="line-number" ondblclick="handleLineDoubleClick(167)" oncontextmenu="showLineContextMenu(event, 167)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							167
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(167)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(167)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 167)">[20250422_20:51:41:898]#define PANEL_SSC_STEP 0</div>
                </div>
                
                <div class="code-line " id="line-168" data-line="168">
						<div class="line-number" ondblclick="handleLineDoubleClick(168)" oncontextmenu="showLineContextMenu(event, 168)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							168
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(168)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(168)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 168)">[20250422_20:51:41:898]#define BOOT_TP1_FE "DTV_FE_REALTEK_RDA5815M_ALL"</div>
                </div>
                
                <div class="code-line " id="line-169" data-line="169">
						<div class="line-number" ondblclick="handleLineDoubleClick(169)" oncontextmenu="showLineContextMenu(event, 169)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							169
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(169)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(169)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 169)">[20250422_20:51:41:898]#define BOOT_LOGO_ENABLE 1</div>
                </div>
                
                <div class="code-line " id="line-170" data-line="170">
						<div class="line-number" ondblclick="handleLineDoubleClick(170)" oncontextmenu="showLineContextMenu(event, 170)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							170
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(170)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(170)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 170)">[20250422_20:51:41:898]#define BOOT_POWER_ON_MODE 0</div>
                </div>
                
                <div class="code-line " id="line-171" data-line="171">
						<div class="line-number" ondblclick="handleLineDoubleClick(171)" oncontextmenu="showLineContextMenu(event, 171)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							171
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(171)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(171)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 171)">[20250422_20:51:41:898]#define BOOT_UART_SETTING 255</div>
                </div>
                
                <div class="code-line " id="line-172" data-line="172">
						<div class="line-number" ondblclick="handleLineDoubleClick(172)" oncontextmenu="showLineContextMenu(event, 172)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							172
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(172)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(172)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 172)">[20250422_20:51:41:898]#define IRDA_POWER_UP_KEY "74,2f6,2fa,16d,18b,239,2f9,66,20e"</div>
                </div>
                
                <div class="code-line " id="line-173" data-line="173">
						<div class="line-number" ondblclick="handleLineDoubleClick(173)" oncontextmenu="showLineContextMenu(event, 173)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							173
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(173)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(173)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 173)">[20250422_20:51:41:898]#define IMGFILE_PATTERN "install.img"</div>
                </div>
                
                <div class="code-line " id="line-174" data-line="174">
						<div class="line-number" ondblclick="handleLineDoubleClick(174)" oncontextmenu="showLineContextMenu(event, 174)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							174
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(174)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(174)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 174)">[20250422_20:51:41:914]#define BOOT_LOCAL_UPGRADE_EN 0</div>
                </div>
                
                <div class="code-line " id="line-175" data-line="175">
						<div class="line-number" ondblclick="handleLineDoubleClick(175)" oncontextmenu="showLineContextMenu(event, 175)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							175
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(175)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(175)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 175)">[20250422_20:51:41:914]#define BOOT_FACTORY_LOCAL_UPGRADE_EN 0</div>
                </div>
                
                <div class="code-line " id="line-176" data-line="176">
						<div class="line-number" ondblclick="handleLineDoubleClick(176)" oncontextmenu="showLineContextMenu(event, 176)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							176
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(176)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(176)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 176)">[20250422_20:51:41:914]鋗[嗉m[嗉m滵滵滵滵/嗡mo嗡mo嗡mo嗡m鬤珵鬤珵鬤珵鬤珵</div>
                </div>
                
                <div class="code-line " id="line-177" data-line="177">
						<div class="line-number" ondblclick="handleLineDoubleClick(177)" oncontextmenu="showLineContextMenu(event, 177)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							177
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(177)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(177)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 177)">BOOT_AMP_MODEL2 not found </div>
                </div>
                
                <div class="code-line " id="line-178" data-line="178">
						<div class="line-number" ondblclick="handleLineDoubleClick(178)" oncontextmenu="showLineContextMenu(event, 178)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							178
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(178)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(178)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 178)">[20250422_20:51:41:914]BOOT_AMP_MODEL3 not found </div>
                </div>
                
                <div class="code-line " id="line-179" data-line="179">
						<div class="line-number" ondblclick="handleLineDoubleClick(179)" oncontextmenu="showLineContextMenu(event, 179)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							179
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(179)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(179)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 179)">[20250422_20:51:41:914]BOOT_AMP_MODEL4 not found </div>
                </div>
                
                <div class="code-line " id="line-180" data-line="180">
						<div class="line-number" ondblclick="handleLineDoubleClick(180)" oncontextmenu="showLineContextMenu(event, 180)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							180
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(180)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(180)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 180)">[20250422_20:51:41:914]IMGFILE_PATTERN=install.img</div>
                </div>
                
                <div class="code-line " id="line-181" data-line="181">
						<div class="line-number" ondblclick="handleLineDoubleClick(181)" oncontextmenu="showLineContextMenu(event, 181)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							181
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(181)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(181)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 181)">[20250422_20:51:41:914]</div>
                </div>
                
                <div class="code-line " id="line-182" data-line="182">
						<div class="line-number" ondblclick="handleLineDoubleClick(182)" oncontextmenu="showLineContextMenu(event, 182)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							182
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(182)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(182)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 182)">[20250422_20:51:41:914]</div>
                </div>
                
                <div class="code-line " id="line-183" data-line="183">
						<div class="line-number" ondblclick="handleLineDoubleClick(183)" oncontextmenu="showLineContextMenu(event, 183)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							183
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(183)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(183)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 183)">[20250422_20:51:41:914]U-Boot 2012.07 (Apr 19 2025 - 04:20:22) r-9de224678=RTD2875Q_A1_4KDEC_k32=, Build: jenkins-Bootcode-RDDB531_Merlin9_Master_Bootcode_Prebuilt-620</div>
                </div>
                
                <div class="code-line " id="line-184" data-line="184">
						<div class="line-number" ondblclick="handleLineDoubleClick(184)" oncontextmenu="showLineContextMenu(event, 184)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							184
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(184)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(184)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 184)">[20250422_20:51:41:914]</div>
                </div>
                
                <div class="code-line " id="line-185" data-line="185">
						<div class="line-number" ondblclick="handleLineDoubleClick(185)" oncontextmenu="showLineContextMenu(event, 185)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							185
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(185)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(185)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 185)">[20250422_20:51:41:914]file /mac.bin not found in factory_ro_a partition!</div>
                </div>
                
                <div class="code-line " id="line-186" data-line="186">
						<div class="line-number" ondblclick="handleLineDoubleClick(186)" oncontextmenu="showLineContextMenu(event, 186)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							186
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(186)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(186)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 186)">[20250422_20:51:41:914]Mac Address use 60:66:82:33:D9:BB in env</div>
                </div>
                
                <div class="code-line " id="line-187" data-line="187">
						<div class="line-number" ondblclick="handleLineDoubleClick(187)" oncontextmenu="showLineContextMenu(event, 187)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							187
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(187)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(187)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 187)">[20250422_20:51:41:914]TP0_FE DTV_FE_REALTEK_ATBM253_ALL</div>
                </div>
                
                <div class="code-line " id="line-188" data-line="188">
						<div class="line-number" ondblclick="handleLineDoubleClick(188)" oncontextmenu="showLineContextMenu(event, 188)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							188
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(188)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(188)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 188)">[20250422_20:51:41:914]TP1_FE DTV_FE_REALTEK_RDA5815M_ALL</div>
                </div>
                
                <div class="code-line " id="line-189" data-line="189">
						<div class="line-number" ondblclick="handleLineDoubleClick(189)" oncontextmenu="showLineContextMenu(event, 189)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							189
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(189)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(189)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 189)">[20250422_20:51:41:914]MAC_ADDR not setting</div>
                </div>
                
                <div class="code-line " id="line-190" data-line="190">
						<div class="line-number" ondblclick="handleLineDoubleClick(190)" oncontextmenu="showLineContextMenu(event, 190)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							190
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(190)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(190)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 190)">[20250422_20:51:41:914]Factory Address:0x2900000, Size:0x2000000!</div>
                </div>
                
                <div class="code-line " id="line-191" data-line="191">
						<div class="line-number" ondblclick="handleLineDoubleClick(191)" oncontextmenu="showLineContextMenu(event, 191)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							191
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(191)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(191)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 191)">[20250422_20:51:41:914]Factory Read Only Address:0x4900000, Size:0x2000000!</div>
                </div>
                
                <div class="code-line " id="line-192" data-line="192">
						<div class="line-number" ondblclick="handleLineDoubleClick(192)" oncontextmenu="showLineContextMenu(event, 192)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							192
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(192)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(192)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 192)">[20250422_20:51:41:914]:Y: env_panel_set_default panel_src=0, panel_select=0</div>
                </div>
                
                <div class="code-line " id="line-193" data-line="193">
						<div class="line-number" ondblclick="handleLineDoubleClick(193)" oncontextmenu="showLineContextMenu(event, 193)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							193
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(193)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(193)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 193)">[20250422_20:51:41:914]:Y: try to get setting from &lt;tmp/factory/bin_panel/rtkPanel.ini&gt;</div>
                </div>
                
                <div class="code-line " id="line-194" data-line="194">
						<div class="line-number" ondblclick="handleLineDoubleClick(194)" oncontextmenu="showLineContextMenu(event, 194)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							194
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(194)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(194)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 194)">[20250422_20:51:41:914]=========&gt; item_value_string: /tvconfigs/panel/VBY1_HV550QUB_F70_boe_4K2K_60hz.ini </div>
                </div>
                
                <div class="code-line " id="line-195" data-line="195">
						<div class="line-number" ondblclick="handleLineDoubleClick(195)" oncontextmenu="showLineContextMenu(event, 195)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							195
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(195)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(195)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 195)">[20250422_20:51:42:266] INI PANEL BIN &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; found </div>
                </div>
                
                <div class="code-line " id="line-196" data-line="196">
						<div class="line-number" ondblclick="handleLineDoubleClick(196)" oncontextmenu="showLineContextMenu(event, 196)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							196
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(196)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(196)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 196)">[20250422_20:51:42:266]:Y: ini_panel_handler name=DISPLAY_PORT ,value=1 </div>
                </div>
                
                <div class="code-line " id="line-197" data-line="197">
						<div class="line-number" ondblclick="handleLineDoubleClick(197)" oncontextmenu="showLineContextMenu(event, 197)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							197
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(197)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(197)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 197)">[20250422_20:51:42:266]:Y: ini_panel_handler name=DISPLAY_COLOR_BITS ,value=0 </div>
                </div>
                
                <div class="code-line " id="line-198" data-line="198">
						<div class="line-number" ondblclick="handleLineDoubleClick(198)" oncontextmenu="showLineContextMenu(event, 198)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							198
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(198)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(198)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 198)">[20250422_20:51:42:266]:Y: ini_panel_handler name=DISPLAY_EVEN_RSV1_BIT ,value=0 </div>
                </div>
                
                <div class="code-line " id="line-199" data-line="199">
						<div class="line-number" ondblclick="handleLineDoubleClick(199)" oncontextmenu="showLineContextMenu(event, 199)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							199
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(199)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(199)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 199)">[20250422_20:51:42:266]:Y: ini_panel_handler name=DISPLAY_ODD_RSV1_BIT ,value=0 </div>
                </div>
                
                <div class="code-line " id="line-200" data-line="200">
						<div class="line-number" ondblclick="handleLineDoubleClick(200)" oncontextmenu="showLineContextMenu(event, 200)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							200
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(200)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(200)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 200)">[20250422_20:51:42:266]:Y: ini_panel_handler name=DISPLAY_BITMAPPING_TABLE ,value=1 </div>
                </div>
                
                <div class="code-line " id="line-201" data-line="201">
						<div class="line-number" ondblclick="handleLineDoubleClick(201)" oncontextmenu="showLineContextMenu(event, 201)" data-bs-toggle="tooltip" data-bs-original-title="雙擊顯示上下文，右鍵更多選項">
							201
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(201)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(201)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 201)">[20250422_20:51:42:266]:Y: ini_panel_handler name=DISPLAY_PORTAB_SWAP ,value=1 </div>
                </div>
                
            <div class="code-line new-line-highlight" id="line-202" data-line="202">
						<div class="line-number" ondblclick="handleLineDoubleClick(202)" oncontextmenu="showLineContextMenu(event, 202)" title="雙擊顯示上下文，右鍵更多選項">
							202
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(202)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(202)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 202)">[20250422_20:51:42:266]:Y: ini_panel_handler name=DISPLAY_RED_BLUE_SWAP ,value=0 </div>
                </div><div class="code-line new-line-highlight" id="line-203" data-line="203">
						<div class="line-number" ondblclick="handleLineDoubleClick(203)" oncontextmenu="showLineContextMenu(event, 203)" title="雙擊顯示上下文，右鍵更多選項">
							203
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(203)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(203)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 203)">[20250422_20:51:42:266]:Y: ini_panel_handler name=DISPLAY_MSB_LSB_SWAP ,value=0 </div>
                </div><div class="code-line new-line-highlight" id="line-204" data-line="204">
						<div class="line-number" ondblclick="handleLineDoubleClick(204)" oncontextmenu="showLineContextMenu(event, 204)" title="雙擊顯示上下文，右鍵更多選項">
							204
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(204)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(204)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 204)">[20250422_20:51:42:266]:Y: ini_panel_handler name=DISPLAY_SKEW_DATA_OUTPUT ,value=0 </div>
                </div><div class="code-line new-line-highlight" id="line-205" data-line="205">
						<div class="line-number" ondblclick="handleLineDoubleClick(205)" oncontextmenu="showLineContextMenu(event, 205)" title="雙擊顯示上下文，右鍵更多選項">
							205
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(205)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(205)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 205)">[20250422_20:51:42:266]:Y: ini_panel_handler name=DISPLAY_OUTPUT_INVERSE ,value=0 </div>
                </div><div class="code-line new-line-highlight" id="line-206" data-line="206">
						<div class="line-number" ondblclick="handleLineDoubleClick(206)" oncontextmenu="showLineContextMenu(event, 206)" title="雙擊顯示上下文，右鍵更多選項">
							206
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(206)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(206)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 206)">[20250422_20:51:42:266]:Y: ini_panel_handler name=DISPLAY_VERTICAL_SYNC_NORMAL ,value=1 </div>
                </div><div class="code-line new-line-highlight" id="line-207" data-line="207">
						<div class="line-number" ondblclick="handleLineDoubleClick(207)" oncontextmenu="showLineContextMenu(event, 207)" title="雙擊顯示上下文，右鍵更多選項">
							207
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(207)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(207)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 207)">[20250422_20:51:42:266]:Y: ini_panel_handler name=DISPLAY_HORIZONTAL_SYNC_NORMAL ,value=1 </div>
                </div><div class="code-line new-line-highlight" id="line-208" data-line="208">
						<div class="line-number" ondblclick="handleLineDoubleClick(208)" oncontextmenu="showLineContextMenu(event, 208)" title="雙擊顯示上下文，右鍵更多選項">
							208
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(208)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(208)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 208)">[20250422_20:51:42:266]:Y: ini_panel_handler name=DISPLAY_RATIO_4X3 ,value=0 </div>
                </div><div class="code-line new-line-highlight" id="line-209" data-line="209">
						<div class="line-number" ondblclick="handleLineDoubleClick(209)" oncontextmenu="showLineContextMenu(event, 209)" title="雙擊顯示上下文，右鍵更多選項">
							209
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(209)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(209)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 209)">[20250422_20:51:42:266]:Y: ini_panel_handler name=DISPLAY_CLOCK_MAX ,value=600 </div>
                </div><div class="code-line new-line-highlight" id="line-210" data-line="210">
						<div class="line-number" ondblclick="handleLineDoubleClick(210)" oncontextmenu="showLineContextMenu(event, 210)" title="雙擊顯示上下文，右鍵更多選項">
							210
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(210)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(210)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 210)">[20250422_20:51:42:266]:Y: ini_panel_handler name=DISPLAY_CLOCK_MIN ,value=590 </div>
                </div><div class="code-line new-line-highlight" id="line-211" data-line="211">
						<div class="line-number" ondblclick="handleLineDoubleClick(211)" oncontextmenu="showLineContextMenu(event, 211)" title="雙擊顯示上下文，右鍵更多選項">
							211
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(211)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(211)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 211)">[20250422_20:51:42:266]:Y: ini_panel_handler name=DISPLAY_REFRESH_RATE ,value=60 </div>
                </div><div class="code-line new-line-highlight" id="line-212" data-line="212">
						<div class="line-number" ondblclick="handleLineDoubleClick(212)" oncontextmenu="showLineContextMenu(event, 212)" title="雙擊顯示上下文，右鍵更多選項">
							212
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(212)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(212)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 212)">[20250422_20:51:42:266]:Y: ini_panel_handler name=DISPLAY_CLOCK_TYPICAL ,value=594000000 </div>
                </div><div class="code-line new-line-highlight" id="line-213" data-line="213">
						<div class="line-number" ondblclick="handleLineDoubleClick(213)" oncontextmenu="showLineContextMenu(event, 213)" title="雙擊顯示上下文，右鍵更多選項">
							213
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(213)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(213)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 213)">[20250422_20:51:42:266]:Y: ini_panel_handler name=DISP_HORIZONTAL_TOTAL ,value=4400 </div>
                </div><div class="code-line new-line-highlight" id="line-214" data-line="214">
						<div class="line-number" ondblclick="handleLineDoubleClick(214)" oncontextmenu="showLineContextMenu(event, 214)" title="雙擊顯示上下文，右鍵更多選項">
							214
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(214)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(214)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 214)">[20250422_20:51:42:266]:Y: ini_panel_handler name=DISP_VERTICAL_TOTAL ,value=2250 </div>
                </div><div class="code-line new-line-highlight" id="line-215" data-line="215">
						<div class="line-number" ondblclick="handleLineDoubleClick(215)" oncontextmenu="showLineContextMenu(event, 215)" title="雙擊顯示上下文，右鍵更多選項">
							215
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(215)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(215)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 215)">[20250422_20:51:42:266]:Y: ini_panel_handler name=DISP_HSYNC_WIDTH ,value=15 </div>
                </div><div class="code-line new-line-highlight" id="line-216" data-line="216">
						<div class="line-number" ondblclick="handleLineDoubleClick(216)" oncontextmenu="showLineContextMenu(event, 216)" title="雙擊顯示上下文，右鍵更多選項">
							216
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(216)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(216)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 216)">[20250422_20:51:42:266]:Y: ini_panel_handler name=DISP_VSYNC_LENGTH ,value=5 </div>
                </div><div class="code-line new-line-highlight" id="line-217" data-line="217">
						<div class="line-number" ondblclick="handleLineDoubleClick(217)" oncontextmenu="showLineContextMenu(event, 217)" title="雙擊顯示上下文，右鍵更多選項">
							217
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(217)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(217)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 217)">[20250422_20:51:42:266]:Y: ini_panel_handler name=DISP_DEN_STA_HPOS ,value=280 </div>
                </div><div class="code-line new-line-highlight" id="line-218" data-line="218">
						<div class="line-number" ondblclick="handleLineDoubleClick(218)" oncontextmenu="showLineContextMenu(event, 218)" title="雙擊顯示上下文，右鍵更多選項">
							218
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(218)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(218)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 218)">[20250422_20:51:42:266]:Y: ini_panel_handler name=DISP_DEN_END_HPOS ,value=4120 </div>
                </div><div class="code-line new-line-highlight" id="line-219" data-line="219">
						<div class="line-number" ondblclick="handleLineDoubleClick(219)" oncontextmenu="showLineContextMenu(event, 219)" title="雙擊顯示上下文，右鍵更多選項">
							219
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(219)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(219)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 219)">[20250422_20:51:42:266]:Y: ini_panel_handler name=DISP_DEN_STA_VPOS ,value=45 </div>
                </div><div class="code-line new-line-highlight" id="line-220" data-line="220">
						<div class="line-number" ondblclick="handleLineDoubleClick(220)" oncontextmenu="showLineContextMenu(event, 220)" title="雙擊顯示上下文，右鍵更多選項">
							220
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(220)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(220)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 220)">[20250422_20:51:42:266]:Y: ini_panel_handler name=DISP_DEN_END_VPOS ,value=2205 </div>
                </div><div class="code-line new-line-highlight" id="line-221" data-line="221">
						<div class="line-number" ondblclick="handleLineDoubleClick(221)" oncontextmenu="showLineContextMenu(event, 221)" title="雙擊顯示上下文，右鍵更多選項">
							221
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(221)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(221)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 221)">[20250422_20:51:42:266]:Y: ini_panel_handler name=DISP_ACT_STA_HPOS ,value=0 </div>
                </div><div class="code-line new-line-highlight" id="line-222" data-line="222">
						<div class="line-number" ondblclick="handleLineDoubleClick(222)" oncontextmenu="showLineContextMenu(event, 222)" title="雙擊顯示上下文，右鍵更多選項">
							222
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(222)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(222)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 222)">[20250422_20:51:42:266]:Y: ini_panel_handler name=DISP_ACT_END_HPOS ,value=3840 </div>
                </div><div class="code-line new-line-highlight" id="line-223" data-line="223">
						<div class="line-number" ondblclick="handleLineDoubleClick(223)" oncontextmenu="showLineContextMenu(event, 223)" title="雙擊顯示上下文，右鍵更多選項">
							223
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(223)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(223)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 223)">[20250422_20:51:42:266]:Y: ini_panel_handler name=DISP_ACT_STA_VPOS ,value=0 </div>
                </div><div class="code-line new-line-highlight" id="line-224" data-line="224">
						<div class="line-number" ondblclick="handleLineDoubleClick(224)" oncontextmenu="showLineContextMenu(event, 224)" title="雙擊顯示上下文，右鍵更多選項">
							224
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(224)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(224)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 224)">[20250422_20:51:42:266]:Y: ini_panel_handler name=DISP_ACT_END_VPOS ,value=2160 </div>
                </div><div class="code-line new-line-highlight" id="line-225" data-line="225">
						<div class="line-number" ondblclick="handleLineDoubleClick(225)" oncontextmenu="showLineContextMenu(event, 225)" title="雙擊顯示上下文，右鍵更多選項">
							225
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(225)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(225)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 225)">[20250422_20:51:42:266]:Y: ini_panel_handler name=DISP_HSYNC_LASTLINE ,value=4400 </div>
                </div><div class="code-line new-line-highlight" id="line-226" data-line="226">
						<div class="line-number" ondblclick="handleLineDoubleClick(226)" oncontextmenu="showLineContextMenu(event, 226)" title="雙擊顯示上下文，右鍵更多選項">
							226
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(226)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(226)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 226)">[20250422_20:51:42:266]:Y: ini_panel_handler name=DISP_DCLK_DELAY ,value=0 </div>
                </div><div class="code-line new-line-highlight" id="line-227" data-line="227">
						<div class="line-number" ondblclick="handleLineDoubleClick(227)" oncontextmenu="showLineContextMenu(event, 227)" title="雙擊顯示上下文，右鍵更多選項">
							227
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(227)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(227)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 227)">[20250422_20:51:42:266]:Y: ini_panel_handler name=DISP_ACT_STA_BIOS ,value=0 </div>
                </div><div class="code-line new-line-highlight" id="line-228" data-line="228">
						<div class="line-number" ondblclick="handleLineDoubleClick(228)" oncontextmenu="showLineContextMenu(event, 228)" title="雙擊顯示上下文，右鍵更多選項">
							228
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(228)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(228)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 228)">[20250422_20:51:42:266]:Y: ini_panel_handler name=DEFAULT_DPLL_M_DIVIDER ,value=178 </div>
                </div><div class="code-line new-line-highlight" id="line-229" data-line="229">
						<div class="line-number" ondblclick="handleLineDoubleClick(229)" oncontextmenu="showLineContextMenu(event, 229)" title="雙擊顯示上下文，右鍵更多選項">
							229
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(229)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(229)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 229)">[20250422_20:51:42:266]:Y: ini_panel_handler name=DEFAULT_DPLL_N_DIVIDER ,value=24 </div>
                </div><div class="code-line new-line-highlight" id="line-230" data-line="230">
						<div class="line-number" ondblclick="handleLineDoubleClick(230)" oncontextmenu="showLineContextMenu(event, 230)" title="雙擊顯示上下文，右鍵更多選項">
							230
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(230)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(230)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 230)">[20250422_20:51:42:266]:Y: ini_panel_handler name=PANEL_TO_LVDS_ON_ms ,value=10 </div>
                </div><div class="code-line new-line-highlight" id="line-231" data-line="231">
						<div class="line-number" ondblclick="handleLineDoubleClick(231)" oncontextmenu="showLineContextMenu(event, 231)" title="雙擊顯示上下文，右鍵更多選項">
							231
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(231)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(231)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 231)">[20250422_20:51:42:266]:Y: ini_panel_handler name=LVDS_TO_LIGHT_ON_ms ,value=10 </div>
                </div><div class="code-line new-line-highlight" id="line-232" data-line="232">
						<div class="line-number" ondblclick="handleLineDoubleClick(232)" oncontextmenu="showLineContextMenu(event, 232)" title="雙擊顯示上下文，右鍵更多選項">
							232
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(232)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(232)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 232)">[20250422_20:51:42:266]:Y: ini_panel_handler name=LIGHT_TO_LDVS_OFF_ms ,value=200 </div>
                </div><div class="code-line new-line-highlight" id="line-233" data-line="233">
						<div class="line-number" ondblclick="handleLineDoubleClick(233)" oncontextmenu="showLineContextMenu(event, 233)" title="雙擊顯示上下文，右鍵更多選項">
							233
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(233)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(233)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 233)">[20250422_20:51:42:266]:Y: ini_panel_handler name=LVDS_TO_PANEL_OFF_ms ,value=40 </div>
                </div><div class="code-line new-line-highlight" id="line-234" data-line="234">
						<div class="line-number" ondblclick="handleLineDoubleClick(234)" oncontextmenu="showLineContextMenu(event, 234)" title="雙擊顯示上下文，右鍵更多選項">
							234
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(234)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(234)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 234)">[20250422_20:51:42:266]:Y: ini_panel_handler name=PANEL_OFF_TO_ON_ms ,value=1200 </div>
                </div><div class="code-line new-line-highlight" id="line-235" data-line="235">
						<div class="line-number" ondblclick="handleLineDoubleClick(235)" oncontextmenu="showLineContextMenu(event, 235)" title="雙擊顯示上下文，右鍵更多選項">
							235
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(235)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(235)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 235)">[20250422_20:51:42:266]:Y: ini_panel_handler name=BACKLIGHT_PWM_FREQ ,value=300 </div>
                </div><div class="code-line new-line-highlight" id="line-236" data-line="236">
						<div class="line-number" ondblclick="handleLineDoubleClick(236)" oncontextmenu="showLineContextMenu(event, 236)" title="雙擊顯示上下文，右鍵更多選項">
							236
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(236)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(236)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 236)">[20250422_20:51:42:266]:Y: ini_panel_handler name=BACKLIGHT_PWM_DUTY ,value=255 </div>
                </div><div class="code-line new-line-highlight" id="line-237" data-line="237">
						<div class="line-number" ondblclick="handleLineDoubleClick(237)" oncontextmenu="showLineContextMenu(event, 237)" title="雙擊顯示上下文，右鍵更多選項">
							237
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(237)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(237)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 237)">[20250422_20:51:42:266]:Y: ini_panel_handler name=BACKLIGHT_PWM_INVERT ,value=0 </div>
                </div><div class="code-line new-line-highlight" id="line-238" data-line="238">
						<div class="line-number" ondblclick="handleLineDoubleClick(238)" oncontextmenu="showLineContextMenu(event, 238)" title="雙擊顯示上下文，右鍵更多選項">
							238
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(238)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(238)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 238)">[20250422_20:51:42:266]:Y: ini_panel_handler name=BACKLIGHT_ENABLE_INVERT ,value=0 </div>
                </div><div class="code-line new-line-highlight" id="line-239" data-line="239">
						<div class="line-number" ondblclick="handleLineDoubleClick(239)" oncontextmenu="showLineContextMenu(event, 239)" title="雙擊顯示上下文，右鍵更多選項">
							239
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(239)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(239)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 239)">[20250422_20:51:42:266]:Y: ini_panel_handler name=BACKLIGHT_PWM_MIN ,value=77 </div>
                </div><div class="code-line new-line-highlight" id="line-240" data-line="240">
						<div class="line-number" ondblclick="handleLineDoubleClick(240)" oncontextmenu="showLineContextMenu(event, 240)" title="雙擊顯示上下文，右鍵更多選項">
							240
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(240)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(240)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 240)">[20250422_20:51:42:266] ini_parse error! </div>
                </div><div class="code-line new-line-highlight" id="line-241" data-line="241">
						<div class="line-number" ondblclick="handleLineDoubleClick(241)" oncontextmenu="showLineContextMenu(event, 241)" title="雙擊顯示上下文，右鍵更多選項">
							241
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(241)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(241)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 241)">[20250422_20:51:42:266]&lt;&lt;name=BACKLIGHT_PWM_MIN,value =77&gt; </div>
                </div><div class="code-line new-line-highlight" id="line-242" data-line="242">
						<div class="line-number" ondblclick="handleLineDoubleClick(242)" oncontextmenu="showLineContextMenu(event, 242)" title="雙擊顯示上下文，右鍵更多選項">
							242
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(242)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(242)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 242)">[20250422_20:51:42:266]:Y: handler error=62 ,lineno=62 </div>
                </div><div class="code-line new-line-highlight" id="line-243" data-line="243">
						<div class="line-number" ondblclick="handleLineDoubleClick(243)" oncontextmenu="showLineContextMenu(event, 243)" title="雙擊顯示上下文，右鍵更多選項">
							243
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(243)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(243)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 243)">[20250422_20:51:42:266]:Y: ini_panel_handler name=BACKLIGHT_PWM_MAX ,value=255 </div>
                </div><div class="code-line new-line-highlight" id="line-244" data-line="244">
						<div class="line-number" ondblclick="handleLineDoubleClick(244)" oncontextmenu="showLineContextMenu(event, 244)" title="雙擊顯示上下文，右鍵更多選項">
							244
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(244)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(244)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 244)">[20250422_20:51:42:266] ini_parse error! </div>
                </div><div class="code-line new-line-highlight" id="line-245" data-line="245">
						<div class="line-number" ondblclick="handleLineDoubleClick(245)" oncontextmenu="showLineContextMenu(event, 245)" title="雙擊顯示上下文，右鍵更多選項">
							245
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(245)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(245)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 245)">[20250422_20:51:42:266]&lt;&lt;name=BACKLIGHT_PWM_MAX,value =255&gt; </div>
                </div><div class="code-line new-line-highlight" id="line-246" data-line="246">
						<div class="line-number" ondblclick="handleLineDoubleClick(246)" oncontextmenu="showLineContextMenu(event, 246)" title="雙擊顯示上下文，右鍵更多選項">
							246
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(246)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(246)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 246)">[20250422_20:51:42:266]:Y: ini_panel_handler name=FIX_LAST_LINE_ENABLE ,value=0 </div>
                </div><div class="code-line new-line-highlight" id="line-247" data-line="247">
						<div class="line-number" ondblclick="handleLineDoubleClick(247)" oncontextmenu="showLineContextMenu(event, 247)" title="雙擊顯示上下文，右鍵更多選項">
							247
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(247)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(247)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 247)">[20250422_20:51:42:266]:Y: ini_panel_handler name=FIX_LAST_LINE_4X_ENABLE ,value=0 </div>
                </div><div class="code-line new-line-highlight" id="line-248" data-line="248">
						<div class="line-number" ondblclick="handleLineDoubleClick(248)" oncontextmenu="showLineContextMenu(event, 248)" title="雙擊顯示上下文，右鍵更多選項">
							248
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(248)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(248)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 248)">[20250422_20:51:42:266]:Y: ini_panel_handler name=VFLIP ,value=0 </div>
                </div><div class="code-line new-line-highlight" id="line-249" data-line="249">
						<div class="line-number" ondblclick="handleLineDoubleClick(249)" oncontextmenu="showLineContextMenu(event, 249)" title="雙擊顯示上下文，右鍵更多選項">
							249
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(249)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(249)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 249)">[20250422_20:51:42:266]:Y: ini_panel_handler name=PICASSO_CONTROL_ON ,value=0 </div>
                </div><div class="code-line new-line-highlight" id="line-250" data-line="250">
						<div class="line-number" ondblclick="handleLineDoubleClick(250)" oncontextmenu="showLineContextMenu(event, 250)" title="雙擊顯示上下文，右鍵更多選項">
							250
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(250)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(250)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 250)">[20250422_20:51:42:266]:Y: ini_panel_handler name=3D_DISPLAY_SUPPORT ,value=0 </div>
                </div><div class="code-line new-line-highlight" id="line-251" data-line="251">
						<div class="line-number" ondblclick="handleLineDoubleClick(251)" oncontextmenu="showLineContextMenu(event, 251)" title="雙擊顯示上下文，右鍵更多選項">
							251
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(251)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(251)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 251)">[20250422_20:51:42:266]:Y: ini_panel_handler name=3D_LINE_ALTERNATIVE_SUPPORT ,value=0 </div>
                </div><div class="code-line new-line-highlight" id="line-252" data-line="252">
						<div class="line-number" ondblclick="handleLineDoubleClick(252)" oncontextmenu="showLineContextMenu(event, 252)" title="雙擊顯示上下文，右鍵更多選項">
							252
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(252)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(252)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 252)">[20250422_20:51:42:266]:Y: ini_panel_handler name=3D_PR_OUTPUT_LR_SWAP ,value=0 </div>
                </div><div class="code-line new-line-highlight" id="line-253" data-line="253">
						<div class="line-number" ondblclick="handleLineDoubleClick(253)" oncontextmenu="showLineContextMenu(event, 253)" title="雙擊顯示上下文，右鍵更多選項">
							253
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(253)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(253)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 253)">[20250422_20:51:42:266]:Y: ini_panel_handler name=3D_SG_OUTPUT_120HZ_ON ,value=0 </div>
                </div><div class="code-line new-line-highlight" id="line-254" data-line="254">
						<div class="line-number" ondblclick="handleLineDoubleClick(254)" oncontextmenu="showLineContextMenu(event, 254)" title="雙擊顯示上下文，右鍵更多選項">
							254
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(254)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(254)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 254)">[20250422_20:51:42:266]:Y: ini_panel_handler name=3D_SG_24HZ_OUTPUT_FHD_ON ,value=0 </div>
                </div><div class="code-line new-line-highlight" id="line-255" data-line="255">
						<div class="line-number" ondblclick="handleLineDoubleClick(255)" oncontextmenu="showLineContextMenu(event, 255)" title="雙擊顯示上下文，右鍵更多選項">
							255
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(255)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(255)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 255)">[20250422_20:51:42:266]:Y: ini_panel_handler name=SCALER_2D_3D_CVT_HWSHIFT_ENABLE ,value=0 </div>
                </div><div class="code-line new-line-highlight" id="line-256" data-line="256">
						<div class="line-number" ondblclick="handleLineDoubleClick(256)" oncontextmenu="showLineContextMenu(event, 256)" title="雙擊顯示上下文，右鍵更多選項">
							256
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(256)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(256)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 256)">[20250422_20:51:42:266]:Y: ini_panel_handler name=DISP_VERTICAL_TOTAL_50Hz_MIN ,value=2647 </div>
                </div><div class="code-line new-line-highlight" id="line-257" data-line="257">
						<div class="line-number" ondblclick="handleLineDoubleClick(257)" oncontextmenu="showLineContextMenu(event, 257)" title="雙擊顯示上下文，右鍵更多選項">
							257
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(257)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(257)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 257)">[20250422_20:51:42:266]:Y: ini_panel_handler name=DISP_VERTICAL_TOTAL_50Hz_MAX ,value=2812 </div>
                </div><div class="code-line new-line-highlight" id="line-258" data-line="258">
						<div class="line-number" ondblclick="handleLineDoubleClick(258)" oncontextmenu="showLineContextMenu(event, 258)" title="雙擊顯示上下文，右鍵更多選項">
							258
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(258)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(258)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 258)">[20250422_20:51:42:266]:Y: ini_panel_handler name=DISP_VERTICAL_TOTAL_60Hz_MIN ,value=2213 </div>
                </div><div class="code-line new-line-highlight" id="line-259" data-line="259">
						<div class="line-number" ondblclick="handleLineDoubleClick(259)" oncontextmenu="showLineContextMenu(event, 259)" title="雙擊顯示上下文，右鍵更多選項">
							259
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(259)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(259)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 259)">[20250422_20:51:42:266]:Y: ini_panel_handler name=DISP_VERTICAL_TOTAL_60Hz_MAX ,value=2288 </div>
                </div><div class="code-line new-line-highlight" id="line-260" data-line="260">
						<div class="line-number" ondblclick="handleLineDoubleClick(260)" oncontextmenu="showLineContextMenu(event, 260)" title="雙擊顯示上下文，右鍵更多選項">
							260
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(260)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(260)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 260)">[20250422_20:51:42:266]:Y: ini_panel_handler name=LVDS_4_PORTS_INDEX ,value=0 </div>
                </div><div class="code-line new-line-highlight" id="line-261" data-line="261">
						<div class="line-number" ondblclick="handleLineDoubleClick(261)" oncontextmenu="showLineContextMenu(event, 261)" title="雙擊顯示上下文，右鍵更多選項">
							261
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(261)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(261)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 261)">[20250422_20:51:42:266]:Y: ini_panel_handler name=LVDS_PN_SWAP ,value=0 </div>
                </div><div class="code-line new-line-highlight" id="line-262" data-line="262">
						<div class="line-number" ondblclick="handleLineDoubleClick(262)" oncontextmenu="showLineContextMenu(event, 262)" title="雙擊顯示上下文，右鍵更多選項">
							262
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(262)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(262)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 262)">[20250422_20:51:42:266]:Y: ini_panel_handler name=LVDS_MIRROR ,value=0 </div>
                </div><div class="code-line new-line-highlight" id="line-263" data-line="263">
						<div class="line-number" ondblclick="handleLineDoubleClick(263)" oncontextmenu="showLineContextMenu(event, 263)" title="雙擊顯示上下文，右鍵更多選項">
							263
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(263)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(263)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 263)">[20250422_20:51:42:440]:Y: ini_panel_handler name=DISPLAY_PORT_CONFIG1 ,value=19088743 </div>
                </div><div class="code-line new-line-highlight" id="line-264" data-line="264">
						<div class="line-number" ondblclick="handleLineDoubleClick(264)" oncontextmenu="showLineContextMenu(event, 264)" title="雙擊顯示上下文，右鍵更多選項">
							264
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(264)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(264)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 264)">[20250422_20:51:42:440]:Y: ini_panel_handler name=DISPLAY_PORT_CONFIG2 ,value=19088743 </div>
                </div><div class="code-line new-line-highlight" id="line-265" data-line="265">
						<div class="line-number" ondblclick="handleLineDoubleClick(265)" oncontextmenu="showLineContextMenu(event, 265)" title="雙擊顯示上下文，右鍵更多選項">
							265
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(265)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(265)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 265)">[20250422_20:51:42:440]:Y: ini_panel_handler name=SR_MODE ,value=0 </div>
                </div><div class="code-line new-line-highlight" id="line-266" data-line="266">
						<div class="line-number" ondblclick="handleLineDoubleClick(266)" oncontextmenu="showLineContextMenu(event, 266)" title="雙擊顯示上下文，右鍵更多選項">
							266
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(266)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(266)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 266)">[20250422_20:51:42:440]:Y: ini_panel_handler name=SR_PIXEL_MODE ,value=0 </div>
                </div><div class="code-line new-line-highlight" id="line-267" data-line="267">
						<div class="line-number" ondblclick="handleLineDoubleClick(267)" oncontextmenu="showLineContextMenu(event, 267)" title="雙擊顯示上下文，右鍵更多選項">
							267
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(267)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(267)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 267)">[20250422_20:51:42:440]:Y: ini_panel_handler name=SFG_SEG_NUM ,value=1 </div>
                </div><div class="code-line new-line-highlight" id="line-268" data-line="268">
						<div class="line-number" ondblclick="handleLineDoubleClick(268)" oncontextmenu="showLineContextMenu(event, 268)" title="雙擊顯示上下文，右鍵更多選項">
							268
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(268)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(268)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 268)">[20250422_20:51:42:440]:Y: ini_panel_handler name=SFG_PORT_NUM ,value=8 </div>
                </div><div class="code-line new-line-highlight" id="line-269" data-line="269">
						<div class="line-number" ondblclick="handleLineDoubleClick(269)" oncontextmenu="showLineContextMenu(event, 269)" title="雙擊顯示上下文，右鍵更多選項">
							269
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(269)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(269)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 269)">[20250422_20:51:42:440]:Y: ini_panel_handler name=PANEL_TYPE ,value=1 </div>
                </div><div class="code-line new-line-highlight" id="line-270" data-line="270">
						<div class="line-number" ondblclick="handleLineDoubleClick(270)" oncontextmenu="showLineContextMenu(event, 270)" title="雙擊顯示上下文，右鍵更多選項">
							270
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(270)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(270)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 270)">[20250422_20:51:42:440]:Y: ini_panel_handler name=PANEL_CUSTOM_INDEX ,value=2 </div>
                </div><div class="code-line new-line-highlight" id="line-271" data-line="271">
						<div class="line-number" ondblclick="handleLineDoubleClick(271)" oncontextmenu="showLineContextMenu(event, 271)" title="雙擊顯示上下文，右鍵更多選項">
							271
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(271)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(271)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 271)">[20250422_20:51:42:440]:Y: ini_panel_handler name=3D_DISPLAY_TIMING ,value=0 </div>
                </div><div class="code-line new-line-highlight" id="line-272" data-line="272">
						<div class="line-number" ondblclick="handleLineDoubleClick(272)" oncontextmenu="showLineContextMenu(event, 272)" title="雙擊顯示上下文，右鍵更多選項">
							272
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(272)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(272)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 272)">[20250422_20:51:42:440]:Y: ini_panel_handler name=CUSTOMER_PANEL_ID ,value=0 </div>
                </div><div class="code-line new-line-highlight" id="line-273" data-line="273">
						<div class="line-number" ondblclick="handleLineDoubleClick(273)" oncontextmenu="showLineContextMenu(event, 273)" title="雙擊顯示上下文，右鍵更多選項">
							273
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(273)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(273)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 273)">[20250422_20:51:42:440]:Y: ini_panel_handler name=DISP_PANEL_NAME ,value=VBY1_HV550QUB_F70_boe_4K2K_60hz </div>
                </div><div class="code-line new-line-highlight" id="line-274" data-line="274">
						<div class="line-number" ondblclick="handleLineDoubleClick(274)" oncontextmenu="showLineContextMenu(event, 274)" title="雙擊顯示上下文，右鍵更多選項">
							274
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(274)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(274)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 274)">[20250422_20:51:42:440]:Y: ini_panel_handler name=PANEL_WIDTH_MM ,value=1209 </div>
                </div><div class="code-line new-line-highlight" id="line-275" data-line="275">
						<div class="line-number" ondblclick="handleLineDoubleClick(275)" oncontextmenu="showLineContextMenu(event, 275)" title="雙擊顯示上下文，右鍵更多選項">
							275
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(275)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(275)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 275)">[20250422_20:51:42:440]:Y: ini_panel_handler name=PANEL_HEIGHT_MM ,value=680 </div>
                </div><div class="code-line new-line-highlight" id="line-276" data-line="276">
						<div class="line-number" ondblclick="handleLineDoubleClick(276)" oncontextmenu="showLineContextMenu(event, 276)" title="雙擊顯示上下文，右鍵更多選項">
							276
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(276)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(276)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 276)">[20250422_20:51:42:440]:ERROR:--------is not find tmp/factory/bin_panel/rtkPanel_tmp.ini, no need to change original ini file</div>
                </div><div class="code-line new-line-highlight" id="line-277" data-line="277">
						<div class="line-number" ondblclick="handleLineDoubleClick(277)" oncontextmenu="showLineContextMenu(event, 277)" title="雙擊顯示上下文，右鍵更多選項">
							277
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(277)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(277)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 277)">[20250422_20:51:42:440]:Y: from ini ok</div>
                </div><div class="code-line new-line-highlight" id="line-278" data-line="278">
						<div class="line-number" ondblclick="handleLineDoubleClick(278)" oncontextmenu="showLineContextMenu(event, 278)" title="雙擊顯示上下文，右鍵更多選項">
							278
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(278)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(278)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 278)">[20250422_20:51:42:440]No match pq file exist!no tmp/factory/bin_panel/PanelParam/vip_default_pq.bin no tmp/factory/bin_panel/PanelParam/vip_RTK_4K2K_VBY1_1Seg8Port_pq.bin</div>
                </div><div class="code-line new-line-highlight" id="line-279" data-line="279">
						<div class="line-number" ondblclick="handleLineDoubleClick(279)" oncontextmenu="showLineContextMenu(event, 279)" title="雙擊顯示上下文，右鍵更多選項">
							279
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(279)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(279)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 279)">[20250422_20:51:42:440]No match pq file at factory!</div>
                </div><div class="code-line new-line-highlight" id="line-280" data-line="280">
						<div class="line-number" ondblclick="handleLineDoubleClick(280)" oncontextmenu="showLineContextMenu(event, 280)" title="雙擊顯示上下文，右鍵更多選項">
							280
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(280)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(280)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 280)">[20250422_20:51:42:440][set_panel_info_for_videofw]-&gt; iCONFIG_DISPLAY_CLOCK_TYPICAL: 80b86723</div>
                </div><div class="code-line new-line-highlight" id="line-281" data-line="281">
						<div class="line-number" ondblclick="handleLineDoubleClick(281)" oncontextmenu="showLineContextMenu(event, 281)" title="雙擊顯示上下文，右鍵更多選項">
							281
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(281)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(281)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 281)">[20250422_20:51:42:440][set_panel_info_for_videofw]-&gt; iCONFIG_DISPLAY_REFRESH_RATE: 3c</div>
                </div><div class="code-line new-line-highlight" id="line-282" data-line="282">
						<div class="line-number" ondblclick="handleLineDoubleClick(282)" oncontextmenu="showLineContextMenu(event, 282)" title="雙擊顯示上下文，右鍵更多選項">
							282
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(282)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(282)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 282)">[20250422_20:51:42:440][set_panel_info_for_videofw]-&gt; iCONFIG_DISP_HORIZONTAL_TOTAL: 3011</div>
                </div><div class="code-line new-line-highlight" id="line-283" data-line="283">
						<div class="line-number" ondblclick="handleLineDoubleClick(283)" oncontextmenu="showLineContextMenu(event, 283)" title="雙擊顯示上下文，右鍵更多選項">
							283
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(283)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(283)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 283)">[20250422_20:51:42:440][set_panel_info_for_videofw]-&gt; iCONFIG_DISP_VERTICAL_TOTAL: ca08</div>
                </div><div class="code-line new-line-highlight" id="line-284" data-line="284">
						<div class="line-number" ondblclick="handleLineDoubleClick(284)" oncontextmenu="showLineContextMenu(event, 284)" title="雙擊顯示上下文，右鍵更多選項">
							284
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(284)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(284)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 284)">[20250422_20:51:42:440][set_panel_info_for_videofw]-&gt; iCONFIG_DISP_DEN_STA_HPOS: 1801</div>
                </div><div class="code-line new-line-highlight" id="line-285" data-line="285">
						<div class="line-number" ondblclick="handleLineDoubleClick(285)" oncontextmenu="showLineContextMenu(event, 285)" title="雙擊顯示上下文，右鍵更多選項">
							285
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(285)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(285)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 285)">[20250422_20:51:42:440][set_panel_info_for_videofw]-&gt; iCONFIG_DISP_DEN_END_HPOS: 1810</div>
                </div><div class="code-line new-line-highlight" id="line-286" data-line="286">
						<div class="line-number" ondblclick="handleLineDoubleClick(286)" oncontextmenu="showLineContextMenu(event, 286)" title="雙擊顯示上下文，右鍵更多選項">
							286
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(286)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(286)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 286)">[20250422_20:51:42:440][set_panel_info_for_videofw]-&gt; iCONFIG_DISP_DEN_STA_VPOS: 2d00</div>
                </div><div class="code-line new-line-highlight" id="line-287" data-line="287">
						<div class="line-number" ondblclick="handleLineDoubleClick(287)" oncontextmenu="showLineContextMenu(event, 287)" title="雙擊顯示上下文，右鍵更多選項">
							287
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(287)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(287)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 287)">[20250422_20:51:42:440][set_panel_info_for_videofw]-&gt; iCONFIG_DISP_DEN_END_VPOS: 9d08</div>
                </div><div class="code-line new-line-highlight" id="line-288" data-line="288">
						<div class="line-number" ondblclick="handleLineDoubleClick(288)" oncontextmenu="showLineContextMenu(event, 288)" title="雙擊顯示上下文，右鍵更多選項">
							288
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(288)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(288)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 288)">[20250422_20:51:42:440]</div>
                </div><div class="code-line new-line-highlight" id="line-289" data-line="289">
						<div class="line-number" ondblclick="handleLineDoubleClick(289)" oncontextmenu="showLineContextMenu(event, 289)" title="雙擊顯示上下文，右鍵更多選項">
							289
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(289)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(289)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 289)">[20250422_20:51:42:440]&lt;&lt;&lt;&lt;&lt;&lt;Panel: VBY1_HV550QUB_F70_boe_4K2K_60hz&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;</div>
                </div><div class="code-line new-line-highlight" id="line-290" data-line="290">
						<div class="line-number" ondblclick="handleLineDoubleClick(290)" oncontextmenu="showLineContextMenu(event, 290)" title="雙擊顯示上下文，右鍵更多選項">
							290
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(290)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(290)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 290)">[20250422_20:51:42:456]</div>
                </div><div class="code-line new-line-highlight" id="line-291" data-line="291">
						<div class="line-number" ondblclick="handleLineDoubleClick(291)" oncontextmenu="showLineContextMenu(event, 291)" title="雙擊顯示上下文，右鍵更多選項">
							291
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(291)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(291)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 291)">[20250422_20:51:42:456]&lt;&lt;&lt;&lt;&lt;&lt;parameter_len: 180 &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;</div>
                </div><div class="code-line new-line-highlight" id="line-292" data-line="292">
						<div class="line-number" ondblclick="handleLineDoubleClick(292)" oncontextmenu="showLineContextMenu(event, 292)" title="雙擊顯示上下文，右鍵更多選項">
							292
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(292)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(292)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 292)">[20250422_20:51:42:456][WARN] para_no is 36 &gt; 32. Clear more pcb_parameter env.</div>
                </div><div class="code-line new-line-highlight" id="line-293" data-line="293">
						<div class="line-number" ondblclick="handleLineDoubleClick(293)" oncontextmenu="showLineContextMenu(event, 293)" title="雙擊顯示上下文，右鍵更多選項">
							293
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(293)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(293)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 293)">[20250422_20:51:42:456][ENV] Writing to Factory... </div>
                </div><div class="code-line new-line-highlight" id="line-294" data-line="294">
						<div class="line-number" ondblclick="handleLineDoubleClick(294)" oncontextmenu="showLineContextMenu(event, 294)" title="雙擊顯示上下文，右鍵更多選項">
							294
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(294)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(294)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 294)">[20250422_20:51:42:456]Journal Scan Completed</div>
                </div><div class="code-line new-line-highlight" id="line-295" data-line="295">
						<div class="line-number" ondblclick="handleLineDoubleClick(295)" oncontextmenu="showLineContextMenu(event, 295)" title="雙擊顯示上下文，右鍵更多選項">
							295
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(295)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(295)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 295)">[20250422_20:51:42:456]Recovery required</div>
                </div><div class="code-line new-line-highlight" id="line-296" data-line="296">
						<div class="line-number" ondblclick="handleLineDoubleClick(296)" oncontextmenu="showLineContextMenu(event, 296)" title="雙擊顯示上下文，右鍵更多選項">
							296
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(296)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(296)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 296)">[20250422_20:51:42:456]Journal Recovery Completed</div>
                </div><div class="code-line new-line-highlight" id="line-297" data-line="297">
						<div class="line-number" ondblclick="handleLineDoubleClick(297)" oncontextmenu="showLineContextMenu(event, 297)" title="雙擊顯示上下文，右鍵更多選項">
							297
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(297)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(297)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 297)">[20250422_20:51:42:553]done</div>
                </div><div class="code-line new-line-highlight" id="line-298" data-line="298">
						<div class="line-number" ondblclick="handleLineDoubleClick(298)" oncontextmenu="showLineContextMenu(event, 298)" title="雙擊顯示上下文，右鍵更多選項">
							298
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(298)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(298)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 298)">[20250422_20:51:42:553][irda][RO][customer] tmp/factory_ro/ir_table_rtk_Konka_GTV.bin</div>
                </div><div class="code-line new-line-highlight" id="line-299" data-line="299">
						<div class="line-number" ondblclick="handleLineDoubleClick(299)" oncontextmenu="showLineContextMenu(event, 299)" title="雙擊顯示上下文，右鍵更多選項">
							299
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(299)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(299)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 299)">[20250422_20:51:42:677]clear ir sr main1: 100000</div>
                </div><div class="code-line new-line-highlight" id="line-300" data-line="300">
						<div class="line-number" ondblclick="handleLineDoubleClick(300)" oncontextmenu="showLineContextMenu(event, 300)" title="雙擊顯示上下文，右鍵更多選項">
							300
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(300)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(300)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 300)">[20250422_20:51:42:978]clear ir sr main1: 100000</div>
                </div><div class="code-line new-line-highlight" id="line-301" data-line="301">
						<div class="line-number" ondblclick="handleLineDoubleClick(301)" oncontextmenu="showLineContextMenu(event, 301)" title="雙擊顯示上下文，右鍵更多選項">
							301
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(301)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(301)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 301)">[20250422_20:51:43:295]clear ir sr main1: 100000</div>
                </div><div class="code-line new-line-highlight" id="line-302" data-line="302">
						<div class="line-number" ondblclick="handleLineDoubleClick(302)" oncontextmenu="showLineContextMenu(event, 302)" title="雙擊顯示上下文，右鍵更多選項">
							302
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(302)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(302)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 302)">[20250422_20:51:43:627]clear ir sr main1: 100000</div>
                </div><div class="code-line new-line-highlight" id="line-303" data-line="303">
						<div class="line-number" ondblclick="handleLineDoubleClick(303)" oncontextmenu="showLineContextMenu(event, 303)" title="雙擊顯示上下文，右鍵更多選項">
							303
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(303)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(303)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 303)">[20250422_20:51:43:627][get_layout:974]!</div>
                </div><div class="code-line new-line-highlight" id="line-304" data-line="304">
						<div class="line-number" ondblclick="handleLineDoubleClick(304)" oncontextmenu="showLineContextMenu(event, 304)" title="雙擊顯示上下文，右鍵更多選項">
							304
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(304)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(304)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 304)">[20250422_20:51:43:668]misc partition offset 0x36c5f7e00 size 0x100000 mount_dev /dev/block/mmcblk0p25</div>
                </div><div class="code-line new-line-highlight" id="line-305" data-line="305">
						<div class="line-number" ondblclick="handleLineDoubleClick(305)" oncontextmenu="showLineContextMenu(event, 305)" title="雙擊顯示上下文，右鍵更多選項">
							305
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(305)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(305)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 305)">[20250422_20:51:43:668]boot_part value = 0 boot_tag value = 21 </div>
                </div><div class="code-line new-line-highlight" id="line-306" data-line="306">
						<div class="line-number" ondblclick="handleLineDoubleClick(306)" oncontextmenu="showLineContextMenu(event, 306)" title="雙擊顯示上下文，右鍵更多選項">
							306
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(306)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(306)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 306)">[20250422_20:51:43:668][get_oemkey] 1105: get oem.key = ATV00105525 </div>
                </div><div class="code-line new-line-highlight" id="line-307" data-line="307">
						<div class="line-number" ondblclick="handleLineDoubleClick(307)" oncontextmenu="showLineContextMenu(event, 307)" title="雙擊顯示上下文，右鍵更多選項">
							307
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(307)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(307)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 307)">[20250422_20:51:43:668][EXT4] factory_ro_buffer:41000000, factory_ro_buffer size:0x1000000!</div>
                </div><div class="code-line new-line-highlight" id="line-308" data-line="308">
						<div class="line-number" ondblclick="handleLineDoubleClick(308)" oncontextmenu="showLineContextMenu(event, 308)" title="雙擊顯示上下文，右鍵更多選項">
							308
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(308)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(308)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 308)">[20250422_20:51:43:668]Partiton factory_ro_a located at 0:6 </div>
                </div><div class="code-line new-line-highlight" id="line-309" data-line="309">
						<div class="line-number" ondblclick="handleLineDoubleClick(309)" oncontextmenu="showLineContextMenu(event, 309)" title="雙擊顯示上下文，右鍵更多選項">
							309
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(309)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(309)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 309)">[20250422_20:51:43:668]factory_ro_a partition can not find /.000@bk@***!</div>
                </div><div class="code-line new-line-highlight" id="line-310" data-line="310">
						<div class="line-number" ondblclick="handleLineDoubleClick(310)" oncontextmenu="showLineContextMenu(event, 310)" title="雙擊顯示上下文，右鍵更多選項">
							310
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(310)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(310)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 310)">[20250422_20:51:43:668]Factory RO no need recovery!</div>
                </div><div class="code-line new-line-highlight" id="line-311" data-line="311">
						<div class="line-number" ondblclick="handleLineDoubleClick(311)" oncontextmenu="showLineContextMenu(event, 311)" title="雙擊顯示上下文，右鍵更多選項">
							311
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(311)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(311)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 311)">[20250422_20:51:43:668]cannot find PcbPath from ini file</div>
                </div><div class="code-line new-line-highlight" id="line-312" data-line="312">
						<div class="line-number" ondblclick="handleLineDoubleClick(312)" oncontextmenu="showLineContextMenu(event, 312)" title="雙擊顯示上下文，右鍵更多選項">
							312
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(312)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(312)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 312)">[20250422_20:51:43:668]no pcb.config in tvconfigs</div>
                </div><div class="code-line new-line-highlight" id="line-313" data-line="313">
						<div class="line-number" ondblclick="handleLineDoubleClick(313)" oncontextmenu="showLineContextMenu(event, 313)" title="雙擊顯示上下文，右鍵更多選項">
							313
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(313)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(313)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 313)">[20250422_20:51:43:668]no tmp/factory/pcb.config</div>
                </div><div class="code-line new-line-highlight" id="line-314" data-line="314">
						<div class="line-number" ondblclick="handleLineDoubleClick(314)" oncontextmenu="showLineContextMenu(event, 314)" title="雙擊顯示上下文，右鍵更多選項">
							314
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(314)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(314)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 314)">[20250422_20:51:43:668]Cannot get audio dolby config</div>
                </div><div class="code-line new-line-highlight" id="line-315" data-line="315">
						<div class="line-number" ondblclick="handleLineDoubleClick(315)" oncontextmenu="showLineContextMenu(event, 315)" title="雙擊顯示上下文，右鍵更多選項">
							315
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(315)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(315)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 315)">[20250422_20:51:43:668]Cannot get bootAudio</div>
                </div><div class="code-line new-line-highlight" id="line-316" data-line="316">
						<div class="line-number" ondblclick="handleLineDoubleClick(316)" oncontextmenu="showLineContextMenu(event, 316)" title="雙擊顯示上下文，右鍵更多選項">
							316
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(316)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(316)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 316)">[20250422_20:51:43:668]boot_sw_cap = ac</div>
                </div><div class="code-line new-line-highlight" id="line-317" data-line="317">
						<div class="line-number" ondblclick="handleLineDoubleClick(317)" oncontextmenu="showLineContextMenu(event, 317)" title="雙擊顯示上下文，右鍵更多選項">
							317
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(317)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(317)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 317)">[20250422_20:51:43:668]AMP_RESET val:0</div>
                </div><div class="code-line new-line-highlight" id="line-318" data-line="318">
						<div class="line-number" ondblclick="handleLineDoubleClick(318)" oncontextmenu="showLineContextMenu(event, 318)" title="雙擊顯示上下文，右鍵更多選項">
							318
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(318)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(318)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 318)">[20250422_20:51:43:668]AMP_MUTE val:0</div>
                </div><div class="code-line new-line-highlight" id="line-319" data-line="319">
						<div class="line-number" ondblclick="handleLineDoubleClick(319)" oncontextmenu="showLineContextMenu(event, 319)" title="雙擊顯示上下文，右鍵更多選項">
							319
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(319)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(319)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 319)">[20250422_20:51:43:691]cannot find AMP_FLOW_TYPE from model.ini file</div>
                </div><div class="code-line new-line-highlight" id="line-320" data-line="320">
						<div class="line-number" ondblclick="handleLineDoubleClick(320)" oncontextmenu="showLineContextMenu(event, 320)" title="雙擊顯示上下文，右鍵更多選項">
							320
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(320)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(320)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 320)">[20250422_20:51:43:691]load_amp_ini_config: get_amp_basic_info_from_ini fail ret=-2</div>
                </div><div class="code-line new-line-highlight" id="line-321" data-line="321">
						<div class="line-number" ondblclick="handleLineDoubleClick(321)" oncontextmenu="showLineContextMenu(event, 321)" title="雙擊顯示上下文，右鍵更多選項">
							321
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(321)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(321)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 321)">[20250422_20:51:43:691]</div>
                </div><div class="code-line new-line-highlight" id="line-322" data-line="322">
						<div class="line-number" ondblclick="handleLineDoubleClick(322)" oncontextmenu="showLineContextMenu(event, 322)" title="雙擊顯示上下文，右鍵更多選項">
							322
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(322)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(322)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 322)">[20250422_20:51:43:691]board_init_r board.c 2168 -- (0) key=0x1b</div>
                </div><div class="code-line new-line-highlight" id="line-323" data-line="323">
						<div class="line-number" ondblclick="handleLineDoubleClick(323)" oncontextmenu="showLineContextMenu(event, 323)" title="雙擊顯示上下文，右鍵更多選項">
							323
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(323)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(323)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 323)">[20250422_20:51:43:691]board_init_r board.c 2168 -- (1) key=0x1b</div>
                </div><div class="code-line new-line-highlight" id="line-324" data-line="324">
						<div class="line-number" ondblclick="handleLineDoubleClick(324)" oncontextmenu="showLineContextMenu(event, 324)" title="雙擊顯示上下文，右鍵更多選項">
							324
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(324)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(324)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 324)">[20250422_20:51:43:691]board_init_r board.c 2168 -- (2) key=0x1b</div>
                </div><div class="code-line new-line-highlight" id="line-325" data-line="325">
						<div class="line-number" ondblclick="handleLineDoubleClick(325)" oncontextmenu="showLineContextMenu(event, 325)" title="雙擊顯示上下文，右鍵更多選項">
							325
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(325)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(325)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 325)">[20250422_20:51:43:691]board_init_r board.c 2168 -- (3) key=0x1b</div>
                </div><div class="code-line new-line-highlight" id="line-326" data-line="326">
						<div class="line-number" ondblclick="handleLineDoubleClick(326)" oncontextmenu="showLineContextMenu(event, 326)" title="雙擊顯示上下文，右鍵更多選項">
							326
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(326)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(326)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 326)">[20250422_20:51:43:691]board_init_r board.c 2168 -- (4) key=0x1b</div>
                </div><div class="code-line new-line-highlight" id="line-327" data-line="327">
						<div class="line-number" ondblclick="handleLineDoubleClick(327)" oncontextmenu="showLineContextMenu(event, 327)" title="雙擊顯示上下文，右鍵更多選項">
							327
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(327)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(327)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 327)">[20250422_20:51:43:691]panel initialize....</div>
                </div><div class="code-line new-line-highlight" id="line-328" data-line="328">
						<div class="line-number" ondblclick="handleLineDoubleClick(328)" oncontextmenu="showLineContextMenu(event, 328)" title="雙擊顯示上下文，右鍵更多選項">
							328
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(328)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(328)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 328)">[20250422_20:51:43:691]panel_init_1st 0529_1022</div>
                </div><div class="code-line new-line-highlight" id="line-329" data-line="329">
						<div class="line-number" ondblclick="handleLineDoubleClick(329)" oncontextmenu="showLineContextMenu(event, 329)" title="雙擊顯示上下文，右鍵更多選項">
							329
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(329)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(329)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 329)">[20250422_20:51:43:738]=== Panel Type : 1 ===</div>
                </div><div class="code-line new-line-highlight" id="line-330" data-line="330">
						<div class="line-number" ondblclick="handleLineDoubleClick(330)" oncontextmenu="showLineContextMenu(event, 330)" title="雙擊顯示上下文，右鍵更多選項">
							330
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(330)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(330)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 330)">[20250422_20:51:43:738]=== iCONFIG_PANEL_CUSTOM_INDEX : 2 ===</div>
                </div><div class="code-line new-line-highlight" id="line-331" data-line="331">
						<div class="line-number" ondblclick="handleLineDoubleClick(331)" oncontextmenu="showLineContextMenu(event, 331)" title="雙擊顯示上下文，右鍵更多選項">
							331
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(331)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(331)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 331)">[20250422_20:51:43:738]=== panel_vby1_duplicate_tx ===</div>
                </div><div class="code-line new-line-highlight" id="line-332" data-line="332">
						<div class="line-number" ondblclick="handleLineDoubleClick(332)" oncontextmenu="showLineContextMenu(event, 332)" title="雙擊顯示上下文，右鍵更多選項">
							332
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(332)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(332)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 332)">[20250422_20:51:43:738][SFG] Ctrl24:89d002d. Ctrl25:10180118 </div>
                </div><div class="code-line new-line-highlight" id="line-333" data-line="333">
						<div class="line-number" ondblclick="handleLineDoubleClick(333)" oncontextmenu="showLineContextMenu(event, 333)" title="雙擊顯示上下文，右鍵更多選項">
							333
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(333)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(333)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 333)">[20250422_20:51:43:738][GDMA](Frome bdinfo)BUSH = 500 ; DISP = 594</div>
                </div><div class="code-line new-line-highlight" id="line-334" data-line="334">
						<div class="line-number" ondblclick="handleLineDoubleClick(334)" oncontextmenu="showLineContextMenu(event, 334)" title="雙擊顯示上下文，右鍵更多選項">
							334
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(334)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(334)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 334)">[20250422_20:51:43:738]cannot find PMIC_BIN from ini file</div>
                </div><div class="code-line new-line-highlight" id="line-335" data-line="335">
						<div class="line-number" ondblclick="handleLineDoubleClick(335)" oncontextmenu="showLineContextMenu(event, 335)" title="雙擊顯示上下文，右鍵更多選項">
							335
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(335)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(335)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 335)">[20250422_20:51:43:738][PMIC BIN] -&gt; can't find !</div>
                </div><div class="code-line new-line-highlight" id="line-336" data-line="336">
						<div class="line-number" ondblclick="handleLineDoubleClick(336)" oncontextmenu="showLineContextMenu(event, 336)" title="雙擊顯示上下文，右鍵更多選項">
							336
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(336)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(336)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 336)">[20250422_20:51:43:738]=== Panel Index : 2 ===</div>
                </div><div class="code-line new-line-highlight" id="line-337" data-line="337">
						<div class="line-number" ondblclick="handleLineDoubleClick(337)" oncontextmenu="showLineContextMenu(event, 337)" title="雙擊顯示上下文，右鍵更多選項">
							337
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(337)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(337)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 337)">[20250422_20:51:43:738]cannot find PIF_BIN from ini file</div>
                </div><div class="code-line new-line-highlight" id="line-338" data-line="338">
						<div class="line-number" ondblclick="handleLineDoubleClick(338)" oncontextmenu="showLineContextMenu(event, 338)" title="雙擊顯示上下文，右鍵更多選項">
							338
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(338)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(338)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 338)">[20250422_20:51:43:738]PIF BIN -&gt; can't find !</div>
                </div><div class="code-line new-line-highlight" id="line-339" data-line="339">
						<div class="line-number" ondblclick="handleLineDoubleClick(339)" oncontextmenu="showLineContextMenu(event, 339)" title="雙擊顯示上下文，右鍵更多選項">
							339
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(339)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(339)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 339)">[20250422_20:51:43:754]=========&gt; item_value_string: /tvconfigs/panel/eye_diagram/VBY1_innolux_4K2K_60hz_1Seg8Port.bin </div>
                </div><div class="code-line new-line-highlight" id="line-340" data-line="340">
						<div class="line-number" ondblclick="handleLineDoubleClick(340)" oncontextmenu="showLineContextMenu(event, 340)" title="雙擊顯示上下文，右鍵更多選項">
							340
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(340)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(340)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 340)">[20250422_20:51:43:786] INI EYE DIAGRAM BIN&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; dst_length:1832</div>
                </div><div class="code-line new-line-highlight" id="line-341" data-line="341">
						<div class="line-number" ondblclick="handleLineDoubleClick(341)" oncontextmenu="showLineContextMenu(event, 341)" title="雙擊顯示上下文，右鍵更多選項">
							341
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(341)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(341)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 341)">[20250422_20:51:43:786]cannot find PQ_PANEL_CONFIG from ini file</div>
                </div><div class="code-line new-line-highlight" id="line-342" data-line="342">
						<div class="line-number" ondblclick="handleLineDoubleClick(342)" oncontextmenu="showLineContextMenu(event, 342)" title="雙擊顯示上下文，右鍵更多選項">
							342
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(342)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(342)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 342)">[20250422_20:51:43:801]BootCode_fwif_color_set_Panel_Dither_By_ini, en=0, t_en=0, bit_sel=0, oled_th_en=0, oled_th=0, ret=0,</div>
                </div><div class="code-line new-line-highlight" id="line-343" data-line="343">
						<div class="line-number" ondblclick="handleLineDoubleClick(343)" oncontextmenu="showLineContextMenu(event, 343)" title="雙擊顯示上下文，右鍵更多選項">
							343
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(343)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(343)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 343)">[20250422_20:51:43:801]Net:   r8168: REALTEK RTL8168 @0x18016000</div>
                </div><div class="code-line new-line-highlight" id="line-344" data-line="344">
						<div class="line-number" ondblclick="handleLineDoubleClick(344)" oncontextmenu="showLineContextMenu(event, 344)" title="雙擊顯示上下文，右鍵更多選項">
							344
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(344)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(344)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 344)">[20250422_20:51:43:849]Realtek PCIe GBE Family Controller mcfg = 0024</div>
                </div><div class="code-line new-line-highlight" id="line-345" data-line="345">
						<div class="line-number" ondblclick="handleLineDoubleClick(345)" oncontextmenu="showLineContextMenu(event, 345)" title="雙擊顯示上下文，右鍵更多選項">
							345
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(345)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(345)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 345)">[20250422_20:51:43:849]Hit Esc or Tab key to enter console mode or rescue linux:  0 </div>
                </div><div class="code-line new-line-highlight" id="line-346" data-line="346">
						<div class="line-number" ondblclick="handleLineDoubleClick(346)" oncontextmenu="showLineContextMenu(event, 346)" title="雙擊顯示上下文，右鍵更多選項">
							346
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(346)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(346)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 346)">[20250422_20:51:43:849]------------can't find tmp/factory/recovery</div>
                </div><div class="code-line new-line-highlight" id="line-347" data-line="347">
						<div class="line-number" ondblclick="handleLineDoubleClick(347)" oncontextmenu="showLineContextMenu(event, 347)" title="雙擊顯示上下文，右鍵更多選項">
							347
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(347)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(347)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 347)">[20250422_20:51:43:849]early_ddc_cec_init</div>
                </div><div class="code-line new-line-highlight" id="line-348" data-line="348">
						<div class="line-number" ondblclick="handleLineDoubleClick(348)" oncontextmenu="showLineContextMenu(event, 348)" title="雙擊顯示上下文，右鍵更多選項">
							348
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(348)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(348)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 348)">[20250422_20:51:44:150]Press Esc Key loop_i = 0</div>
                </div><div class="code-line new-line-highlight" id="line-349" data-line="349">
						<div class="line-number" ondblclick="handleLineDoubleClick(349)" oncontextmenu="showLineContextMenu(event, 349)" title="雙擊顯示上下文，右鍵更多選項">
							349
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(349)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(349)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 349)">[20250422_20:51:44:150]for loop end loop_i = 1 </div>
                </div><div class="code-line new-line-highlight" id="line-350" data-line="350">
						<div class="line-number" ondblclick="handleLineDoubleClick(350)" oncontextmenu="showLineContextMenu(event, 350)" title="雙擊顯示上下文，右鍵更多選項">
							350
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(350)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(350)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 350)">[20250422_20:51:44:150]panel_dpg_enable</div>
                </div><div class="code-line new-line-highlight" id="line-351" data-line="351">
						<div class="line-number" ondblclick="handleLineDoubleClick(351)" oncontextmenu="showLineContextMenu(event, 351)" title="雙擊顯示上下文，右鍵更多選項">
							351
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(351)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(351)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 351)">[20250422_20:51:44:150]</div>
                </div><div class="code-line new-line-highlight" id="line-352" data-line="352">
						<div class="line-number" ondblclick="handleLineDoubleClick(352)" oncontextmenu="showLineContextMenu(event, 352)" title="雙擊顯示上下文，右鍵更多選項">
							352
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(352)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(352)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 352)">[20250422_20:51:44:150]Enter console mode, disable watchdog ...</div>
                </div><div class="code-line new-line-highlight" id="line-353" data-line="353">
						<div class="line-number" ondblclick="handleLineDoubleClick(353)" oncontextmenu="showLineContextMenu(event, 353)" title="雙擊顯示上下文，右鍵更多選項">
							353
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(353)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(353)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 353)">[20250422_20:51:44:150]</div>
                </div><div class="code-line new-line-highlight" id="line-354" data-line="354">
						<div class="line-number" ondblclick="handleLineDoubleClick(354)" oncontextmenu="showLineContextMenu(event, 354)" title="雙擊顯示上下文，右鍵更多選項">
							354
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(354)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(354)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 354)">[20250422_20:52:01:829]Realtek&gt; </div>
                </div><div class="code-line new-line-highlight" id="line-355" data-line="355">
						<div class="line-number" ondblclick="handleLineDoubleClick(355)" oncontextmenu="showLineContextMenu(event, 355)" title="雙擊顯示上下文，右鍵更多選項">
							355
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(355)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(355)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 355)">[20250422_20:52:01:829]nknown command ' - try 'help'</div>
                </div><div class="code-line new-line-highlight" id="line-356" data-line="356">
						<div class="line-number" ondblclick="handleLineDoubleClick(356)" oncontextmenu="showLineContextMenu(event, 356)" title="雙擊顯示上下文，右鍵更多選項">
							356
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(356)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(356)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 356)">[20250422_20:52:02:035]Realtek&gt; </div>
                </div><div class="code-line new-line-highlight" id="line-357" data-line="357">
						<div class="line-number" ondblclick="handleLineDoubleClick(357)" oncontextmenu="showLineContextMenu(event, 357)" title="雙擊顯示上下文，右鍵更多選項">
							357
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(357)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(357)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 357)">[20250422_20:52:02:210]Realtek&gt; </div>
                </div><div class="code-line new-line-highlight" id="line-358" data-line="358">
						<div class="line-number" ondblclick="handleLineDoubleClick(358)" oncontextmenu="showLineContextMenu(event, 358)" title="雙擊顯示上下文，右鍵更多選項">
							358
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(358)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(358)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 358)">[20250422_20:52:10:171]Realtek&gt; </div>
                </div><div class="code-line new-line-highlight" id="line-359" data-line="359">
						<div class="line-number" ondblclick="handleLineDoubleClick(359)" oncontextmenu="showLineContextMenu(event, 359)" title="雙擊顯示上下文，右鍵更多選項">
							359
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(359)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(359)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 359)">[20250422_20:52:10:377]Realtek&gt; </div>
                </div><div class="code-line new-line-highlight" id="line-360" data-line="360">
						<div class="line-number" ondblclick="handleLineDoubleClick(360)" oncontextmenu="showLineContextMenu(event, 360)" title="雙擊顯示上下文，右鍵更多選項">
							360
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(360)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(360)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 360)">[20250422_20:52:16:707]Realtek&gt; </div>
                </div><div class="code-line new-line-highlight" id="line-361" data-line="361">
						<div class="line-number" ondblclick="handleLineDoubleClick(361)" oncontextmenu="showLineContextMenu(event, 361)" title="雙擊顯示上下文，右鍵更多選項">
							361
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(361)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(361)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 361)">[20250422_20:52:16:707]Realtek&gt; </div>
                </div><div class="code-line new-line-highlight" id="line-362" data-line="362">
						<div class="line-number" ondblclick="handleLineDoubleClick(362)" oncontextmenu="showLineContextMenu(event, 362)" title="雙擊顯示上下文，右鍵更多選項">
							362
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(362)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(362)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 362)">[20250422_20:52:16:707]Realtek&gt; showvdq</div>
                </div><div class="code-line new-line-highlight" id="line-363" data-line="363">
						<div class="line-number" ondblclick="handleLineDoubleClick(363)" oncontextmenu="showLineContextMenu(event, 363)" title="雙擊顯示上下文，右鍵更多選項">
							363
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(363)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(363)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 363)">[20250422_20:52:16:707]do RTK IC setting</div>
                </div><div class="code-line new-line-highlight" id="line-364" data-line="364">
						<div class="line-number" ondblclick="handleLineDoubleClick(364)" oncontextmenu="showLineContextMenu(event, 364)" title="雙擊顯示上下文，右鍵更多選項">
							364
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(364)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(364)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 364)">[20250422_20:52:16:707]Core IDDQ= 89, SCPU IDDQ= 36</div>
                </div><div class="code-line new-line-highlight" id="line-365" data-line="365">
						<div class="line-number" ondblclick="handleLineDoubleClick(365)" oncontextmenu="showLineContextMenu(event, 365)" title="雙擊顯示上下文，右鍵更多選項">
							365
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(365)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(365)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 365)">[20250422_20:52:16:707]Realtek&gt; </div>
                </div><div class="code-line new-line-highlight" id="line-366" data-line="366">
						<div class="line-number" ondblclick="handleLineDoubleClick(366)" oncontextmenu="showLineContextMenu(event, 366)" title="雙擊顯示上下文，右鍵更多選項">
							366
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(366)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(366)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 366)">[20250422_20:52:17:741]Realtek&gt; env set print on</div>
                </div><div class="code-line new-line-highlight" id="line-367" data-line="367">
						<div class="line-number" ondblclick="handleLineDoubleClick(367)" oncontextmenu="showLineContextMenu(event, 367)" title="雙擊顯示上下文，右鍵更多選項">
							367
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(367)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(367)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 367)">[20250422_20:52:17:741]Realtek&gt; </div>
                </div><div class="code-line new-line-highlight" id="line-368" data-line="368">
						<div class="line-number" ondblclick="handleLineDoubleClick(368)" oncontextmenu="showLineContextMenu(event, 368)" title="雙擊顯示上下文，右鍵更多選項">
							368
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(368)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(368)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 368)">[20250422_20:52:18:777]Realtek&gt; sa</div>
                </div><div class="code-line new-line-highlight" id="line-369" data-line="369">
						<div class="line-number" ondblclick="handleLineDoubleClick(369)" oncontextmenu="showLineContextMenu(event, 369)" title="雙擊顯示上下文，右鍵更多選項">
							369
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(369)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(369)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 369)">[20250422_20:52:18:777]Saving Environment to FACTORY...</div>
                </div><div class="code-line new-line-highlight" id="line-370" data-line="370">
						<div class="line-number" ondblclick="handleLineDoubleClick(370)" oncontextmenu="showLineContextMenu(event, 370)" title="雙擊顯示上下文，右鍵更多選項">
							370
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(370)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(370)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 370)">[20250422_20:52:18:777][ENV] data no changed !</div>
                </div><div class="code-line new-line-highlight" id="line-371" data-line="371">
						<div class="line-number" ondblclick="handleLineDoubleClick(371)" oncontextmenu="showLineContextMenu(event, 371)" title="雙擊顯示上下文，右鍵更多選項">
							371
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(371)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(371)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 371)">[20250422_20:52:18:777]Realtek&gt; </div>
                </div><div class="code-line new-line-highlight" id="line-372" data-line="372">
						<div class="line-number" ondblclick="handleLineDoubleClick(372)" oncontextmenu="showLineContextMenu(event, 372)" title="雙擊顯示上下文，右鍵更多選項">
							372
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(372)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(372)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 372)">[20250422_20:52:19:808]Realtek&gt; loglevel 6</div>
                </div><div class="code-line new-line-highlight" id="line-373" data-line="373">
						<div class="line-number" ondblclick="handleLineDoubleClick(373)" oncontextmenu="showLineContextMenu(event, 373)" title="雙擊顯示上下文，右鍵更多選項">
							373
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(373)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(373)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 373)">[20250422_20:52:19:811]Saving Environment to FACTORY...</div>
                </div><div class="code-line new-line-highlight" id="line-374" data-line="374">
						<div class="line-number" ondblclick="handleLineDoubleClick(374)" oncontextmenu="showLineContextMenu(event, 374)" title="雙擊顯示上下文，右鍵更多選項">
							374
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(374)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(374)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 374)">[20250422_20:52:19:811][ENV] data no changed !</div>
                </div><div class="code-line new-line-highlight" id="line-375" data-line="375">
						<div class="line-number" ondblclick="handleLineDoubleClick(375)" oncontextmenu="showLineContextMenu(event, 375)" title="雙擊顯示上下文，右鍵更多選項">
							375
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(375)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(375)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 375)">[20250422_20:52:19:811]Realtek&gt; </div>
                </div><div class="code-line new-line-highlight" id="line-376" data-line="376">
						<div class="line-number" ondblclick="handleLineDoubleClick(376)" oncontextmenu="showLineContextMenu(event, 376)" title="雙擊顯示上下文，右鍵更多選項">
							376
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(376)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(376)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 376)">[20250422_20:52:20:826]Realtek&gt; mmc erase 0x00035010 1</div>
                </div><div class="code-line new-line-highlight" id="line-377" data-line="377">
						<div class="line-number" ondblclick="handleLineDoubleClick(377)" oncontextmenu="showLineContextMenu(event, 377)" title="雙擊顯示上下文，右鍵更多選項">
							377
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(377)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(377)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 377)">[20250422_20:52:20:826]</div>
                </div><div class="code-line new-line-highlight" id="line-378" data-line="378">
						<div class="line-number" ondblclick="handleLineDoubleClick(378)" oncontextmenu="showLineContextMenu(event, 378)" title="雙擊顯示上下文，右鍵更多選項">
							378
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(378)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(378)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 378)">[20250422_20:52:20:826]MMC erase: dev # 0, block # 217104, count 1 ... </div>
                </div><div class="code-line new-line-highlight" id="line-379" data-line="379">
						<div class="line-number" ondblclick="handleLineDoubleClick(379)" oncontextmenu="showLineContextMenu(event, 379)" title="雙擊顯示上下文，右鍵更多選項">
							379
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(379)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(379)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 379)">[20250422_20:52:20:826]</div>
                </div><div class="code-line new-line-highlight" id="line-380" data-line="380">
						<div class="line-number" ondblclick="handleLineDoubleClick(380)" oncontextmenu="showLineContextMenu(event, 380)" title="雙擊顯示上下文，右鍵更多選項">
							380
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(380)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(380)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 380)">[20250422_20:52:20:826]SEC_FEATURE_SUPPORT=0x00000055.</div>
                </div><div class="code-line new-line-highlight" id="line-381" data-line="381">
						<div class="line-number" ondblclick="handleLineDoubleClick(381)" oncontextmenu="showLineContextMenu(event, 381)" title="雙擊顯示上下文，右鍵更多選項">
							381
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(381)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(381)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 381)">[20250422_20:52:20:826]TRIM mode</div>
                </div><div class="code-line new-line-highlight" id="line-382" data-line="382">
						<div class="line-number" ondblclick="handleLineDoubleClick(382)" oncontextmenu="showLineContextMenu(event, 382)" title="雙擊顯示上下文，右鍵更多選項">
							382
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(382)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(382)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 382)">[20250422_20:52:20:826]</div>
                </div><div class="code-line new-line-highlight" id="line-383" data-line="383">
						<div class="line-number" ondblclick="handleLineDoubleClick(383)" oncontextmenu="showLineContextMenu(event, 383)" title="雙擊顯示上下文，右鍵更多選項">
							383
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(383)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(383)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 383)">[20250422_20:52:20:842]erasing...... (start=0x00035010 </div>
                </div><div class="code-line new-line-highlight" id="line-384" data-line="384">
						<div class="line-number" ondblclick="handleLineDoubleClick(384)" oncontextmenu="showLineContextMenu(event, 384)" title="雙擊顯示上下文，右鍵更多選項">
							384
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(384)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(384)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 384)">[20250422_20:52:20:842]1 blocks erased: OK</div>
                </div><div class="code-line new-line-highlight" id="line-385" data-line="385">
						<div class="line-number" ondblclick="handleLineDoubleClick(385)" oncontextmenu="showLineContextMenu(event, 385)" title="雙擊顯示上下文，右鍵更多選項">
							385
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(385)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(385)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 385)">[20250422_20:52:20:842]Realtek&gt; </div>
                </div><div class="code-line new-line-highlight" id="line-386" data-line="386">
						<div class="line-number" ondblclick="handleLineDoubleClick(386)" oncontextmenu="showLineContextMenu(event, 386)" title="雙擊顯示上下文，右鍵更多選項">
							386
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(386)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(386)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 386)">[20250422_20:52:21:860]Realtek&gt; mmc erase 0x00035010 1</div>
                </div><div class="code-line new-line-highlight" id="line-387" data-line="387">
						<div class="line-number" ondblclick="handleLineDoubleClick(387)" oncontextmenu="showLineContextMenu(event, 387)" title="雙擊顯示上下文，右鍵更多選項">
							387
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(387)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(387)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 387)">[20250422_20:52:21:860]</div>
                </div><div class="code-line new-line-highlight" id="line-388" data-line="388">
						<div class="line-number" ondblclick="handleLineDoubleClick(388)" oncontextmenu="showLineContextMenu(event, 388)" title="雙擊顯示上下文，右鍵更多選項">
							388
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(388)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(388)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 388)">[20250422_20:52:21:860]MMC erase: dev # 0, block # 217104, count 1 ... </div>
                </div><div class="code-line new-line-highlight" id="line-389" data-line="389">
						<div class="line-number" ondblclick="handleLineDoubleClick(389)" oncontextmenu="showLineContextMenu(event, 389)" title="雙擊顯示上下文，右鍵更多選項">
							389
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(389)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(389)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 389)">[20250422_20:52:21:860]</div>
                </div><div class="code-line new-line-highlight" id="line-390" data-line="390">
						<div class="line-number" ondblclick="handleLineDoubleClick(390)" oncontextmenu="showLineContextMenu(event, 390)" title="雙擊顯示上下文，右鍵更多選項">
							390
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(390)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(390)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 390)">[20250422_20:52:21:860]SEC_FEATURE_SUPPORT=0x00000055.</div>
                </div><div class="code-line new-line-highlight" id="line-391" data-line="391">
						<div class="line-number" ondblclick="handleLineDoubleClick(391)" oncontextmenu="showLineContextMenu(event, 391)" title="雙擊顯示上下文，右鍵更多選項">
							391
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(391)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(391)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 391)">[20250422_20:52:21:860]TRIM mode</div>
                </div><div class="code-line new-line-highlight" id="line-392" data-line="392">
						<div class="line-number" ondblclick="handleLineDoubleClick(392)" oncontextmenu="showLineContextMenu(event, 392)" title="雙擊顯示上下文，右鍵更多選項">
							392
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(392)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(392)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 392)">[20250422_20:52:21:860]</div>
                </div><div class="code-line new-line-highlight" id="line-393" data-line="393">
						<div class="line-number" ondblclick="handleLineDoubleClick(393)" oncontextmenu="showLineContextMenu(event, 393)" title="雙擊顯示上下文，右鍵更多選項">
							393
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(393)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(393)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 393)">[20250422_20:52:21:860]erasing...... (start=0x00035010 </div>
                </div><div class="code-line new-line-highlight" id="line-394" data-line="394">
						<div class="line-number" ondblclick="handleLineDoubleClick(394)" oncontextmenu="showLineContextMenu(event, 394)" title="雙擊顯示上下文，右鍵更多選項">
							394
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(394)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(394)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 394)">[20250422_20:52:21:860]1 blocks erased: OK</div>
                </div><div class="code-line new-line-highlight" id="line-395" data-line="395">
						<div class="line-number" ondblclick="handleLineDoubleClick(395)" oncontextmenu="showLineContextMenu(event, 395)" title="雙擊顯示上下文，右鍵更多選項">
							395
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(395)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(395)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 395)">[20250422_20:52:21:891]Realtek&gt; </div>
                </div><div class="code-line new-line-highlight" id="line-396" data-line="396">
						<div class="line-number" ondblclick="handleLineDoubleClick(396)" oncontextmenu="showLineContextMenu(event, 396)" title="雙擊顯示上下文，右鍵更多選項">
							396
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(396)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(396)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 396)">[20250422_20:52:22:906]Realtek&gt; env set bootargs_ex no_console_suspend</div>
                </div><div class="code-line new-line-highlight" id="line-397" data-line="397">
						<div class="line-number" ondblclick="handleLineDoubleClick(397)" oncontextmenu="showLineContextMenu(event, 397)" title="雙擊顯示上下文，右鍵更多選項">
							397
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(397)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(397)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 397)">[20250422_20:52:22:906]Realtek&gt; </div>
                </div><div class="code-line new-line-highlight" id="line-398" data-line="398">
						<div class="line-number" ondblclick="handleLineDoubleClick(398)" oncontextmenu="showLineContextMenu(event, 398)" title="雙擊顯示上下文，右鍵更多選項">
							398
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(398)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(398)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 398)">[20250422_20:52:23:986]Realtek&gt; env set strprint on</div>
                </div><div class="code-line new-line-highlight" id="line-399" data-line="399">
						<div class="line-number" ondblclick="handleLineDoubleClick(399)" oncontextmenu="showLineContextMenu(event, 399)" title="雙擊顯示上下文，右鍵更多選項">
							399
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(399)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(399)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 399)">[20250422_20:52:23:986]Realtek&gt; </div>
                </div><div class="code-line new-line-highlight" id="line-400" data-line="400">
						<div class="line-number" ondblclick="handleLineDoubleClick(400)" oncontextmenu="showLineContextMenu(event, 400)" title="雙擊顯示上下文，右鍵更多選項">
							400
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(400)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(400)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 400)">[20250422_20:52:25:011]Realtek&gt; env save</div>
                </div><div class="code-line line-target new-line-highlight" id="line-401" data-line="401">
						<div class="line-number" ondblclick="handleLineDoubleClick(401)" oncontextmenu="showLineContextMenu(event, 401)" title="雙擊顯示上下文，右鍵更多選項">
							401
						<div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(401)" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(401)" title="跳轉點">
                        🎯
                    </div>
                </div></div>
                    <div class="line-content" oncontextmenu="showContentContextMenu(event, 401)">[20250422_20:52:25:011]Saving Environment to FACTORY...</div>
                </div></div>

            <!-- 狀態列 -->
            <div class="status-bar">
                <div class="d-flex align-items-center">
                    <div class="status-item">
                        <i class="fas fa-map-marker-alt"></i>
                        <span id="status-line">第 274 行</span>
                    </div>
                    <div class="status-item hover-info">
                        <i class="fas fa-mouse-pointer"></i>
                        <span id="status-hover">滑鼠: --</span>
                    </div>
                    <div class="status-item target-info">
                        <i class="fas fa-bullseye"></i>
                        <span id="status-target">目標: 第 1 行</span>
                    </div>
                    <div class="status-item">
                        <i class="fas fa-bookmark"></i>
                        <span id="status-bookmarks">書籤: 1</span>
                    </div>
                    <div class="status-item">
                        <i class="fas fa-search"></i>
                        <span id="status-search">搜尋: 無</span>
                    </div>
                    <div class="status-item">
                        <i class="fas fa-crosshairs"></i>
                        <span id="status-jumps">跳轉點: 1</span>
                    </div>
                    <div class="status-item shortcut-hint">
                        <i class="fas fa-keyboard"></i>
                        <span>Ctrl+G: 跳轉行號</span>
                    </div>
                </div>
                <div class="d-flex align-items-center">
                    <div class="status-item">
                        <i class="fas fa-info-circle"></i>
                        <span id="status-position">1-401 / 374837</span>
                    </div>
                </div>
            </div>
        </div>
            <div id="comments-section" class="comments-section" style="display: block;">
                <div class="comments-header">
                    <h4>
                        <i class="fas fa-comments"></i>
                        使用者評論
                        <span class="comments-count">10</span>
                    </h4>
                </div>
                <div id="comments-list" class="comments-list">
            <div class="comment-topic-group">
                <h5 class="comment-topic">
                    <i class="fas fa-folder"></i>
                    程式碼檢討
                    <span class="badge">4</span>
                </h5>
                
                    <div class="comment-item" data-id="7f1e9cff-1ce2-4d6f-861b-261c1f9bbe27">
                        <div class="comment-header">
                            <div class="comment-author">
                                <div class="comment-avatar">匿</div>
                                <div class="comment-meta">
                                    <div class="comment-author-name">匿名用戶</div>
                                    <div class="comment-time">8 小時前</div>
                                </div>
                            </div>
                            <div class="comment-actions">
                                <button class="comment-reply-btn" onclick="replyToComment('7f1e9cff-1ce2-4d6f-861b-261c1f9bbe27', '程式碼檢討')">
                                    <i class="fas fa-reply"></i> 回覆
                                </button>
                                <button class="comment-action-btn" onclick="editComment('7f1e9cff-1ce2-4d6f-861b-261c1f9bbe27')">
                                    <i class="fas fa-edit"></i> 編輯
                                </button>
                                <button class="comment-action-btn delete" onclick="deleteComment('7f1e9cff-1ce2-4d6f-861b-261c1f9bbe27')">
                                    <i class="fas fa-trash"></i> 刪除
                                </button>
                            </div>
                        </div>
                        <div class="comment-content"><h1>ASFASDFASDF</h1><div><ul><li>DAFASDFASFASF</li><li><blockquote>ASDFASDFASF<a href="https://www.google.com.tw">https://www.google.com.tw</a></blockquote><br></li></ul></div><img id="img-1750153220832" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKQAAAClCAIAAABdi8GzAAAeSklEQVR4Ae2d2XMTV7rA/ZCnqfkb5mGK56mamreZqnsrDJBMpmAmNZkbw1TiXF8ChCzEBHKZEAjBAQ/7FpYb2wkJwQQIEzCY2NiybGxLtvbV2tttbd2t1t5uybLi9B3p2MetVqullo1kJv3VKfn0Wb5z+vv1953TrcUNtEihJFnFFhCG2cBULPOSPCUWKIW0DOxlnl1WkmVbYJkI2OCFYFc4zLJPR1JQpQUqBAR5l4QtoKjKqUndnrAFBJAB3lzYvB14Jzk3N5cRlFlBSUvCsoCgqWYFzZyZm5vjBVSMsgB2cfX8/DxHUTHj2dlZ1rSlbI0sMDvLvQiKqXOALsHmVJTCnE6nwf4+WSQJSWpigSLDJwGRdDqdyfA4OiS7ABsewwzboefm5tLpNEVRJElOTU0FAgEcx7FFCfJJQJIVtQCfjYOLBDAcxwOBwNTUFEmSFEWl02mOlwOsOdgQMMxwSGcymZmZmVAoRBBENpuFuzsps6oskM1mCYIIhUIzMzPFLj4/P88Dm00abA3S6XQkEsFxfFWdmzQZXgvgOB6JREBIz2QybJoN0JtBhl0HSM/OzlIURRBEKpXi1S4VrioLpFIpgiAoioI7OMi0ADYszWaz0KfT6XQymfT7/T/++OOqOitpMrwW+PHHH/1+fzKZBHcFgCMgyw8b+jTYeycSCa/Xy6taKlyFFvB6vYlEgqbpdDrN9u8l2NCtOaRpmo7FYiiKrsKzkqbEawEURWOxGLwfg7wXYEPS8JlJOp1OpVI0TVMUFYvFEATh1SsVrkILIAgSi8UoiqJpOpVKwc0aFzZ7qQakKYqKRCIej2cVnpU0JV4LeDyeSCQC3nYHwRzwLoAN3Bo8/qRpemZmhqKoRCIRDofdbjevXqlwFVrA7XaHw+FEIkFR1MzMDFy8c7BhDIduDQM4ePxHkqTT6azirPr7+69cuXJRkqos0N3dXYXNGYZxOp0kSQJ27GC+BBu4NdivwwCeSCRisRhBEA6HQ9TADx48+OUvf9kgyfIs8Itf/OLWrVuiLM8wjMPhIAgiFosB5wa80+l0g7Bbx2KxaDSK47jNZqt8yPHxcXCOv/rVr16TpFoL/PrXvwZmHBoaqtz4DMPYbDYcx6PRKOQNdmo8sDluHYlEMAwTBfvFF19saGjYunWrqClKjYst8NZbbzU0NDz33HPFVQIlNpsNw7BIJAJhA+degF0cw0EAj0aj4XA4GAxOTk4KaOdU/fznP/8XbL/fzymXDsVaAMOwhoaGn/3sZ6I6Tk5OBoPBcDjMce4F2HBrBu7EwSY8FotFIhGSJP1+v8ViqXw8EHwqby+1FLBAFca0WCx+v58kSbZz0zTNAxvcnyUSCeDWoVBIgi0A40lXVQ07FAoB54bbtCXY8Paa49YEQXi9XpPJVPlZVTG/ypX/1FpWYUyTyeT1egmC4Dj3Emz2TRdYsEEMx3Fcgl3HK6xq2DiO88CGuzP2sxSwYIdCIQzDpqenjUZj5SdcxfwElPvaN21q9wk3WFMgLXJZS0HBmhY57M+tWmrYIoONchn5nk0d+Xd/5HuW2oAcez7FtbA1u1mBajEHVRjTaDROT09jGBYKhdjLds6zIWz2I9JYLBYOhwmCwDAMRdF6wfa1b4K248nsgRB9HRtbOto3LQCTtbDJyfcUwGZXLZm9sEsh7AXqC41lLStCcWlowVx1sFEUxTCMIIhwOAxvwHKw2VtxiqKSyWQ8Ho9GoyRJEgQRDAZRFDUYDIJTKqisYn4F/RcOfB0b12xql3fs6cj59YKJc1BzhNGOlgJ358IuvDLEwS64wvbIi313lcM2GAwoigaDQbBsR6PReDyeTCZ5YLMX7LrCBsx95WGjHWz3z5EodFOOZxdeB0tHHI9nhfESnl047pKiglxhX76LWrisCs/hwIaRvAxsHMeDwSCCIPXwbKbYpQrMuGbNmo15p0c7NuX8Lx/G2/Mez12YxXk2sH4OtiynrXgaJT37CUT46mAjCBIMBjl7tPKwA4EAgiB6vV74AmTXVjE/dvfCfGWevaejY0+HvH1TC4BdqKLgqNDpl6qKyvOMWVfJUtPinLwF7B4WYcOoUNxUbEkVxtTr9QiCgI/3szfkQrBDoRD49PlTAHvjppZ2H1hr824nb8k5/SIDtoGLoC5UFpTntgtr1uQicMH6zQos7Ji/hHYRNsMs7i3YQ1eVXyZs9oZ8ATbvExVw3+X3+xEE0el0lU+1ivnxKZdz7p9YpobZ/IqIdmwC8Xxx41ZMaCnwciM8VLUG8vPld/VLCBcmBy6gopmyr5Il2LntfP6CK2ovsqAKY+p0OgRB/H4/5+5rNcOu2Cq5Nbsj74tr8mG8YyGoVu/ZuaEhbMA+Bw9eGKxra9PS7R+8ZViceQH7xUKRf39CsBcNDaMizLD8Jr9BW7Bh7pZMDsBDNGvWLHktZ6O+ZHm2g+ZLIWz5HtCdNSLoxo4ooKSIbsGNwNJgInI/Gdism2loel97C3iwtXSrXXgLtBSxS3g2+yJg52EYBygWRlwMGy2yItjFyIpgFzcRW/ITgV1g3CXGLIMu+E0Fnr0GBtsiD16wPrt84eppkS+tu2DLtnRtsC4pFj7W3Fily8quPGzed0HqvUFblo3+bTrXAjZ8MO73+z0eTz124/82vJZ1ItXB9ng8YDfOfjy+sBsv9mwJ9rIQrVzn1Q77mWeeaWhooGl65U75J6oplUo1NDQ888wzos5fp9PVzrN/97vf/etjcsePHxc1RalxsQXOnz/f0NDwm9/8prhKoKSmsLu6ukDw2blz5xeSVGsB8DnihoaGjo4OAbTFVTWFzTBMa2sr4C29LtMC+/btK8YpXFJr2AzD6PX6ffv2vfzyy3+VpCoLtLS0KJVKYa68tXWAzTsPqbAGFpBg18DIq2UICfZqIVGDeUiwa2Dk1TKEBHu1kKjBPCTYNTDyahlCgr1aSNRgHhLsGhh5tQwhwV4tJGowDwl2DYy8WoaQYK8WEjWYhwS7BkZeLUPUDXYiRJJen0BKhMiqjZQMhyJ+r0BKhkNVK2cYhorhUQIRSFSs+h/cTyRDZMQrkBLJKidfB9ghu3Pk9AXZwdbHH7eNlEiPP26THWwdOX0hZBf3C4oxj8PYfkZ36iPLucPW8/zJcu6w7tRHxvYzMY+4X+xjGCaBG20D+6wPtrr6trlLJFffNuuDrbaBfQlcxC8VMAwTjtmVhpOP1fuVxoPjpo94k9J4MNfAcDIcs4u9XmsNO+7z9x9oNZ84P3X+/8om84nz/Qda475Kf0prJujTnjyIdZ6cuX6hbMI6T2pOHpwJCv12A8eadNRjuf8/sYm35y27y6bYxNuW7v+ho5X+kG+C8g6p9jv8/wgkzpRNDv8/hlQfJChxP/Zea9j6rpuGY2fLYoYNDMfO6rtucoxe6tB1t8vffrwsZtjA137cdberlLbiclT1aVjxVlnMsEFY8Raq+rRYD2+J2fH15HRbWcywweT0UbPja15VpQprDXvgcJvr7GXIsmzGdfbSwOG2UrPnlGvPtca/OgdZls3EvjqnPdfKUSJwaO7ZOWt4F7Ism5k1vGvu2SmgkF01rD40HTkFWZbNTIdPDasPsTWUzdcadt+HH5cFzGnQ9+HHZU8DNFCdOFAWMKeB6sSBCpUzDGO811wWMKeB8V5zhfoHx/9eFjCnweD43ytUDppJsCXYiSfyJQGGYSTPLuWLkmfnduxSGOdEb3gohfHyN13sZVtasxMJKYzzRVtpgybiN1WkNZvvElook9Zsac0WepomrdnSml0yfNT6PvvRwVbk3BXOYxOBQ+TclUcHK33IpT71UfLr8+z9l3A++fV59amPStqmqMLU/XrW3MJ5bCJwmDW3mLpfL1LDXyCf2O+LnYY77bIZX+y0fGI/v64SpbWGPfHZ5/bTnwrQ5VTZT3868dnnJSbPLZ7sag9fPSMMmF0bvnpmsqudq6X0sXvkKK3dJUCXU0Vrd7lHjpbWV1CjtV5BiBNlGcMGCHFCa71SoKLcQa1hY0bz+CcnOEQFDsc/OYEZzeXOYqE+YjM5Lx5h4xTOOy8eidhE/CeEmH/cO7iDQ1Tg0Du4I+Yfr3DyeNigtR+GLMtmtPbDeFjET0IzDFNr2AzDeIYej7Ue0x87Yz15YbJEsp68oD92ZvTwPzxDjys0FmgWUA7ZLrT6PjtOfH4qVCIRn5/yfXbcdqE1oBT3f7EYhiEc96f6t5NjbybU7yRLpITqHXLsTaR/O+G4L2ryqH9QZTlkRY+6gsdc2HH+FDxmRY+qLIdQ/6Ao5fWBzTDMTDiCavWOx6MCCdXqZ8IRsefDMEwqGgkatajysUAKGrWpaDXKc/opAkfGfJO9AglHxlIUUcXkZ1Jhb0DjQocEkjegmUmFq1BeB8+uYpZSlxWxgAR7Rcz4dCiRYD8dnFZklhLsFTHj06FEgv10cFqRWUqwV8SMT4cSCfbTwWlFZinBXhEzPh1KJNhPB6cVmaUEe0XM+HQokWA/HZxWZJYS7BUx49OhRIL9dHBakVnWDTYRC6OEXyARsWre2AFGIeNxXygkkMh4fDnmi8USOBEWSLFYomr9iVgiTJACKVGt8jrAtgY9rd93tvzz7Hv3P93zgD+9d//Tln+ebf2+0xqs9CuvwLgugrgkH2rr7Tsuk58Y5E/HZfK23r5L8iEXIfpdyAAe6R5Q3Xww+s8+lUC6+WC0e0AVwMW9ixrBSXX/mOL+oKZ3VNs3xps0vaOK+4Pq/rEILvrHCmoNG40E371z5sPHVw9rvymbPnx89d07Z9BIsEIvCcRiR7/vvagzdDpcZdNFrf7ow95ALFah8tyX5aPJb+6PyCbcSgteNskmXN90j4SjyQr1J6PxsW7Z1LiVNE+XTci4daxbloyKi0+1ht2puLd/6POymGGDD4Y6OxX3KrTXtxrtBbW2LGbY4IJa861GW6FyhmEeq6yPFI6ymGGDRwr7Y5W1Qv2TE0bXmKksZtjANWaanBD3yw61hv3+dxcOTVyHLMtmDk1cf/+7CxXa60Tfo8+sNsiybOYzq+1E36MKlTMMc6tndNTghyzLZkYM/ls9oxXqVzwYxPQeyLJsBtN7FA/EfTKp1rB33T5VFjCnwa7bpyq015Geh2UBcxoc6XlYoXKGYbruDZcFzGnQdW+4Qv0jd/vLAuY0GLnbX6Fy0EyCLcF+Yl/skzy7lC9Knp3bsUthnBO94aEUxsvfdLGXbWnNfoLfz5bCuBTGhR6wSGEcxm1ORgrjUhgvFTtq/l0vKYyXQvFvuBvf/e2ZjzU3OI9NBA4/1tzY/e2ZUgbilLc9/L7D7mTvv4TzHXZn28PvOUoEDr/pfqwwBzmPTQQOFebgN92VfjFx9N4AYUI5gVrgkDCho/cGBGZbXFXrhypnB28cVFwToMupOqi4dnbwRvG8eUu+VCivmCzCgNm1V0yWLxUi/qnloxH9sBYVoMupGtaij0b0vFMtLjQ+Vvs0TgG6nCqfxml8rC7WI1BSa9har+393iscogKH7/de0XptAifArrIGgqdHRtk4hfOnR0atgUrfUmMYBvUT9wcNHKICh/cHDai/0ndRQz7MLFNxiAocmmWqkA9jn37ZfK1h534waXJ8b8+lD+SdB0a/FEgfyDv39lzsm6z0y+zgVEdd7pNDwxdUmkt642WDiTdd0hsvqDQn5cOjLndZA3EaWBzTd/u1fWP2QbVHrkZ406DK0zdmv9uvsTimOd2FD70ORN+vdI4aUZVtukRCJ2zOUaP+kcLrQIS1FdfWATbDMGQyNuE2ySwTAmnCbSKTIt5shucWoSj9FDpmdwgk/RQaoSjYRVQmQdFOxGea9AgkJ+JLULQotaAxTc34kWlk0iWQ/Mg0Tc1UoVw07EgkEgqFMAzz+/0Iguh04n4HrYopSl1WygI6nQ5BEL/fj2FYKBSKRCKxWGzpCdrs7Gw6naZpmqKoRCIRi8Uk2Ctl+trrkWDX3uZ1G7EkbLfb7XK5nE6nw+Gw2WxWq9VisZhMJoPBoNPp1Gr1+Pj4yMhIT09P3eYuDSzSAj09PSMjI+Pj42q1WqfTGQwGk8lksVgWfm9cCuMi7bmqm5f07Gw2m8lkJNirmp7IyZWBnclkeDdoOI4HAgEEQfT6Sp8QiZyY1HzlLaDX6xEECQQCOI7z7MZ5YZMkKcFeeRRPXiMbNkmS3FsvAdjBYBBBEINB3C8qPvkzkkYoaQGDwYAgSDAYxHFcBGyCIILBIIqiRqO4z6mXnIhU8eQtYDQaURQNBoMEQZSBnUwm4/F4NBolSRLCtlgsqVTqyc9TGmG5FkilUhaLhQ07Go3G4/FkMpm79Zqbm4NhfGZmBj5EC4fDBEFgGOb1eh0Oh9cr7j9CLnfWUv+qLABhYRhGEEQ4HAbPSimKKoCdSqV4n5iCDbnZbMbx6v+DcFUzlzqJswCO42azGWzFOQ/GF2CDW+10XjiwwYY8GAxOT0+7XC6TyWS1WjEMI0kylBciLzhLMEmemAVYZsaB5QEFkiQxDLNarSaTyeVyTU9PF+/OCmDzPleBy7bf70dR1O12WywWnU6nUqkUCsXo6OjIyMjw8LBcLh8cHJTJZAMDA48WpY9PeiURtACfzfoWLfpoYGBAJpMNDg7K5fLh4eGRkZHR0VGFQqFSqXQ6ncVicbvdKIr6/f7i3VkBbLhsU3lJJBLRaDQcDoM3OgOBgNfrBbztdvvk5CR4hG40GvV6vVar1Wg0arVapVKNs0SpVCpKyJgkLAuUMJJCqVSyzDmuUqnUarVGo9FqtXq93mg0gofek5OTdrsdkPZ6vYFAAMTwcDgcjUYTiUQeaX7NBmEcwi4Vyf1+P+CNIIjb7QZvnExOTlqtVrPZbMyLwWDQ6/W6vIArQCPJ8iyg1WqBPfV6vcFgAHY2m81Wq3VyctJmszkcDrfbjSAIiqJerxe4NecOm6IomqZzGzT2hpzz0BQ4N9iTBwIBn8+HoujU1JTH43G5XA6HA3g54G02m00mk9FoNORFnxcwUem1OgsAGwJ7Aj825wWQttvtDofD5XJ5PJ6pqSkURX0+H3BrsA+PRqNwK74Em+PcwOvhpxjYKzd0bo/H43a7nU6n3W632WzAxS0WC5iNKS/gMoRODyYtvZa1ANtuwJLAqhaLBTq03W53Op1ut9vj8XDcmvMsBdDkh825AYMrN47jwWAQBvOpqSkQz8F74QA5pG7NC5ii9LocCwBLQsY2mw04NCCNIAjwaXYAD4VCYLVmu3UqlWqYn5/PxXHWoxUYySnWR5SAc3N4oyiKIAhwcfgJCHtebCyZXBQ4bykjYIFFa+XWYyjAqg6Hw+l0ulwutkNzlupSbp1Op5dgsyM527k5wRzy9vl8IKSzkbvdbldenHlx8AmYt/RabAE+a+XoAsCAcTFmn88HN2Uc0mAfTtN0KpVagM1xbnjDzX50Cj6CyPbvQCAAQjpEDgI79HV3aQEXhPTKtkBpa+VqwMIMgzbwZhC6A4EAeITCJg0D+MzMDE3T6XR6dnY259kQNtu5i4M55B0KhQiCAC4OkEPqEDyaF4gfkaQqC4D1GBgTAgaM/X4/G3MoFIJvcEHS4I4rnZdMJsOFPTc3l8lLOp2GwRwu3oB3OByGLg6QB4NBSB2Ed6/Xq1AotmzZ8tvf/vbatWveQoGzr2Xm7Xd73e7c/YmwHPhoUKNxCLeponb//v0HDhwQ6FhoIZ4jEK4hY+DNOJ57bkqSZDgcBh9S4JAGARwwXYBd7NwwmINnLIA3WL+j0WgkEgHIoZfjOI5hWHBRAoFAX19fW1tbc3Pz9evX/Sst/f39YlX+1+YHHs902V7vtAyMKRxlm4lq4PF4/jMvHo9HVEeAFngwMC2GYXheCIIA3gwww1tqsE4Dn6YoymQyzc7OcmGL4h2LxdjISZIE1EF4B7MB+Ldt23bjxg0sLzabbefOndtKyMmTJ0GzSl5lMlklzdhtXv7bQxTNfUlCWHbtHlSOu4XbiK29evVqU1PTK6+8cvXqVbF9oTGBE0PG0JsBZuDQbNI0Tff19T377LMEQWQymWw22/AFSzpZ0pGX9vb2u3fvgngO9mtsF4fII3kBvk4uSigvO3bsuHnzJsj7/f7B0jIxMUFULHK5vOK2Cw0b/9br9eY+vCEs7743NKFChNuIrd2yZcv169evXbu2ZcuWsn2BrdivixbN/QV+DAzOixnsyED03rt377p1665fvw7urgtgf/HFFyzcnYD3tWvX0nmh88JBDgJ7bFGAu4OpgNfu7m6LxQLCfnjlZHh4WKyypuYBmy1Qttfb7w6bTL6yzSpvoFQq161bF8jL2rVrx8fHy/ZlG5Cdh3SBvROLQuUFYAZ773Q6jeP42rVru7q6mpqasnlpYBgGbMjhK6gAr5lFAbyBi9M0DZFDRwfjxuPxRe65vwqF4tKlS4ODg+zCFcmPjo6K1fP5l5a/bu4vm/btV+afKItVX7J9a2vrf7Dkk08+Kdm0XEU8Hl/km/sLGFMUBTEDh06n05lM5uuvv37vvfdomn7hhResVmsujBfDZi/e2cUna5nFLxKwvRzu3eCoFEUlk0kwoaGhoeeee27nzp3PPvusUqlkz3L5eYVCUYWSV14bxPGIQMfdexUmMybQQGwVjuMbNmy4efMmeD/z5s2bGzZswHFcrJ5EIpFMJtl2BnkQbqempnAcB2jgduzVV1/t7e3NZrPHjh07d+7c/Px8DnblvEsh50R4MI9AIOB2u5PJ5NatW2/cuAEKwaceFHzidrtBm0pelUplJc04bfZ9OKHWBDmF8BAnYs3bhkkyDkuWn7l9+/bmzZvZejZv3vztt9+yS0TloRMDm4Og/cYbbxw6dAhizmQyZrP5hRdeoGk6m81qtdqNGzfm7rMB7LK82S4OQju4juArjPBwEjRNy2SyV1999aWXXsIwjKZpm80G7kB4X7dv387uK5yfmJgQbsBbOzoW2PbG6EeHtbxpx1tjN2+7eDtWXbh9+/auri5292vXru3YsYNdIjYPYzUwvtPpXLdu3YYNGyKRSCaTmZuby2azZ86caWtrA2vxDz/80NjYODw83LCWJc/yCVzeQU/41GVxNc+AO3JIHWbcbvf69etv3boVj8dh4UplVCpVdaricfq/Xx9VKIN6A8FOb70zbjKHqtMp0Ov27duRSITdIBKJ3Llzh11SXR768YULF44cOfLmm2/euXMHMEqn0xs3btRoNHAf1t7e/sEHHzQYCkVXJFNTU0AF57WYOsQPMvfu3Xv++effyYtarZ4tlOrOEPaqGnY6nd66fYwgklAVyLTsmXC7C6hwGjzRw0LbcI84hmUf0jT95z//2WAwPHz4cNu2bYCRTCb74x//qNVqIcz79++vW7duKYwLxHN4gXB4sw/nFgVOJRQKqRcFx3FYviIZjUZTtZ7XdyjI8Ay7eyo1u32nMhQqKGQ3EJV3u91HjhwBV7nw69GjR1EUrVz5oo1zgRqIXC5/8cUXtVqtUqlcu3aty+Wan5/ft2/fa6+99m6hvPTSSzywAXUIuDizOFCZv3NzcxcvXty7d++dO3fAQlKmg5hqnU4npnlB29ffGI9EU7AImUp80mbu/MIFS5aZ2b59++7duzsrkN27d+/atWs5w+3du5e99p49ezYSiaxbtw7HcTY4hmEePXpUEjbvlo3dH+ZLzbW/v7+pqamzs/NPf/pTX19fNpulKOqrr74qZQS5XF5KVXH5smDvGI9EcrDd7vixk5a/f6jX6MjiIaouaWxs1Gq1lXTXarWNjY2VtORtg2HY73//e5IkAQuLxfKHP/yhq6tr9+7dkM78/Dzw3txu3CAoOp1uamqK3VNUPpvN3rt3r6mpCdzwkSRZinRnZ2d3dzfvKfEWLgv2G+N6Q/jYCcue/9Uqx4n87pV3kCoLVxa2gMEvX7584MABdoPm5ub169f39vbCQrg6MwzT0FJODhw4UDawQ9XFmT179qxfv16v1xdXLadkOQq3vzmx6z3N8Ajxww/LmULJvo2NjTqdrmQ1q0Kn0zU2NrIKxGX/8pe/TExMsPt89913zz//fKmvYAqFcfZFAfNs1cJ5tVp9+fLlf8WGpqamO3fuCDcWW7sc2E5XYm7uyXDOn0Zzc/PDhw8rOaOenp7m5uZKWvK2sdvtnPK5uTm3u+TPOYqGXTl1n8936NChjRs3Hjp0KJFIcKb1b3w4PDz88ssvs/dNpfKbN28eGxtbvikgFOFM9bCL9S5/0pKGSixQbPkKS1YSdoVDSs3qZQEJdr0sX4dxJdh1MHq9hpRg18vydRhXgl0Ho9drSAl2vSxfh3El2HUwer2GlGDXy/J1GFeCXQej12tICXa9LF+HcSXYdTB6vYaUYNfL8nUY9/8BVRza0lm/Wk8AAAAASUVORK5CYII=" onload="makeImageResizable('img-1750153220832')"><br><pre class="language-diff" data-element-id="element_1750153235637"><span class="code-language-label" style="position: absolute; top: 5px; right: 5px; background: rgba(255, 255, 255, 0.1); color: rgb(160, 174, 192); padding: 2px 8px; border-radius: 4px; font-size: 11px; font-weight: 600; text-transform: uppercase;">DIFF</span><code class="language-diff">diff --git a/rtice/services/rtk_ice-customer.h b/rtice/services/rtk_ice-customer.h
index 2537d8a1..014705bd <span style="color: #f78c6c;">100644</span>
--- a/rtice/services/rtk_ice-customer.h
+++ b/rtice/services/rtk_ice-customer.h
@@ -<span style="color: #f78c6c;">19</span>,<span style="color: #f78c6c;">10</span> +<span style="color: #f78c6c;">19</span>,<span style="color: #f78c6c;">12</span> @@
 #define CUST_COMMANDS(X)                                                \
         AT_STARTL()                                                   \
                 X(CONFIG_RTK_KDRV_RTICE_AT_CSR_COMMAND_TEST, _COMMAND_DEBUG_KEY_0, AT0_CSR_Command_Debug_cb, AT_LOCAL) \
-                X(CONFIG_RTK_KDRV_RTICE_AT_CSR_COMMAND_TEST, <span style="color: #f78c6c;">2</span>, AT_CSR_HdmiRX_GetRawTimingInfo_cb, AT_BANKED) \
+                <span style="color: #5f7e97;">//X(CONFIG_RTK_KDRV_RTICE_AT_CSR_COMMAND_TEST, <span style="color: #f78c6c;">2</span>, AT_CSR_HdmiRX_GetRawTimingInfo_cb, AT_BANKED) \</span>
                 X(CONFIG_RTK_KDRV_RTICE_AT_CSR_COMMAND_TEST, <span style="color: #f78c6c;">3</span>, AT_CSR_HdmiTX_GetRawTimingInfo_cb, AT_LOCAL) \
                 X(CONFIG_RTK_KDRV_RTICE_AT_CSR_COMMAND_TEST, <span style="color: #f78c6c;">13</span>, AT_CSR_PQ_SimpleSharpness_OnOff_cb, AT_LOCAL) \
-                X(CONFIG_RTK_KDRV_RTICE_AT_CSR_COMMAND_TEST, <span style="color: #f78c6c;">6</span>, AT_CSR_Get_HDMI_HPD_Status_cb, AT_LOCAL) \
+                <span style="color: #5f7e97;">//X(CONFIG_RTK_KDRV_RTICE_AT_CSR_COMMAND_TEST, <span style="color: #f78c6c;">6</span>, AT_CSR_Get_HDMI_HPD_Status_cb, AT_LOCAL) \</span>
+				X(CONFIG_ENABLE_HDMIRX,                      <span style="color: #f78c6c;">2</span>, AT_CSR_HdmiRX_GetRawTimingInfo_cb, AT_BANKED) \
+                X(CONFIG_ENABLE_HDMIRX,                      <span style="color: #f78c6c;">3</span>, AT_CSR_SetHDMIRX_HDCP_OnOff_cb, AT_BANKED) \
                 X(CONFIG_ENABLE_SW_AUDIO,                    <span style="color: #f78c6c;">8</span>, AT_CSR_Audio_Set_ADC_OnOff, AT_BANKED) \
                 X(CONFIG_ENABLE_SW_AUDIO,                    <span style="color: #f78c6c;">9</span>, AT_CSR_Audio_Set_DACHP_OnOff, AT_BANKED) \
                 X(CONFIG_ENABLE_SW_AUDIO,                   <span style="color: #f78c6c;">10</span>, AT_CSR_Audio_Set_ADC_VolumeGain, AT_BANKED) \
@@ -<span style="color: #f78c6c;">31</span>,<span style="color: #f78c6c;">6</span> +<span style="color: #f78c6c;">33</span>,<span style="color: #f78c6c;">9</span> @@
                 X(CONFIG_ENABLE_SW_AUDIO,                   <span style="color: #f78c6c;">13</span>, AT_CSR_Audio_Get_HdmiRX_VolumeGain, AT_BANKED) \
                 X(CONFIG_ENABLE_SW_AUDIO,                   <span style="color: #f78c6c;">16</span>, AT_CSR_Audio_Set_UAC_VolumeGain, AT_BANKED) \
                 X(CONFIG_ENABLE_SW_AUDIO,                   <span style="color: #f78c6c;">17</span>, AT_CSR_Audio_Get_UAC_VolumeGain, AT_BANKED) \
+                X(CONFIG_ENABLE_PQ,                   		<span style="color: #f78c6c;">31</span>, AT_CSR_HDR2SDRI_OnOff_cb, AT_BANKED) \
+                X(CONFIG_CUSTOMER_0001,                   	<span style="color: #f78c6c;">35</span>, AT_CSR_Get_System_Info_cb, AT_BANKED) \
+                X(CONFIG_CUSTOMER_0001,                   	<span style="color: #f78c6c;">37</span>, AT_CSR_Set_System_Reboot_cb, AT_BANKED) \
                 X(CONFIG_ENABLE_SW_AUDIO,                   <span style="color: #f78c6c;">38</span>, AT_CSR_Audio_Set_UacOut2_MixerSource, AT_BANKED) \
                 X(CONFIG_ENABLE_SW_AUDIO,                   <span style="color: #f78c6c;">39</span>, AT_CSR_Audio_Get_UacOut2_MixerSource, AT_BANKED) \
                 X(CONFIG_ENABLE_SW_AUDIO,                   <span style="color: #f78c6c;">40</span>, AT_CSR_Audio_Set_DACHP_MixerSource, AT_BANKED) \
@@ -<span style="color: #f78c6c;">45</span>,<span style="color: #f78c6c;">6</span> +<span style="color: #f78c6c;">50</span>,<span style="color: #f78c6c;">9</span> @@
                 X(CONFIG_ENABLE_SW_AUDIO,                   <span style="color: #f78c6c;">49</span>, AT_CSR_Audio_Get_DACHP_Mute, AT_BANKED) \
                 X(CONFIG_ENABLE_SW_AUDIO,                   <span style="color: #f78c6c;">50</span>, AT_CSR_Audio_Set_I2SOut_Mute, AT_BANKED) \
                 X(CONFIG_ENABLE_SW_AUDIO,                   <span style="color: #f78c6c;">51</span>, AT_CSR_Audio_Get_I2SOut_Mute, AT_BANKED) \
+                X(CONFIG_CUSTOMER_0001,                   	<span style="color: #f78c6c;">52</span>, AT_CSR_Input_Source_Switch_cb, AT_BANKED) \
+                X(CONFIG_CUSTOMER_0001,                   	<span style="color: #f78c6c;">53</span>, AT_CSR_Get_Current_Input_Source_cb, AT_BANKED) \
+                X(CONFIG_ENABLE_HDMIRX,                   	<span style="color: #f78c6c;">54</span>, AT_CSR_Get_HDMI_HPD_Status_cb, AT_BANKED) \
         AT_ENDL()
 
 
diff --git a/tvscalercontrol/hdmirx/at_hdmirx.c b/tvscalercontrol/hdmirx/at_hdmirx.c
index 975c6cb9..e84732c6 <span style="color: #f78c6c;">100755</span>
--- a/tvscalercontrol/hdmirx/at_hdmirx.c
+++ b/tvscalercontrol/hdmirx/at_hdmirx.c
@@ -<span style="color: #f78c6c;">62</span>,<span style="color: #f78c6c;">6</span> +<span style="color: #f78c6c;">62</span>,<span style="color: #f78c6c;">11</span> @@ void AT_HdmiRX_GetRawTimingInfo_cb(void) __banked
     "color: #c792ea;"&gt;return;
 }
 
+void AT_CSR_HdmiRX_GetRawTimingInfo_cb(void) __banked
+{
+	AT_HdmiRX_GetRawTimingInfo_cb();
+}
+
 UINT32 AT_Get_HDMI_HPD_Status(void)
 {
     "color: #c792ea;"&gt;if(RHAL_VFE_HDMI_Get_HotPlug_Status(<span style="color: #f78c6c;">0</span>) == <span style="color: #f78c6c;">0</span>)
@@ -<span style="color: #f78c6c;">118</span>,<span style="color: #f78c6c;">3</span> +<span style="color: #f78c6c;">123</span>,<span style="color: #f78c6c;">8</span> @@ void AT_SetHDMIRX_HDCP_OnOff_cb(void) __banked
     rtice_pure_ack(AT_ACQUIRE_R_TPDU());
     "color: #c792ea;"&gt;return;
 }
+
+void AT_CSR_SetHDMIRX_HDCP_OnOff_cb(void) __banked
+{
+	AT_SetHDMIRX_HDCP_OnOff_cb();
+}
diff --git a/tvscalercontrol/vip/VipATCommand_4.c b/tvscalercontrol/vip/VipATCommand_4.c
index 964dfecd..d27cf320 <span style="color: #f78c6c;">100755</span>
--- a/tvscalercontrol/vip/VipATCommand_4.c
+++ b/tvscalercontrol/vip/VipATCommand_4.c
@@ -<span style="color: #f78c6c;">829</span>,<span style="color: #f78c6c;">6</span> +<span style="color: #f78c6c;">829</span>,<span style="color: #f78c6c;">11</span> @@ void AT_HDR2SDRI_OnOff_cb(void) __banked
 	"color: #c792ea;"&gt;return ;
 }
 
+void AT_CSR_HDR2SDRI_OnOff_cb(void) __banked
+{
+	AT_HDR2SDRI_OnOff_cb();
+}
+
 <span style="color: #5f7e97;">// CMD:	<span style="color: #f78c6c;">32</span>	r/w:	r	Get UVC_UZD status on UVC path: enable or disable</span>
 UINT32 AT_Get_UVC_UZD_Status(void)
 {
</code></pre><table><tbody><tr><th>標題</th><th>標題</th><th>標題</th></tr><tr><td>內容</td><td>內容</td><td>內容</td></tr><tr><td>內容</td><td>內容</td><td>內容</td></tr></tbody></table></div>
                        
                    </div>
                
                    <div class="comment-item" data-id="c2844a46-acae-40b0-8fb4-b8bca4b7de37">
                        <div class="comment-header">
                            <div class="comment-author">
                                <div class="comment-avatar">匿</div>
                                <div class="comment-meta">
                                    <div class="comment-author-name">匿名用戶</div>
                                    <div class="comment-time">8 小時前</div>
                                </div>
                            </div>
                            <div class="comment-actions">
                                <button class="comment-reply-btn" onclick="replyToComment('c2844a46-acae-40b0-8fb4-b8bca4b7de37', '程式碼檢討')">
                                    <i class="fas fa-reply"></i> 回覆
                                </button>
                                <button class="comment-action-btn" onclick="editComment('c2844a46-acae-40b0-8fb4-b8bca4b7de37')">
                                    <i class="fas fa-edit"></i> 編輯
                                </button>
                                <button class="comment-action-btn delete" onclick="deleteComment('c2844a46-acae-40b0-8fb4-b8bca4b7de37')">
                                    <i class="fas fa-trash"></i> 刪除
                                </button>
                            </div>
                        </div>
                        <div class="comment-content"><h1>ASFASDFASDF</h1><div><ul><li>DAFASDFASFASF</li><li><blockquote>ASDFASDFASF<a href="https://www.google.com.tw">https://www.google.com.tw</a></blockquote><br></li></ul></div><img id="img-1750153220832" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKQAAAClCAIAAABdi8GzAAAeSklEQVR4Ae2d2XMTV7rA/ZCnqfkb5mGK56mamreZqnsrDJBMpmAmNZkbw1TiXF8ChCzEBHKZEAjBAQ/7FpYb2wkJwQQIEzCY2NiybGxLtvbV2tttbd2t1t5uybLi9B3p2MetVqullo1kJv3VKfn0Wb5z+vv1953TrcUNtEihJFnFFhCG2cBULPOSPCUWKIW0DOxlnl1WkmVbYJkI2OCFYFc4zLJPR1JQpQUqBAR5l4QtoKjKqUndnrAFBJAB3lzYvB14Jzk3N5cRlFlBSUvCsoCgqWYFzZyZm5vjBVSMsgB2cfX8/DxHUTHj2dlZ1rSlbI0sMDvLvQiKqXOALsHmVJTCnE6nwf4+WSQJSWpigSLDJwGRdDqdyfA4OiS7ABsewwzboefm5tLpNEVRJElOTU0FAgEcx7FFCfJJQJIVtQCfjYOLBDAcxwOBwNTUFEmSFEWl02mOlwOsOdgQMMxwSGcymZmZmVAoRBBENpuFuzsps6oskM1mCYIIhUIzMzPFLj4/P88Dm00abA3S6XQkEsFxfFWdmzQZXgvgOB6JREBIz2QybJoN0JtBhl0HSM/OzlIURRBEKpXi1S4VrioLpFIpgiAoioI7OMi0ADYszWaz0KfT6XQymfT7/T/++OOqOitpMrwW+PHHH/1+fzKZBHcFgCMgyw8b+jTYeycSCa/Xy6taKlyFFvB6vYlEgqbpdDrN9u8l2NCtOaRpmo7FYiiKrsKzkqbEawEURWOxGLwfg7wXYEPS8JlJOp1OpVI0TVMUFYvFEATh1SsVrkILIAgSi8UoiqJpOpVKwc0aFzZ7qQakKYqKRCIej2cVnpU0JV4LeDyeSCQC3nYHwRzwLoAN3Bo8/qRpemZmhqKoRCIRDofdbjevXqlwFVrA7XaHw+FEIkFR1MzMDFy8c7BhDIduDQM4ePxHkqTT6azirPr7+69cuXJRkqos0N3dXYXNGYZxOp0kSQJ27GC+BBu4NdivwwCeSCRisRhBEA6HQ9TADx48+OUvf9kgyfIs8Itf/OLWrVuiLM8wjMPhIAgiFosB5wa80+l0g7Bbx2KxaDSK47jNZqt8yPHxcXCOv/rVr16TpFoL/PrXvwZmHBoaqtz4DMPYbDYcx6PRKOQNdmo8sDluHYlEMAwTBfvFF19saGjYunWrqClKjYst8NZbbzU0NDz33HPFVQIlNpsNw7BIJAJhA+degF0cw0EAj0aj4XA4GAxOTk4KaOdU/fznP/8XbL/fzymXDsVaAMOwhoaGn/3sZ6I6Tk5OBoPBcDjMce4F2HBrBu7EwSY8FotFIhGSJP1+v8ViqXw8EHwqby+1FLBAFca0WCx+v58kSbZz0zTNAxvcnyUSCeDWoVBIgi0A40lXVQ07FAoB54bbtCXY8Paa49YEQXi9XpPJVPlZVTG/ypX/1FpWYUyTyeT1egmC4Dj3Emz2TRdYsEEMx3Fcgl3HK6xq2DiO88CGuzP2sxSwYIdCIQzDpqenjUZj5SdcxfwElPvaN21q9wk3WFMgLXJZS0HBmhY57M+tWmrYIoONchn5nk0d+Xd/5HuW2oAcez7FtbA1u1mBajEHVRjTaDROT09jGBYKhdjLds6zIWz2I9JYLBYOhwmCwDAMRdF6wfa1b4K248nsgRB9HRtbOto3LQCTtbDJyfcUwGZXLZm9sEsh7AXqC41lLStCcWlowVx1sFEUxTCMIIhwOAxvwHKw2VtxiqKSyWQ8Ho9GoyRJEgQRDAZRFDUYDIJTKqisYn4F/RcOfB0b12xql3fs6cj59YKJc1BzhNGOlgJ358IuvDLEwS64wvbIi313lcM2GAwoigaDQbBsR6PReDyeTCZ5YLMX7LrCBsx95WGjHWz3z5EodFOOZxdeB0tHHI9nhfESnl047pKiglxhX76LWrisCs/hwIaRvAxsHMeDwSCCIPXwbKbYpQrMuGbNmo15p0c7NuX8Lx/G2/Mez12YxXk2sH4OtiynrXgaJT37CUT46mAjCBIMBjl7tPKwA4EAgiB6vV74AmTXVjE/dvfCfGWevaejY0+HvH1TC4BdqKLgqNDpl6qKyvOMWVfJUtPinLwF7B4WYcOoUNxUbEkVxtTr9QiCgI/3szfkQrBDoRD49PlTAHvjppZ2H1hr824nb8k5/SIDtoGLoC5UFpTntgtr1uQicMH6zQos7Ji/hHYRNsMs7i3YQ1eVXyZs9oZ8ATbvExVw3+X3+xEE0el0lU+1ivnxKZdz7p9YpobZ/IqIdmwC8Xxx41ZMaCnwciM8VLUG8vPld/VLCBcmBy6gopmyr5Il2LntfP6CK2ovsqAKY+p0OgRB/H4/5+5rNcOu2Cq5Nbsj74tr8mG8YyGoVu/ZuaEhbMA+Bw9eGKxra9PS7R+8ZViceQH7xUKRf39CsBcNDaMizLD8Jr9BW7Bh7pZMDsBDNGvWLHktZ6O+ZHm2g+ZLIWz5HtCdNSLoxo4ooKSIbsGNwNJgInI/Gdism2loel97C3iwtXSrXXgLtBSxS3g2+yJg52EYBygWRlwMGy2yItjFyIpgFzcRW/ITgV1g3CXGLIMu+E0Fnr0GBtsiD16wPrt84eppkS+tu2DLtnRtsC4pFj7W3Fily8quPGzed0HqvUFblo3+bTrXAjZ8MO73+z0eTz124/82vJZ1ItXB9ng8YDfOfjy+sBsv9mwJ9rIQrVzn1Q77mWeeaWhooGl65U75J6oplUo1NDQ888wzos5fp9PVzrN/97vf/etjcsePHxc1RalxsQXOnz/f0NDwm9/8prhKoKSmsLu6ukDw2blz5xeSVGsB8DnihoaGjo4OAbTFVTWFzTBMa2sr4C29LtMC+/btK8YpXFJr2AzD6PX6ffv2vfzyy3+VpCoLtLS0KJVKYa68tXWAzTsPqbAGFpBg18DIq2UICfZqIVGDeUiwa2Dk1TKEBHu1kKjBPCTYNTDyahlCgr1aSNRgHhLsGhh5tQwhwV4tJGowDwl2DYy8WoaQYK8WEjWYhwS7BkZeLUPUDXYiRJJen0BKhMiqjZQMhyJ+r0BKhkNVK2cYhorhUQIRSFSs+h/cTyRDZMQrkBLJKidfB9ghu3Pk9AXZwdbHH7eNlEiPP26THWwdOX0hZBf3C4oxj8PYfkZ36iPLucPW8/zJcu6w7tRHxvYzMY+4X+xjGCaBG20D+6wPtrr6trlLJFffNuuDrbaBfQlcxC8VMAwTjtmVhpOP1fuVxoPjpo94k9J4MNfAcDIcs4u9XmsNO+7z9x9oNZ84P3X+/8om84nz/Qda475Kf0prJujTnjyIdZ6cuX6hbMI6T2pOHpwJCv12A8eadNRjuf8/sYm35y27y6bYxNuW7v+ho5X+kG+C8g6p9jv8/wgkzpRNDv8/hlQfJChxP/Zea9j6rpuGY2fLYoYNDMfO6rtucoxe6tB1t8vffrwsZtjA137cdberlLbiclT1aVjxVlnMsEFY8Raq+rRYD2+J2fH15HRbWcywweT0UbPja15VpQprDXvgcJvr7GXIsmzGdfbSwOG2UrPnlGvPtca/OgdZls3EvjqnPdfKUSJwaO7ZOWt4F7Ism5k1vGvu2SmgkF01rD40HTkFWZbNTIdPDasPsTWUzdcadt+HH5cFzGnQ9+HHZU8DNFCdOFAWMKeB6sSBCpUzDGO811wWMKeB8V5zhfoHx/9eFjCnweD43ytUDppJsCXYiSfyJQGGYSTPLuWLkmfnduxSGOdEb3gohfHyN13sZVtasxMJKYzzRVtpgybiN1WkNZvvElook9Zsac0WepomrdnSml0yfNT6PvvRwVbk3BXOYxOBQ+TclUcHK33IpT71UfLr8+z9l3A++fV59amPStqmqMLU/XrW3MJ5bCJwmDW3mLpfL1LDXyCf2O+LnYY77bIZX+y0fGI/v64SpbWGPfHZ5/bTnwrQ5VTZT3868dnnJSbPLZ7sag9fPSMMmF0bvnpmsqudq6X0sXvkKK3dJUCXU0Vrd7lHjpbWV1CjtV5BiBNlGcMGCHFCa71SoKLcQa1hY0bz+CcnOEQFDsc/OYEZzeXOYqE+YjM5Lx5h4xTOOy8eidhE/CeEmH/cO7iDQ1Tg0Du4I+Yfr3DyeNigtR+GLMtmtPbDeFjET0IzDFNr2AzDeIYej7Ue0x87Yz15YbJEsp68oD92ZvTwPzxDjys0FmgWUA7ZLrT6PjtOfH4qVCIRn5/yfXbcdqE1oBT3f7EYhiEc96f6t5NjbybU7yRLpITqHXLsTaR/O+G4L2ryqH9QZTlkRY+6gsdc2HH+FDxmRY+qLIdQ/6Ao5fWBzTDMTDiCavWOx6MCCdXqZ8IRsefDMEwqGgkatajysUAKGrWpaDXKc/opAkfGfJO9AglHxlIUUcXkZ1Jhb0DjQocEkjegmUmFq1BeB8+uYpZSlxWxgAR7Rcz4dCiRYD8dnFZklhLsFTHj06FEgv10cFqRWUqwV8SMT4cSCfbTwWlFZinBXhEzPh1KJNhPB6cVmaUEe0XM+HQokWA/HZxWZJYS7BUx49OhRIL9dHBakVnWDTYRC6OEXyARsWre2AFGIeNxXygkkMh4fDnmi8USOBEWSLFYomr9iVgiTJACKVGt8jrAtgY9rd93tvzz7Hv3P93zgD+9d//Tln+ebf2+0xqs9CuvwLgugrgkH2rr7Tsuk58Y5E/HZfK23r5L8iEXIfpdyAAe6R5Q3Xww+s8+lUC6+WC0e0AVwMW9ixrBSXX/mOL+oKZ3VNs3xps0vaOK+4Pq/rEILvrHCmoNG40E371z5sPHVw9rvymbPnx89d07Z9BIsEIvCcRiR7/vvagzdDpcZdNFrf7ow95ALFah8tyX5aPJb+6PyCbcSgteNskmXN90j4SjyQr1J6PxsW7Z1LiVNE+XTci4daxbloyKi0+1ht2puLd/6POymGGDD4Y6OxX3KrTXtxrtBbW2LGbY4IJa861GW6FyhmEeq6yPFI6ymGGDRwr7Y5W1Qv2TE0bXmKksZtjANWaanBD3yw61hv3+dxcOTVyHLMtmDk1cf/+7CxXa60Tfo8+sNsiybOYzq+1E36MKlTMMc6tndNTghyzLZkYM/ls9oxXqVzwYxPQeyLJsBtN7FA/EfTKp1rB33T5VFjCnwa7bpyq015Geh2UBcxoc6XlYoXKGYbruDZcFzGnQdW+4Qv0jd/vLAuY0GLnbX6Fy0EyCLcF+Yl/skzy7lC9Knp3bsUthnBO94aEUxsvfdLGXbWnNfoLfz5bCuBTGhR6wSGEcxm1ORgrjUhgvFTtq/l0vKYyXQvFvuBvf/e2ZjzU3OI9NBA4/1tzY/e2ZUgbilLc9/L7D7mTvv4TzHXZn28PvOUoEDr/pfqwwBzmPTQQOFebgN92VfjFx9N4AYUI5gVrgkDCho/cGBGZbXFXrhypnB28cVFwToMupOqi4dnbwRvG8eUu+VCivmCzCgNm1V0yWLxUi/qnloxH9sBYVoMupGtaij0b0vFMtLjQ+Vvs0TgG6nCqfxml8rC7WI1BSa9har+393iscogKH7/de0XptAifArrIGgqdHRtk4hfOnR0atgUrfUmMYBvUT9wcNHKICh/cHDai/0ndRQz7MLFNxiAocmmWqkA9jn37ZfK1h534waXJ8b8+lD+SdB0a/FEgfyDv39lzsm6z0y+zgVEdd7pNDwxdUmkt642WDiTdd0hsvqDQn5cOjLndZA3EaWBzTd/u1fWP2QbVHrkZ406DK0zdmv9uvsTimOd2FD70ORN+vdI4aUZVtukRCJ2zOUaP+kcLrQIS1FdfWATbDMGQyNuE2ySwTAmnCbSKTIt5shucWoSj9FDpmdwgk/RQaoSjYRVQmQdFOxGea9AgkJ+JLULQotaAxTc34kWlk0iWQ/Mg0Tc1UoVw07EgkEgqFMAzz+/0Iguh04n4HrYopSl1WygI6nQ5BEL/fj2FYKBSKRCKxWGzpCdrs7Gw6naZpmqKoRCIRi8Uk2Ctl+trrkWDX3uZ1G7EkbLfb7XK5nE6nw+Gw2WxWq9VisZhMJoPBoNPp1Gr1+Pj4yMhIT09P3eYuDSzSAj09PSMjI+Pj42q1WqfTGQwGk8lksVgWfm9cCuMi7bmqm5f07Gw2m8lkJNirmp7IyZWBnclkeDdoOI4HAgEEQfT6Sp8QiZyY1HzlLaDX6xEECQQCOI7z7MZ5YZMkKcFeeRRPXiMbNkmS3FsvAdjBYBBBEINB3C8qPvkzkkYoaQGDwYAgSDAYxHFcBGyCIILBIIqiRqO4z6mXnIhU8eQtYDQaURQNBoMEQZSBnUwm4/F4NBolSRLCtlgsqVTqyc9TGmG5FkilUhaLhQ07Go3G4/FkMpm79Zqbm4NhfGZmBj5EC4fDBEFgGOb1eh0Oh9cr7j9CLnfWUv+qLABhYRhGEEQ4HAbPSimKKoCdSqV4n5iCDbnZbMbx6v+DcFUzlzqJswCO42azGWzFOQ/GF2CDW+10XjiwwYY8GAxOT0+7XC6TyWS1WjEMI0kylBciLzhLMEmemAVYZsaB5QEFkiQxDLNarSaTyeVyTU9PF+/OCmDzPleBy7bf70dR1O12WywWnU6nUqkUCsXo6OjIyMjw8LBcLh8cHJTJZAMDA48WpY9PeiURtACfzfoWLfpoYGBAJpMNDg7K5fLh4eGRkZHR0VGFQqFSqXQ6ncVicbvdKIr6/f7i3VkBbLhsU3lJJBLRaDQcDoM3OgOBgNfrBbztdvvk5CR4hG40GvV6vVar1Wg0arVapVKNs0SpVCpKyJgkLAuUMJJCqVSyzDmuUqnUarVGo9FqtXq93mg0gofek5OTdrsdkPZ6vYFAAMTwcDgcjUYTiUQeaX7NBmEcwi4Vyf1+P+CNIIjb7QZvnExOTlqtVrPZbMyLwWDQ6/W6vIArQCPJ8iyg1WqBPfV6vcFgAHY2m81Wq3VyctJmszkcDrfbjSAIiqJerxe4NecOm6IomqZzGzT2hpzz0BQ4N9iTBwIBn8+HoujU1JTH43G5XA6HA3g54G02m00mk9FoNORFnxcwUem1OgsAGwJ7Aj825wWQttvtDofD5XJ5PJ6pqSkURX0+H3BrsA+PRqNwK74Em+PcwOvhpxjYKzd0bo/H43a7nU6n3W632WzAxS0WC5iNKS/gMoRODyYtvZa1ANtuwJLAqhaLBTq03W53Op1ut9vj8XDcmvMsBdDkh825AYMrN47jwWAQBvOpqSkQz8F74QA5pG7NC5ii9LocCwBLQsY2mw04NCCNIAjwaXYAD4VCYLVmu3UqlWqYn5/PxXHWoxUYySnWR5SAc3N4oyiKIAhwcfgJCHtebCyZXBQ4bykjYIFFa+XWYyjAqg6Hw+l0ulwutkNzlupSbp1Op5dgsyM527k5wRzy9vl8IKSzkbvdbldenHlx8AmYt/RabAE+a+XoAsCAcTFmn88HN2Uc0mAfTtN0KpVagM1xbnjDzX50Cj6CyPbvQCAAQjpEDgI79HV3aQEXhPTKtkBpa+VqwMIMgzbwZhC6A4EAeITCJg0D+MzMDE3T6XR6dnY259kQNtu5i4M55B0KhQiCAC4OkEPqEDyaF4gfkaQqC4D1GBgTAgaM/X4/G3MoFIJvcEHS4I4rnZdMJsOFPTc3l8lLOp2GwRwu3oB3OByGLg6QB4NBSB2Ed6/Xq1AotmzZ8tvf/vbatWveQoGzr2Xm7Xd73e7c/YmwHPhoUKNxCLeponb//v0HDhwQ6FhoIZ4jEK4hY+DNOJ57bkqSZDgcBh9S4JAGARwwXYBd7NwwmINnLIA3WL+j0WgkEgHIoZfjOI5hWHBRAoFAX19fW1tbc3Pz9evX/Sst/f39YlX+1+YHHs902V7vtAyMKRxlm4lq4PF4/jMvHo9HVEeAFngwMC2GYXheCIIA3gwww1tqsE4Dn6YoymQyzc7OcmGL4h2LxdjISZIE1EF4B7MB+Ldt23bjxg0sLzabbefOndtKyMmTJ0GzSl5lMlklzdhtXv7bQxTNfUlCWHbtHlSOu4XbiK29evVqU1PTK6+8cvXqVbF9oTGBE0PG0JsBZuDQbNI0Tff19T377LMEQWQymWw22/AFSzpZ0pGX9vb2u3fvgngO9mtsF4fII3kBvk4uSigvO3bsuHnzJsj7/f7B0jIxMUFULHK5vOK2Cw0b/9br9eY+vCEs7743NKFChNuIrd2yZcv169evXbu2ZcuWsn2BrdivixbN/QV+DAzOixnsyED03rt377p1665fvw7urgtgf/HFFyzcnYD3tWvX0nmh88JBDgJ7bFGAu4OpgNfu7m6LxQLCfnjlZHh4WKyypuYBmy1Qttfb7w6bTL6yzSpvoFQq161bF8jL2rVrx8fHy/ZlG5Cdh3SBvROLQuUFYAZ773Q6jeP42rVru7q6mpqasnlpYBgGbMjhK6gAr5lFAbyBi9M0DZFDRwfjxuPxRe65vwqF4tKlS4ODg+zCFcmPjo6K1fP5l5a/bu4vm/btV+afKItVX7J9a2vrf7Dkk08+Kdm0XEU8Hl/km/sLGFMUBTEDh06n05lM5uuvv37vvfdomn7hhResVmsujBfDZi/e2cUna5nFLxKwvRzu3eCoFEUlk0kwoaGhoeeee27nzp3PPvusUqlkz3L5eYVCUYWSV14bxPGIQMfdexUmMybQQGwVjuMbNmy4efMmeD/z5s2bGzZswHFcrJ5EIpFMJtl2BnkQbqempnAcB2jgduzVV1/t7e3NZrPHjh07d+7c/Px8DnblvEsh50R4MI9AIOB2u5PJ5NatW2/cuAEKwaceFHzidrtBm0pelUplJc04bfZ9OKHWBDmF8BAnYs3bhkkyDkuWn7l9+/bmzZvZejZv3vztt9+yS0TloRMDm4Og/cYbbxw6dAhizmQyZrP5hRdeoGk6m81qtdqNGzfm7rMB7LK82S4OQju4juArjPBwEjRNy2SyV1999aWXXsIwjKZpm80G7kB4X7dv387uK5yfmJgQbsBbOzoW2PbG6EeHtbxpx1tjN2+7eDtWXbh9+/auri5292vXru3YsYNdIjYPYzUwvtPpXLdu3YYNGyKRSCaTmZuby2azZ86caWtrA2vxDz/80NjYODw83LCWJc/yCVzeQU/41GVxNc+AO3JIHWbcbvf69etv3boVj8dh4UplVCpVdaricfq/Xx9VKIN6A8FOb70zbjKHqtMp0Ov27duRSITdIBKJ3Llzh11SXR768YULF44cOfLmm2/euXMHMEqn0xs3btRoNHAf1t7e/sEHHzQYCkVXJFNTU0AF57WYOsQPMvfu3Xv++effyYtarZ4tlOrOEPaqGnY6nd66fYwgklAVyLTsmXC7C6hwGjzRw0LbcI84hmUf0jT95z//2WAwPHz4cNu2bYCRTCb74x//qNVqIcz79++vW7duKYwLxHN4gXB4sw/nFgVOJRQKqRcFx3FYviIZjUZTtZ7XdyjI8Ay7eyo1u32nMhQqKGQ3EJV3u91HjhwBV7nw69GjR1EUrVz5oo1zgRqIXC5/8cUXtVqtUqlcu3aty+Wan5/ft2/fa6+99m6hvPTSSzywAXUIuDizOFCZv3NzcxcvXty7d++dO3fAQlKmg5hqnU4npnlB29ffGI9EU7AImUp80mbu/MIFS5aZ2b59++7duzsrkN27d+/atWs5w+3du5e99p49ezYSiaxbtw7HcTY4hmEePXpUEjbvlo3dH+ZLzbW/v7+pqamzs/NPf/pTX19fNpulKOqrr74qZQS5XF5KVXH5smDvGI9EcrDd7vixk5a/f6jX6MjiIaouaWxs1Gq1lXTXarWNjY2VtORtg2HY73//e5IkAQuLxfKHP/yhq6tr9+7dkM78/Dzw3txu3CAoOp1uamqK3VNUPpvN3rt3r6mpCdzwkSRZinRnZ2d3dzfvKfEWLgv2G+N6Q/jYCcue/9Uqx4n87pV3kCoLVxa2gMEvX7584MABdoPm5ub169f39vbCQrg6MwzT0FJODhw4UDawQ9XFmT179qxfv16v1xdXLadkOQq3vzmx6z3N8Ajxww/LmULJvo2NjTqdrmQ1q0Kn0zU2NrIKxGX/8pe/TExMsPt89913zz//fKmvYAqFcfZFAfNs1cJ5tVp9+fLlf8WGpqamO3fuCDcWW7sc2E5XYm7uyXDOn0Zzc/PDhw8rOaOenp7m5uZKWvK2sdvtnPK5uTm3u+TPOYqGXTl1n8936NChjRs3Hjp0KJFIcKb1b3w4PDz88ssvs/dNpfKbN28eGxtbvikgFOFM9bCL9S5/0pKGSixQbPkKS1YSdoVDSs3qZQEJdr0sX4dxJdh1MHq9hpRg18vydRhXgl0Ho9drSAl2vSxfh3El2HUwer2GlGDXy/J1GFeCXQej12tICXa9LF+HcSXYdTB6vYaUYNfL8nUY9/8BVRza0lm/Wk8AAAAASUVORK5CYII=" onload="makeImageResizable('img-1750153220832')"><br><pre class="language-diff" data-element-id="element_1750153235637"><span class="code-language-label" style="position: absolute; top: 5px; right: 5px; background: rgba(255, 255, 255, 0.1); color: rgb(160, 174, 192); padding: 2px 8px; border-radius: 4px; font-size: 11px; font-weight: 600; text-transform: uppercase;">DIFF</span><code class="language-diff">diff --git a/rtice/services/rtk_ice-customer.h b/rtice/services/rtk_ice-customer.h
index 2537d8a1..014705bd <span style="color: #f78c6c;">100644</span>
--- a/rtice/services/rtk_ice-customer.h
+++ b/rtice/services/rtk_ice-customer.h
@@ -<span style="color: #f78c6c;">19</span>,<span style="color: #f78c6c;">10</span> +<span style="color: #f78c6c;">19</span>,<span style="color: #f78c6c;">12</span> @@
 #define CUST_COMMANDS(X)                                                \
         AT_STARTL()                                                   \
                 X(CONFIG_RTK_KDRV_RTICE_AT_CSR_COMMAND_TEST, _COMMAND_DEBUG_KEY_0, AT0_CSR_Command_Debug_cb, AT_LOCAL) \
-                X(CONFIG_RTK_KDRV_RTICE_AT_CSR_COMMAND_TEST, <span style="color: #f78c6c;">2</span>, AT_CSR_HdmiRX_GetRawTimingInfo_cb, AT_BANKED) \
+                <span style="color: #5f7e97;">//X(CONFIG_RTK_KDRV_RTICE_AT_CSR_COMMAND_TEST, <span style="color: #f78c6c;">2</span>, AT_CSR_HdmiRX_GetRawTimingInfo_cb, AT_BANKED) \</span>
                 X(CONFIG_RTK_KDRV_RTICE_AT_CSR_COMMAND_TEST, <span style="color: #f78c6c;">3</span>, AT_CSR_HdmiTX_GetRawTimingInfo_cb, AT_LOCAL) \
                 X(CONFIG_RTK_KDRV_RTICE_AT_CSR_COMMAND_TEST, <span style="color: #f78c6c;">13</span>, AT_CSR_PQ_SimpleSharpness_OnOff_cb, AT_LOCAL) \
-                X(CONFIG_RTK_KDRV_RTICE_AT_CSR_COMMAND_TEST, <span style="color: #f78c6c;">6</span>, AT_CSR_Get_HDMI_HPD_Status_cb, AT_LOCAL) \
+                <span style="color: #5f7e97;">//X(CONFIG_RTK_KDRV_RTICE_AT_CSR_COMMAND_TEST, <span style="color: #f78c6c;">6</span>, AT_CSR_Get_HDMI_HPD_Status_cb, AT_LOCAL) \</span>
+				X(CONFIG_ENABLE_HDMIRX,                      <span style="color: #f78c6c;">2</span>, AT_CSR_HdmiRX_GetRawTimingInfo_cb, AT_BANKED) \
+                X(CONFIG_ENABLE_HDMIRX,                      <span style="color: #f78c6c;">3</span>, AT_CSR_SetHDMIRX_HDCP_OnOff_cb, AT_BANKED) \
                 X(CONFIG_ENABLE_SW_AUDIO,                    <span style="color: #f78c6c;">8</span>, AT_CSR_Audio_Set_ADC_OnOff, AT_BANKED) \
                 X(CONFIG_ENABLE_SW_AUDIO,                    <span style="color: #f78c6c;">9</span>, AT_CSR_Audio_Set_DACHP_OnOff, AT_BANKED) \
                 X(CONFIG_ENABLE_SW_AUDIO,                   <span style="color: #f78c6c;">10</span>, AT_CSR_Audio_Set_ADC_VolumeGain, AT_BANKED) \
@@ -<span style="color: #f78c6c;">31</span>,<span style="color: #f78c6c;">6</span> +<span style="color: #f78c6c;">33</span>,<span style="color: #f78c6c;">9</span> @@
                 X(CONFIG_ENABLE_SW_AUDIO,                   <span style="color: #f78c6c;">13</span>, AT_CSR_Audio_Get_HdmiRX_VolumeGain, AT_BANKED) \
                 X(CONFIG_ENABLE_SW_AUDIO,                   <span style="color: #f78c6c;">16</span>, AT_CSR_Audio_Set_UAC_VolumeGain, AT_BANKED) \
                 X(CONFIG_ENABLE_SW_AUDIO,                   <span style="color: #f78c6c;">17</span>, AT_CSR_Audio_Get_UAC_VolumeGain, AT_BANKED) \
+                X(CONFIG_ENABLE_PQ,                   		<span style="color: #f78c6c;">31</span>, AT_CSR_HDR2SDRI_OnOff_cb, AT_BANKED) \
+                X(CONFIG_CUSTOMER_0001,                   	<span style="color: #f78c6c;">35</span>, AT_CSR_Get_System_Info_cb, AT_BANKED) \
+                X(CONFIG_CUSTOMER_0001,                   	<span style="color: #f78c6c;">37</span>, AT_CSR_Set_System_Reboot_cb, AT_BANKED) \
                 X(CONFIG_ENABLE_SW_AUDIO,                   <span style="color: #f78c6c;">38</span>, AT_CSR_Audio_Set_UacOut2_MixerSource, AT_BANKED) \
                 X(CONFIG_ENABLE_SW_AUDIO,                   <span style="color: #f78c6c;">39</span>, AT_CSR_Audio_Get_UacOut2_MixerSource, AT_BANKED) \
                 X(CONFIG_ENABLE_SW_AUDIO,                   <span style="color: #f78c6c;">40</span>, AT_CSR_Audio_Set_DACHP_MixerSource, AT_BANKED) \
@@ -<span style="color: #f78c6c;">45</span>,<span style="color: #f78c6c;">6</span> +<span style="color: #f78c6c;">50</span>,<span style="color: #f78c6c;">9</span> @@
                 X(CONFIG_ENABLE_SW_AUDIO,                   <span style="color: #f78c6c;">49</span>, AT_CSR_Audio_Get_DACHP_Mute, AT_BANKED) \
                 X(CONFIG_ENABLE_SW_AUDIO,                   <span style="color: #f78c6c;">50</span>, AT_CSR_Audio_Set_I2SOut_Mute, AT_BANKED) \
                 X(CONFIG_ENABLE_SW_AUDIO,                   <span style="color: #f78c6c;">51</span>, AT_CSR_Audio_Get_I2SOut_Mute, AT_BANKED) \
+                X(CONFIG_CUSTOMER_0001,                   	<span style="color: #f78c6c;">52</span>, AT_CSR_Input_Source_Switch_cb, AT_BANKED) \
+                X(CONFIG_CUSTOMER_0001,                   	<span style="color: #f78c6c;">53</span>, AT_CSR_Get_Current_Input_Source_cb, AT_BANKED) \
+                X(CONFIG_ENABLE_HDMIRX,                   	<span style="color: #f78c6c;">54</span>, AT_CSR_Get_HDMI_HPD_Status_cb, AT_BANKED) \
         AT_ENDL()
 
 
diff --git a/tvscalercontrol/hdmirx/at_hdmirx.c b/tvscalercontrol/hdmirx/at_hdmirx.c
index 975c6cb9..e84732c6 <span style="color: #f78c6c;">100755</span>
--- a/tvscalercontrol/hdmirx/at_hdmirx.c
+++ b/tvscalercontrol/hdmirx/at_hdmirx.c
@@ -<span style="color: #f78c6c;">62</span>,<span style="color: #f78c6c;">6</span> +<span style="color: #f78c6c;">62</span>,<span style="color: #f78c6c;">11</span> @@ void AT_HdmiRX_GetRawTimingInfo_cb(void) __banked
     "color: #c792ea;"&gt;return;
 }
 
+void AT_CSR_HdmiRX_GetRawTimingInfo_cb(void) __banked
+{
+	AT_HdmiRX_GetRawTimingInfo_cb();
+}
+
 UINT32 AT_Get_HDMI_HPD_Status(void)
 {
     "color: #c792ea;"&gt;if(RHAL_VFE_HDMI_Get_HotPlug_Status(<span style="color: #f78c6c;">0</span>) == <span style="color: #f78c6c;">0</span>)
@@ -<span style="color: #f78c6c;">118</span>,<span style="color: #f78c6c;">3</span> +<span style="color: #f78c6c;">123</span>,<span style="color: #f78c6c;">8</span> @@ void AT_SetHDMIRX_HDCP_OnOff_cb(void) __banked
     rtice_pure_ack(AT_ACQUIRE_R_TPDU());
     "color: #c792ea;"&gt;return;
 }
+
+void AT_CSR_SetHDMIRX_HDCP_OnOff_cb(void) __banked
+{
+	AT_SetHDMIRX_HDCP_OnOff_cb();
+}
diff --git a/tvscalercontrol/vip/VipATCommand_4.c b/tvscalercontrol/vip/VipATCommand_4.c
index 964dfecd..d27cf320 <span style="color: #f78c6c;">100755</span>
--- a/tvscalercontrol/vip/VipATCommand_4.c
+++ b/tvscalercontrol/vip/VipATCommand_4.c
@@ -<span style="color: #f78c6c;">829</span>,<span style="color: #f78c6c;">6</span> +<span style="color: #f78c6c;">829</span>,<span style="color: #f78c6c;">11</span> @@ void AT_HDR2SDRI_OnOff_cb(void) __banked
 	"color: #c792ea;"&gt;return ;
 }
 
+void AT_CSR_HDR2SDRI_OnOff_cb(void) __banked
+{
+	AT_HDR2SDRI_OnOff_cb();
+}
+
 <span style="color: #5f7e97;">// CMD:	<span style="color: #f78c6c;">32</span>	r/w:	r	Get UVC_UZD status on UVC path: enable or disable</span>
 UINT32 AT_Get_UVC_UZD_Status(void)
 {
</code></pre><table><tbody><tr><th>標題</th><th>標題</th><th>標題</th></tr><tr><td>內容</td><td>內容</td><td>內容</td></tr><tr><td>內容</td><td>內容</td><td>內容</td></tr></tbody></table></div>
                        
                    </div>
                
                    <div class="comment-item" data-id="51c228c5-6e9c-4bdf-aa3b-18bb53b3c7ca">
                        <div class="comment-header">
                            <div class="comment-author">
                                <div class="comment-avatar">匿</div>
                                <div class="comment-meta">
                                    <div class="comment-author-name">匿名用戶</div>
                                    <div class="comment-time">8 小時前</div>
                                </div>
                            </div>
                            <div class="comment-actions">
                                <button class="comment-reply-btn" onclick="replyToComment('51c228c5-6e9c-4bdf-aa3b-18bb53b3c7ca', '程式碼檢討')">
                                    <i class="fas fa-reply"></i> 回覆
                                </button>
                                <button class="comment-action-btn" onclick="editComment('51c228c5-6e9c-4bdf-aa3b-18bb53b3c7ca')">
                                    <i class="fas fa-edit"></i> 編輯
                                </button>
                                <button class="comment-action-btn delete" onclick="deleteComment('51c228c5-6e9c-4bdf-aa3b-18bb53b3c7ca')">
                                    <i class="fas fa-trash"></i> 刪除
                                </button>
                            </div>
                        </div>
                        <div class="comment-content"><blockquote data-element-id="element_1750153326450">@匿名用戶: asdfasdf</blockquote><blockquote data-element-id="element_1750153323410">asdfasdf</blockquote><blockquote><br><h1>ASFASDFASDF</h1><div><ul><li>DAFASDFASFASF</li><li><blockquote>ASDFASDFASF</blockquote></li></ul></div></blockquote></div>
                        
                    </div>
                
                    <div class="comment-item" data-id="95987d35-eec7-4c57-9c99-a1c46b737517">
                        <div class="comment-header">
                            <div class="comment-author">
                                <div class="comment-avatar">匿</div>
                                <div class="comment-meta">
                                    <div class="comment-author-name">匿名用戶</div>
                                    <div class="comment-time">8 小時前</div>
                                </div>
                            </div>
                            <div class="comment-actions">
                                <button class="comment-reply-btn" onclick="replyToComment('95987d35-eec7-4c57-9c99-a1c46b737517', '程式碼檢討')">
                                    <i class="fas fa-reply"></i> 回覆
                                </button>
                                <button class="comment-action-btn" onclick="editComment('95987d35-eec7-4c57-9c99-a1c46b737517')">
                                    <i class="fas fa-edit"></i> 編輯
                                </button>
                                <button class="comment-action-btn delete" onclick="deleteComment('95987d35-eec7-4c57-9c99-a1c46b737517')">
                                    <i class="fas fa-trash"></i> 刪除
                                </button>
                            </div>
                        </div>
                        <div class="comment-content"><blockquote data-element-id="element_1750153326450">@匿名用戶: asdfasdf</blockquote><blockquote data-element-id="element_1750153323410">asdfasdf</blockquote><blockquote><br><h1>ASFASDFASDF</h1><div><ul><li>DAFASDFASFASF</li><li><blockquote>ASDFASDFASF</blockquote></li></ul></div></blockquote></div>
                        
                    </div>
                
            </div>
        
            <div class="comment-topic-group">
                <h5 class="comment-topic">
                    <i class="fas fa-folder"></i>
                    錯誤報告
                    <span class="badge">6</span>
                </h5>
                
                    <div class="comment-item" data-id="dfba550c-36d9-4e22-b4a4-24134b2ae933">
                        <div class="comment-header">
                            <div class="comment-author">
                                <div class="comment-avatar">匿</div>
                                <div class="comment-meta">
                                    <div class="comment-author-name">匿名用戶</div>
                                    <div class="comment-time">8 小時前</div>
                                </div>
                            </div>
                            <div class="comment-actions">
                                <button class="comment-reply-btn" onclick="replyToComment('dfba550c-36d9-4e22-b4a4-24134b2ae933', '錯誤報告')">
                                    <i class="fas fa-reply"></i> 回覆
                                </button>
                                <button class="comment-action-btn" onclick="editComment('dfba550c-36d9-4e22-b4a4-24134b2ae933')">
                                    <i class="fas fa-edit"></i> 編輯
                                </button>
                                <button class="comment-action-btn delete" onclick="deleteComment('dfba550c-36d9-4e22-b4a4-24134b2ae933')">
                                    <i class="fas fa-trash"></i> 刪除
                                </button>
                            </div>
                        </div>
                        <div class="comment-content">asdfasdfasdf</div>
                        
                    </div>
                
                    <div class="comment-item" data-id="7e60f997-afc6-4933-a107-8e56c4c0730a">
                        <div class="comment-header">
                            <div class="comment-author">
                                <div class="comment-avatar">匿</div>
                                <div class="comment-meta">
                                    <div class="comment-author-name">匿名用戶</div>
                                    <div class="comment-time">8 小時前</div>
                                </div>
                            </div>
                            <div class="comment-actions">
                                <button class="comment-reply-btn" onclick="replyToComment('7e60f997-afc6-4933-a107-8e56c4c0730a', '錯誤報告')">
                                    <i class="fas fa-reply"></i> 回覆
                                </button>
                                <button class="comment-action-btn" onclick="editComment('7e60f997-afc6-4933-a107-8e56c4c0730a')">
                                    <i class="fas fa-edit"></i> 編輯
                                </button>
                                <button class="comment-action-btn delete" onclick="deleteComment('7e60f997-afc6-4933-a107-8e56c4c0730a')">
                                    <i class="fas fa-trash"></i> 刪除
                                </button>
                            </div>
                        </div>
                        <div class="comment-content">asdfasdfasdf</div>
                        
                    </div>
                
                    <div class="comment-item" data-id="43f8ea16-801b-4bc8-8c2c-065f24cadcd9">
                        <div class="comment-header">
                            <div class="comment-author">
                                <div class="comment-avatar">匿</div>
                                <div class="comment-meta">
                                    <div class="comment-author-name">匿名用戶</div>
                                    <div class="comment-time">8 小時前</div>
                                </div>
                            </div>
                            <div class="comment-actions">
                                <button class="comment-reply-btn" onclick="replyToComment('43f8ea16-801b-4bc8-8c2c-065f24cadcd9', '錯誤報告')">
                                    <i class="fas fa-reply"></i> 回覆
                                </button>
                                <button class="comment-action-btn" onclick="editComment('43f8ea16-801b-4bc8-8c2c-065f24cadcd9')">
                                    <i class="fas fa-edit"></i> 編輯
                                </button>
                                <button class="comment-action-btn delete" onclick="deleteComment('43f8ea16-801b-4bc8-8c2c-065f24cadcd9')">
                                    <i class="fas fa-trash"></i> 刪除
                                </button>
                            </div>
                        </div>
                        <div class="comment-content"><blockquote>@匿名用戶: asdfasdfasdf...</blockquote><p>asdfasfdasf</p></div>
                        
                    </div>
                
                    <div class="comment-item" data-id="2bf49731-225f-42a0-a217-25204f6a040b">
                        <div class="comment-header">
                            <div class="comment-author">
                                <div class="comment-avatar">匿</div>
                                <div class="comment-meta">
                                    <div class="comment-author-name">匿名用戶</div>
                                    <div class="comment-time">8 小時前</div>
                                </div>
                            </div>
                            <div class="comment-actions">
                                <button class="comment-reply-btn" onclick="replyToComment('2bf49731-225f-42a0-a217-25204f6a040b', '錯誤報告')">
                                    <i class="fas fa-reply"></i> 回覆
                                </button>
                                <button class="comment-action-btn" onclick="editComment('2bf49731-225f-42a0-a217-25204f6a040b')">
                                    <i class="fas fa-edit"></i> 編輯
                                </button>
                                <button class="comment-action-btn delete" onclick="deleteComment('2bf49731-225f-42a0-a217-25204f6a040b')">
                                    <i class="fas fa-trash"></i> 刪除
                                </button>
                            </div>
                        </div>
                        <div class="comment-content"><blockquote>@匿名用戶: asdfasdfasdf...</blockquote><p>asdfasfdasf</p></div>
                        
                    </div>
                
                    <div class="comment-item" data-id="76516077-06e2-4b09-bc4b-619c67aa675b">
                        <div class="comment-header">
                            <div class="comment-author">
                                <div class="comment-avatar">匿</div>
                                <div class="comment-meta">
                                    <div class="comment-author-name">匿名用戶</div>
                                    <div class="comment-time">8 小時前</div>
                                </div>
                            </div>
                            <div class="comment-actions">
                                <button class="comment-reply-btn" onclick="replyToComment('76516077-06e2-4b09-bc4b-619c67aa675b', '錯誤報告')">
                                    <i class="fas fa-reply"></i> 回覆
                                </button>
                                <button class="comment-action-btn" onclick="editComment('76516077-06e2-4b09-bc4b-619c67aa675b')">
                                    <i class="fas fa-edit"></i> 編輯
                                </button>
                                <button class="comment-action-btn delete" onclick="deleteComment('76516077-06e2-4b09-bc4b-619c67aa675b')">
                                    <i class="fas fa-trash"></i> 刪除
                                </button>
                            </div>
                        </div>
                        <div class="comment-content"><blockquote>@匿名用戶: asdfasdfasdf...</blockquote><p>12212</p></div>
                        
                    </div>
                
                    <div class="comment-item" data-id="d8f83903-3c51-4265-81d3-b37775852887">
                        <div class="comment-header">
                            <div class="comment-author">
                                <div class="comment-avatar">匿</div>
                                <div class="comment-meta">
                                    <div class="comment-author-name">匿名用戶</div>
                                    <div class="comment-time">8 小時前</div>
                                </div>
                            </div>
                            <div class="comment-actions">
                                <button class="comment-reply-btn" onclick="replyToComment('d8f83903-3c51-4265-81d3-b37775852887', '錯誤報告')">
                                    <i class="fas fa-reply"></i> 回覆
                                </button>
                                <button class="comment-action-btn" onclick="editComment('d8f83903-3c51-4265-81d3-b37775852887')">
                                    <i class="fas fa-edit"></i> 編輯
                                </button>
                                <button class="comment-action-btn delete" onclick="deleteComment('d8f83903-3c51-4265-81d3-b37775852887')">
                                    <i class="fas fa-trash"></i> 刪除
                                </button>
                            </div>
                        </div>
                        <div class="comment-content"><blockquote>@匿名用戶: asdfasdfasdf...</blockquote><p>12212</p></div>
                        
                    </div>
                
            </div>
        </div>
            </div>
        
    </div>

    <!-- 跳轉導航 -->
    <div id="jump-navigation" class="jump-navigation">
        <i class="fas fa-crosshairs me-2"></i>
        跳轉模式已啟用 - F2: 下一個 | Shift+F2: 上一個
    </div>

    <!-- 右鍵選單 -->
    <div id="context-menu" class="context-menu" style="display: none; z-index: 999998;"></div>

    <!-- Toast 容器 -->
    <div class="toast-container" id="toast-container" style="z-index: 999997;"></div>
    
	<!-- 返回/歷史 容器 -->
	<div class="nav-hint" id="nav-hint"></div>

	<!-- 導航動畫效果： -->
	<div class="navigating" id="navigating">
		<div class="navigating-content">
			<div class="navigating-spinner"></div>
			<div class="navigating-text">正在導航...</div>
		</div>
	</div>
	
    <!-- 搜尋結果浮動按鈕 -->
	<button class="search-results-fab" onclick="toggleSearchResultsPanel()" style="display: none !important;">
		<i class="fas fa-list"></i>
		<span class="badge">20</span>
	</button>
    
    <!-- 標記管理浮動按鈕 -->
    <button class="marks-fab show" onclick="toggleMarksPanel()">
        <i class="fas fa-map-marker-alt"></i>
        <span class="badge">2</span>
    </button>
    
    <!-- 搜尋結果面板 -->
    <div class="search-results-panel">
        <div class="search-results-header">
            <h5>搜尋結果</h5>
            <button class="search-results-close" onclick="hideSearchResultsPanel()">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="search-results-body"></div>
        <div class="search-results-footer">
            <button class="btn-scroll-top" onclick="scrollToSearchTop()">
                <i class="fas fa-arrow-up me-2"></i>回到頂部
            </button>
        </div>
    </div>
    
	<!-- 標記管理面板 -->
	<div class="marks-panel">
		<div class="marks-panel-header">
			<h5>標記管理</h5>
			<button class="search-results-close" onclick="hideMarksPanel()">
				<i class="fas fa-times"></i>
			</button>
		</div>
		<div class="marks-panel-tabs">
			<div class="marks-panel-tab active" data-type="jumps" onclick="changeMarksTab('jumps')">
				<i class="fas fa-crosshairs me-1"></i>跳轉點
			</div>
			<div class="marks-panel-tab" data-type="bookmarks" onclick="changeMarksTab('bookmarks')">
				<i class="fas fa-bookmark me-1"></i>書籤
			</div>
		</div>
		<div class="marks-panel-body"></div>
		<div class="marks-panel-footer">
			<button class="btn btn-outline-danger btn-sm" onclick="clearAllJumpPointsEnhanced()">
				<i class="fas fa-trash me-1"></i>清除所有跳轉點
			</button>
			<button class="btn btn-outline-danger btn-sm" onclick="clearAllBookmarksEnhanced()" style="display: none;">
				<i class="fas fa-trash me-1"></i>清除所有書籤
			</button>
		</div>
	</div>
	
	<!-- 搜尋結果浮動按鈕 -->
	<button class="search-results-fab" onclick="toggleSearchResultsPanel()" style="display: none;">
		<i class="fas fa-list"></i>
		<span class="badge">20</span>
	</button>

	<!-- 標記管理浮動按鈕 -->
	<button class="marks-fab show" onclick="toggleMarksPanel()" style="display: none;">
		<i class="fas fa-map-marker-alt"></i>
		<span class="badge">2</span>
	</button>

	<!-- 標記管理面板 -->
	<div class="marks-panel">
		<div class="marks-panel-header">
			<h5>標記管理</h5>
			<button class="search-results-close" onclick="hideMarksPanel()">
				<i class="fas fa-times"></i>
			</button>
		</div>
		<div class="marks-panel-tabs">
			<div class="marks-panel-tab active" data-type="jumps" onclick="changeMarksTab('jumps')">
				<i class="fas fa-crosshairs me-1"></i>跳轉點
			</div>
			<div class="marks-panel-tab" data-type="bookmarks" onclick="changeMarksTab('bookmarks')">
				<i class="fas fa-bookmark me-1"></i>書籤
			</div>
		</div>
		<div class="marks-panel-body"></div>
		<div class="marks-panel-footer">
			<button class="btn btn-outline-danger btn-sm" onclick="clearAllJumpPoints()">
				<i class="fas fa-trash me-1"></i>清除所有跳轉點
			</button>
			<button class="btn btn-outline-danger btn-sm" onclick="clearAllBookmarks()" style="display: none;">
				<i class="fas fa-trash me-1"></i>清除所有書籤
			</button>
		</div>
	</div>

    <!-- 評論功能按鈕 -->
    <div style="position: fixed; bottom: 100px; right: 20px; z-index: 8996;">
        <button onclick="openCommentDialog()" style="width: 60px; height: 60px; border-radius: 50%; background: #667eea; color: white; border: none; font-size: 30px; font-weight: bold; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3); cursor: pointer; display: flex; align-items: center; justify-content: center; line-height: 1; padding: 0;">
            +
        </button>
        <div class="comment-fab-tooltip">新增評論</div>
    </div>

    <!-- 快速跳轉到評論區 -->
    <a href="#comments-section" class="quick-comment-link show" id="quick-comment-link">
        <i class="fas fa-comments"></i>
        <span>查看評論</span>
        <span class="comments-count-quick">10</span>
    </a>

    <!-- 回到頂部按鈕 -->
    <button class="back-to-top" id="back-to-top" onclick="scrollToTop()">
        <i class="fas fa-arrow-up"></i>
    </button>

    <!-- 評論對話框 -->
    <div id="comment-dialog" class="comment-dialog">
        <div class="comment-dialog-overlay"></div>
        <div class="comment-dialog-content">
            <div class="comment-dialog-header">
                <h5><i class="fas fa-comment-plus" style="margin-right: 10px;"></i>新增評論</h5>
                <button class="comment-dialog-close">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="comment-dialog-body">
                <!-- 主題選擇器 -->
                <div class="comment-topic-selector">
                    <label class="form-label">
                        <i class="fas fa-folder"></i> 討論主題（選填）
                    </label>
                    <input type="text" class="topic-input" id="comment-topic" placeholder="輸入或選擇主題..." list="topic-list">
                    <datalist id="topic-list">
                        <option value="一般討論">
                        </option><option value="錯誤報告">
                        </option><option value="功能建議">
                        </option><option value="程式碼檢討">
                    </option></datalist>
                </div>
                
                <!-- 富文本編輯器工具列 -->
                <div class="comment-toolbar">
                    <button class="comment-toolbar-btn" data-command="formatBlock" data-value="h1" data-bs-toggle="tooltip" data-bs-original-title="標題 1">
                        <strong>H1</strong>
                    </button>
                    <button class="comment-toolbar-btn" data-command="formatBlock" data-value="h2" data-bs-toggle="tooltip" data-bs-original-title="標題 2">
                        <strong>H2</strong>
                    </button>
                    <button class="comment-toolbar-btn" data-command="formatBlock" data-value="h3" data-bs-toggle="tooltip" data-bs-original-title="標題 3">
                        <strong>H3</strong>
                    </button>
                    <div class="comment-toolbar-separator"></div>
                    <button class="comment-toolbar-btn" data-command="bold" data-bs-toggle="tooltip" aria-label="粗體" data-bs-original-title="粗體">
                        <i class="fas fa-bold"></i>
                    </button>
                    <button class="comment-toolbar-btn active" data-command="italic" data-bs-toggle="tooltip" aria-label="斜體" data-bs-original-title="斜體">
                        <i class="fas fa-italic"></i>
                    </button>
                    <button class="comment-toolbar-btn" data-command="underline" data-bs-toggle="tooltip" aria-label="底線" data-bs-original-title="底線">
                        <i class="fas fa-underline"></i>
                    </button>
                    <button class="comment-toolbar-btn" data-command="strikeThrough" data-bs-toggle="tooltip" aria-label="刪除線" data-bs-original-title="刪除線">
                        <i class="fas fa-strikethrough"></i>
                    </button>
                    <div class="comment-toolbar-separator"></div>
                    <!-- 顏色選擇器 -->
                    <div class="color-picker-wrapper">
                        <button class="comment-toolbar-btn" data-command="foreColor" data-bs-toggle="tooltip" aria-label="文字顏色" data-bs-original-title="文字顏色">
                            <i class="fas fa-font"></i>
                            <span class="color-indicator"></span>
                        </button>
                        <div class="color-palette">
                            <div class="color-palette-header">文字顏色</div>
                            <div class="color-grid">
                                <div class="color-option" style="background: #000000" onclick="applyColor('#000000', 'foreColor')"></div>
                                <div class="color-option" style="background: #545454" onclick="applyColor('#545454', 'foreColor')"></div>
                                <div class="color-option" style="background: #737373" onclick="applyColor('#737373', 'foreColor')"></div>
                                <div class="color-option" style="background: #a6a6a6" onclick="applyColor('#a6a6a6', 'foreColor')"></div>
                                <div class="color-option" style="background: #d9d9d9" onclick="applyColor('#d9d9d9', 'foreColor')"></div>
                                <div class="color-option" style="background: #ffffff" onclick="applyColor('#ffffff', 'foreColor')"></div>
                                <div class="color-option" style="background: #ff0000" onclick="applyColor('#ff0000', 'foreColor')"></div>
                                <div class="color-option" style="background: #ff9900" onclick="applyColor('#ff9900', 'foreColor')"></div>
                                <div class="color-option" style="background: #ffff00" onclick="applyColor('#ffff00', 'foreColor')"></div>
                                <div class="color-option" style="background: #00ff00" onclick="applyColor('#00ff00', 'foreColor')"></div>
                                <div class="color-option" style="background: #00ffff" onclick="applyColor('#00ffff', 'foreColor')"></div>
                                <div class="color-option" style="background: #0000ff" onclick="applyColor('#0000ff', 'foreColor')"></div>
                                <div class="color-option" style="background: #9900ff" onclick="applyColor('#9900ff', 'foreColor')"></div>
                                <div class="color-option" style="background: #ff00ff" onclick="applyColor('#ff00ff', 'foreColor')"></div>
                            </div>
                        </div>
                    </div>
                    <div class="color-picker-wrapper">
                        <button class="comment-toolbar-btn" data-command="backColor" data-bs-toggle="tooltip" aria-label="背景顏色" data-bs-original-title="背景顏色">
                            <i class="fas fa-marker"></i>
                            <span class="color-indicator" style="background: rgb(252, 228, 236);"></span>
                        </button>
                        <div class="color-palette">
                            <div class="color-palette-header">背景顏色</div>
                            <div class="color-grid">
                                <div class="color-option" style="background: transparent" onclick="applyColor('transparent', 'backColor')"><i class="fas fa-ban"></i></div>
                                <div class="color-option" style="background: #fce4ec" onclick="applyColor('#fce4ec', 'backColor')"></div>
                                <div class="color-option" style="background: #fff3e0" onclick="applyColor('#fff3e0', 'backColor')"></div>
                                <div class="color-option" style="background: #fff9c4" onclick="applyColor('#fff9c4', 'backColor')"></div>
                                <div class="color-option" style="background: #f1f8e9" onclick="applyColor('#f1f8e9', 'backColor')"></div>
                                <div class="color-option" style="background: #e0f2f1" onclick="applyColor('#e0f2f1', 'backColor')"></div>
                                <div class="color-option" style="background: #e3f2fd" onclick="applyColor('#e3f2fd', 'backColor')"></div>
                                <div class="color-option" style="background: #f3e5f5" onclick="applyColor('#f3e5f5', 'backColor')"></div>
                                <div class="color-option" style="background: #ffd54f" onclick="applyColor('#ffd54f', 'backColor')"></div>
                                <div class="color-option" style="background: #aed581" onclick="applyColor('#aed581', 'backColor')"></div>
                                <div class="color-option" style="background: #80deea" onclick="applyColor('#80deea', 'backColor')"></div>
                                <div class="color-option" style="background: #90caf9" onclick="applyColor('#90caf9', 'backColor')"></div>
                                <div class="color-option" style="background: #ce93d8" onclick="applyColor('#ce93d8', 'backColor')"></div>
                                <div class="color-option" style="background: #f8bbd0" onclick="applyColor('#f8bbd0', 'backColor')"></div>
                            </div>
                        </div>
                    </div>
                    <div class="comment-toolbar-separator"></div>
                    <button class="comment-toolbar-btn" data-command="insertUnorderedList" data-bs-toggle="tooltip" aria-label="項目符號" data-bs-original-title="項目符號">
                        <i class="fas fa-list-ul"></i>
                    </button>
                    <button class="comment-toolbar-btn" data-command="insertOrderedList" data-bs-toggle="tooltip" aria-label="編號" data-bs-original-title="編號">
                        <i class="fas fa-list-ol"></i>
                    </button>
                    <button class="comment-toolbar-btn" data-command="formatBlock" data-value="blockquote" data-bs-toggle="tooltip" aria-label="引用" data-bs-original-title="引用">
                        <i class="fas fa-quote-left"></i>
                    </button>
                    <button class="comment-toolbar-btn" data-command="insertCode" data-bs-toggle="tooltip" aria-label="程式碼" data-bs-original-title="程式碼">
                        <i class="fas fa-code"></i>
                    </button>
                    <button class="comment-toolbar-btn" data-command="insertTable" data-bs-toggle="tooltip" aria-label="插入表格" data-bs-original-title="插入表格">
                        <i class="fas fa-table"></i>
                    </button>
                    <div class="comment-toolbar-separator"></div>
                    <button class="comment-toolbar-btn" data-command="createLink" data-bs-toggle="tooltip" aria-label="插入連結" data-bs-original-title="插入連結">
                        <i class="fas fa-link"></i>
                    </button>
                    <button class="comment-toolbar-btn" data-command="insertImage" data-bs-toggle="tooltip" aria-label="插入圖片" data-bs-original-title="插入圖片">
                        <i class="fas fa-image"></i>
                    </button>
                    <button class="comment-toolbar-btn" data-command="undo" data-bs-toggle="tooltip" aria-label="復原" data-bs-original-title="復原">
                        <i class="fas fa-undo"></i>
                    </button>
                    <button class="comment-toolbar-btn" data-command="redo" data-bs-toggle="tooltip" aria-label="重做" data-bs-original-title="重做">
                        <i class="fas fa-redo"></i>
                    </button>
                </div>
                
                <!-- 編輯器 -->
                <div id="comment-editor" class="comment-editor" contenteditable="true" placeholder="在此輸入評論內容...支援拖放或貼上圖片" spellcheck="false"></div><grammarly-extension data-grammarly-shadow-root="true" style="position: absolute; top: 0px; left: 0px; pointer-events: none; z-index: auto; --rem: 16;" class="dnXmp"></grammarly-extension><grammarly-extension data-grammarly-shadow-root="true" style="position: absolute; top: 0px; left: 0px; pointer-events: none; z-index: auto; --rem: 16;" class="dnXmp"></grammarly-extension>
                
                <!-- 附件顯示區 -->
                <div id="comment-attachments" class="comment-attachments"></div>
            </div>
            <div class="comment-dialog-footer" style="visibility: visible; opacity: 1; display: flex;">
                <div class="comment-info">
                    <small class="text-muted">
                        <i class="fas fa-info-circle"></i>
                        支援 Ctrl+V 貼上圖片，或拖放檔案
                    </small>
                </div>
                <div class="comment-actions">
                    <button class="btn btn-outline-secondary btn-modern" id="cancel-comment" onclick="closeCommentDialog()">
                        <i class="fas fa-times"></i> 取消
                    </button>
                    <button class="btn btn-gradient-primary btn-modern" id="submit-comment" onclick="submitComment()"><i class="fas fa-paper-plane"></i> 送出</button>
                </div>
            </div>
        </div>
    </div>

    <!-- 程式碼對話框 -->
    <div id="code-dialog" class="code-dialog" style="z-index: 10100;">
        <div class="code-dialog-overlay" onclick="closeCodeDialog()"></div>
        <div class="code-dialog-content"><grammarly-extension data-grammarly-shadow-root="true" style="position: absolute; top: 0px; left: 0px; pointer-events: none; --rem: 16;" class="dnXmp"></grammarly-extension><grammarly-extension data-grammarly-shadow-root="true" style="position: absolute; top: 0px; left: 0px; pointer-events: none; --rem: 16;" class="dnXmp"></grammarly-extension>
            <div class="code-dialog-header">
                <h5><i class="fas fa-code" style="margin-right: 10px;"></i>插入程式碼</h5>
                <button class="comment-dialog-close" onclick="closeCodeDialog()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="code-dialog-body">
                <div class="language-selector">
                    <label class="form-label">選擇程式語言</label>
                    <select id="code-language">
                        <option value="javascript">JavaScript</option>
                        <option value="python">Python</option>
                        <option value="java">Java</option>
                        <option value="c">C</option>
                        <option value="cpp">C++</option>
                        <option value="xml">XML</option>
                        <option value="json">JSON</option>
                        <option value="html">HTML</option>
                        <option value="css">CSS</option>
                        <option value="sql">SQL</option>
                        <option value="bash">Bash</option>
                        <option value="ini">INI</option>
                        <option value="diff">Diff</option>
                        <option value="kotlin">Android/Kotlin</option>
                    </select>
                </div>
                <textarea id="code-textarea" class="code-textarea" placeholder="在此貼上或輸入程式碼..." spellcheck="false"></textarea>
            </div>
            <div class="code-dialog-footer">
                <button class="btn btn-outline-secondary btn-modern" onclick="closeCodeDialog()">
                    <i class="fas fa-times"></i> 取消
                </button>
                <button class="btn btn-gradient-primary btn-modern" onclick="insertCodeBlock()">
                    <i class="fas fa-check"></i> 插入
                </button>
            </div>
        </div>
    </div>

    <!-- 版權聲明 -->
    <div class="copyright-footer">
        <i class="fas fa-heart"></i>
        © 2025 Vince. All rights reserved.
        <i class="fas fa-code"></i>
        Enhanced File Viewer v8
    </div>

    <!-- Scripts -->
    
    
    
    <!-- 自定義 JavaScript -->
    
	
	
	
	
	
	
	
	
	
    
	
	<!-- 調試模式檢查 -->
	

<iframe id="rokt-controller-frame" data-core-type="controller" aria-hidden="true" tabindex="-1" sandbox="allow-scripts allow-same-origin" src="https://apps.rokt.com/wsdk/controller/index.2.6024.0.html" name="4a225a95-76dc-4193-aaf9-1fe74ad2703e" style="width: 0px !important; height: 0px !important; border-width: 0px !important; overflow: hidden !important; opacity: 0 !important; pointer-events: none !important; position: absolute !important; z-index: -1 !important;"></iframe><iframe name="integration_type=preload_persistent&amp;init_timestamp=1750153115927&amp;plugin_name=dcui" src="https://apps.rokt.com/wsdk/plugins/dcui/index.html" id="dcui" style="display: none;"></iframe><div class="history-panel" style="display: none;">
                <div class="history-panel-header">
                    <h5>瀏覽歷史</h5>
                    <span class="history-counter">
                        1 / 1
                    </span>
                    <button class="history-panel-close" onclick="$('.history-panel').hide()">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="history-panel-body"></div>
                <div class="history-panel-footer">
                    <button class="btn btn-sm btn-outline-danger" onclick="NavigationManager.clearHistory()">
                        <i class="fas fa-trash me-1"></i>清除歷史
                    </button>
                </div>
            </div><div class="export-dropdown" style="display: none; z-index: 999999;">
								<div class="export-option" onclick="exportFile('all')">
									<i class="fas fa-cloud-download-alt"></i>
									<div class="export-option-content">
										<div class="export-option-title">匯出完整檔案</div>
										<div class="export-option-desc">下載原始檔案的完整內容</div>
									</div>
									<span class="export-option-badge">全部</span>
								</div>
								
								<div class="export-dropdown-divider"></div>
								
								<div class="export-option" onclick="exportFile('partial')">
									<i class="fas fa-file-export"></i>
									<div class="export-option-content">
										<div class="export-option-title">
											匯出當前範圍
										</div>
										<div class="export-option-desc">
											第 <span id="export-start">1</span> - <span id="export-end">401</span> 行
										</div>
									</div>
									<span class="export-option-badge">部分</span>
								</div>
							</div><div id="goto-line-dialog" class="goto-line-dialog" style="display: none;">
                <div class="goto-line-overlay"></div>
                <div class="goto-line-content">
                    <div class="goto-line-header">
                        <h5>
                            <i class="fas fa-crosshairs me-2"></i>
                            跳轉到行號
                        </h5>
                        <button class="goto-line-close" type="button">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    <div class="goto-line-body">
                        <div class="goto-line-info">
                            <div class="current-info">
                                <span class="info-label">當前行:</span>
                                <span class="info-value" id="goto-current-line">--</span>
                            </div>
                            <div class="total-info">
                                <span class="info-label">總行數:</span>
                                <span class="info-value" id="goto-total-lines">--</span>
                            </div>
                        </div>
                        <div class="goto-line-input-group">
                            <label class="goto-line-label">
                                <i class="fas fa-arrow-right me-1"></i>
                                跳轉到第幾行：
                            </label>
                            <div class="goto-line-input-wrapper">
                                <input type="number" id="goto-line-input" class="goto-line-input" placeholder="輸入行號" min="1">
                                <div class="goto-line-suggestions">
                                    <button class="goto-suggestion" type="button" data-line="1">
                                        第 1 行 (開頭)
                                    </button>
                                    <button class="goto-suggestion" type="button" data-line="last">
                                        最後一行
                                    </button>
                                    <button class="goto-suggestion" type="button" data-line="middle">
                                        中間行
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="goto-line-preview" id="goto-line-preview" style="display: none;">
                            <div class="preview-label">預覽:</div>
                            <div class="preview-content" id="goto-preview-content">--</div>
                        </div>
                    </div>
                    <div class="goto-line-footer">
                        <div class="goto-line-shortcuts">
                            <span class="shortcut-hint">
                                <kbd>Enter</kbd> 跳轉　<kbd>Esc</kbd> 取消
                            </span>
                        </div>
                        <div class="goto-line-buttons">
                            <button class="btn btn-outline-secondary goto-cancel-btn" type="button">
                                <i class="fas fa-times me-1"></i>取消
                            </button>
                            <button class="btn btn-gradient-primary goto-jump-btn" type="button">
                                <i class="fas fa-arrow-right me-1"></i>跳轉
                            </button>
                        </div>
                    </div>
                </div>
            </div>

    <!-- jQuery -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>
    <!-- Bootstrap Bundle -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
    
    <!-- 內聯所有腳本 -->
    <script type="text/javascript">
    // 匯出頁面標記
    window.isExportedHTML = true;
    window.exportedDate = "2025-06-17T09:45:08.731Z";
    window.exportedTimeString = "2025/6/17 下午5:45:08";

    // 初始化全域變數

    window.currentStartLine = 1;
    window.currentEndLine = 1;
    window.totalLines = 1;
    window.currentFilePath = '';
    window.currentTargetLine = 1;
    window.bookmarks = new Set([]);
    window.jumpPoints = new Set([]);
    window.highlightColors = {};
    window.activeHighlightColors = new Set([]);
    window.searchResults = [];
    window.currentSearchIndex = 0;
    window.lastSearchText = '';
    window.useRegex = false;
    window.jumpModeEnabled = false;
    window.navigationHistory = [];
    window.historyIndex = -1;
        

    // 核心功能

/* === /static/js/file_viewer.js === */
// Enhanced File Viewer JavaScript v6

// 全域變數
let bookmarks = new Set();
let jumpPoints = new Set();
let currentJumpIndex = 0;
let searchResults = [];
let currentSearchIndex = 0;
let highlightColors = {};
let colorIndex = 1;
let selectedText = '';
let isLoadingMore = false;
let jumpModeEnabled = false;
let lastSearchText = '';
let useRegex = false;
let currentStartLine = 1;
let currentEndLine = 1;
let totalLines = 1;
let currentFilePath = '';
let currentTargetLine = 1;
let forwardHistory = [];
let activeHighlightColors = new Set();
let currentHoverLine = null;
let navigationHistory = [];
let historyIndex = -1; // 用於導航歷史的索引

// 頁面初始化
$(document).ready(function() {
    // 從 DOM 獲取初始值
    currentStartLine = parseInt($('#initial-start-line').val());
    currentEndLine = parseInt($('#initial-end-line').val());
    totalLines = parseInt($('#initial-total-lines').val());
    currentFilePath = $('#initial-file-path').val();
    currentTargetLine = parseInt($('#initial-target-line').val());
    
    setupKeyboardShortcuts();
    setupScrollHandler();
    setupMouseTracking();
    scrollToTarget();
    updateStatus();
    initializeTooltips();
    setupNavigationHistory();
    setupDeviceSwitcher();
    setupMarksManager();
    checkForwardHistory();
    
    // 初始化時檢查跳轉點
    setTimeout(() => {
        if (jumpPoints.size > 0) {
            jumpModeEnabled = true;
            updateJumpModeButton();
        }
        updateMarksStatus();
    }, 500);
});

// 設置標記管理器
function setupMarksManager() {
    // 初始化標記管理面板
    updateMarksStatus();
    
    // 設置初始按鈕顯示狀態
    $('.marks-panel-footer button:last').hide();
}

function initializeTooltips() {
    // 為工具列按鈕添加工具提示
    $('[title]').each(function() {
        $(this).attr('data-bs-toggle', 'tooltip');
    });
    
    // 初始化 Bootstrap 工具提示
    var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
    var tooltipList = tooltipTriggerList.map(function(tooltipTriggerEl) {
        return new bootstrap.Tooltip(tooltipTriggerEl);
    });
}

// 檢查前進歷史
function checkForwardHistory() {
    const urlParams = new URLSearchParams(window.location.search);
    const fromLine = urlParams.get('from');
    
    if (fromLine) {
        // 儲存當前頁面到導航歷史
        const currentUrl = window.location.href;
        navigationHistory.push(currentUrl);
        
        // 顯示前進按鈕
        showForwardButton();
    } else {
        // 檢查 sessionStorage 中的歷史
        const savedHistory = sessionStorage.getItem('navigationHistory');
        if (savedHistory) {
            navigationHistory = JSON.parse(savedHistory);
            if (navigationHistory.length > 0) {
                showForwardButton();
            }
        }
    }
}

// 顯示前進按鈕
function showForwardButton() {
    const forwardBtn = $('#forward-btn');
    if (forwardBtn.length === 0) {
        const btn = $('<button id="forward-btn" class="btn btn-forward" onclick="goForward()" title="前進到下一頁"><i class="fas fa-arrow-right me-1"></i>前進</button>');
        $('.btn-back').after(btn);
    }
}

// 返回功能
function goBack() {
    if (historyIndex > 0) {
        forwardHistory.push(currentTargetLine); // 將當前行加入前進歷史
        historyIndex--;
        jumpToLine(navigationHistory[historyIndex], false); // 不再添加到歷史，避免循環
    } else {
        showToast('沒有更早的歷史記錄了。', 'info');
    }
    checkForwardHistory();
}

// 前進功能
function goForward() {
    if (forwardHistory.length > 0) {
        const nextLine = forwardHistory.pop(); // 從前進歷史中取出最新的項目
        navigationHistory.push(currentTargetLine); // 將當前行加入後退歷史
        historyIndex++;
        jumpToLine(nextLine, false); // 不再添加到歷史
    } else {
        showToast('沒有更晚的歷史記錄了。', 'info');
    }
    checkForwardHistory();
}

// 鍵盤快捷鍵
function setupKeyboardShortcuts() {
    $(document).keydown(function(e) {
        // Ctrl+F 搜尋
        if (e.ctrlKey && e.which === 70) {
            e.preventDefault();
            $('#search-input').focus().select();
        }
        
        // F2 跳轉功能 - 根據焦點位置決定行為
        if (e.which === 113) { // F2
            e.preventDefault();
            
            if (jumpModeEnabled) {
                // 否則執行跳轉導航
                if (e.shiftKey) {
                    gotoPreviousJump();
                } else {
                    gotoNextJump();
                }
            } else {
				// 如果焦點在行號上，添加跳轉點
				const hoveredLine = $('.code-line:hover');
				if (hoveredLine.length > 0) {
					const lineNumber = hoveredLine.data('line');
					toggleJumpPoint(lineNumber);
				}
			}
        }
        
        // F3 書籤功能 - 根據焦點位置決定行為
        if (e.which === 114) { // F3
            e.preventDefault();
            
            if (jumpModeEnabled) {
                // 否則執行書籤導航
                if (e.shiftKey) {
                    gotoPreviousBookmark();
                } else {
                    gotoNextBookmark();
                }
            } else {
				// 如果焦點在行號上，添加書籤
				const hoveredLine = $('.code-line:hover');
				if (hoveredLine.length > 0) {
					const lineNumber = hoveredLine.data('line');
					toggleBookmark(lineNumber);
				}
			}
        }
        
        // ESC 清除搜尋或關閉選單
        if (e.which === 27) {
            if ($('#search-input').is(':focus')) {
                clearSearch();
            }
            hideContextMenu();
            if (jumpModeEnabled) {
                toggleJumpMode();
            }
        }
        
        // Ctrl+G 跳轉行號
        if (e.ctrlKey && e.which === 71) {
            e.preventDefault();
            $('#jump-line').focus().select();
        }
        
        // Enter 在搜尋框中
        if (e.which === 13 && $('#search-input').is(':focus')) {
            e.preventDefault();
            if (e.shiftKey) {
                findPrevious();
            } else {
                findNext();
            }
        }
        
        // Enter 在跳轉行號輸入框中
        if (e.which === 13 && $('#jump-line').is(':focus')) {
            e.preventDefault();
            jumpToLine();
        }
    });
    
    // 搜尋輸入框事件 - 已經有 0.3 秒延遲
    $('#search-input').on('input', debounce(performSearch, 300));
}

// 防抖函數
function debounce(func, wait) {
    let timeout;
    return function executedFunction(...args) {
        const later = () => {
            clearTimeout(timeout);
            func(...args);
        };
        clearTimeout(timeout);
        timeout = setTimeout(later, wait);
    };
}

// 滾動處理 - 自動載入更多內容
function setupScrollHandler() {
    const container = $('#line-container');
    container.on('scroll', debounce(function() {
        if (isLoadingMore) return;
        
        const scrollTop = container.scrollTop();
        const scrollHeight = container[0].scrollHeight;
        const clientHeight = container.height();
        
        // 接近頂部時載入前面的內容
        if (scrollTop < 200 && currentStartLine > 1) {
            loadMoreContent('before');
        }
        
        // 接近底部時載入後面的內容
        if (scrollTop + clientHeight > scrollHeight - 200 && currentEndLine < totalLines) {
            loadMoreContent('after');
        }
        
        // 更新當前行狀態
        updateCurrentLineStatus();
    }, 100));
}

// 載入更多內容
function loadMoreContent(direction) {
    if (isLoadingMore) return;
    isLoadingMore = true;
    
    const loadingOverlay = direction === 'before' ? $('#loading-overlay-top') : $('#loading-overlay-bottom');
    loadingOverlay.show();
    
    // 添加載入文字
    if (!loadingOverlay.find('.loading-text').length) {
        loadingOverlay.append('<div class="loading-text">載入中...</div>');
    }
    
    let newStart, newEnd;
    
    if (direction === 'before') {
        newStart = Math.max(1, currentStartLine - 200);
        newEnd = currentStartLine - 1;
    } else {
        newStart = currentEndLine + 1;
        newEnd = Math.min(totalLines, currentEndLine + 200);
    }
    
    $.get('/file_viewer', {
        path: currentFilePath,
        line: direction === 'before' ? newStart : newEnd,
        context: 100,
        start: newStart,
        end: newEnd
    }).done(function(data) {
        // 解析返回的HTML並提取新行
        const parser = new DOMParser();
        const doc = parser.parseFromString(data, 'text/html');
        const newLines = doc.querySelectorAll('.code-line');
        
        const container = $('#line-container');
        const scrollBefore = container[0].scrollHeight;
        const scrollTop = container.scrollTop();
        
        if (direction === 'before') {
            // 在前面插入
            const firstLine = container.find('.code-line').first();
            newLines.forEach(line => {
                const newElement = $(line.outerHTML);
                firstLine.before(newElement);
                
                // 重新綁定事件
                bindLineEvents(newElement);
            });
            
            // 保持滾動位置
            const scrollAfter = container[0].scrollHeight;
            container.scrollTop(scrollTop + (scrollAfter - scrollBefore));
            
            currentStartLine = newStart;
        } else {
            // 在後面添加
            newLines.forEach(line => {
                const newElement = $(line.outerHTML);
                container.append(newElement);
                
                // 重新綁定事件
                bindLineEvents(newElement);
            });
            
            currentEndLine = newEnd;
        }
        
        updateStatus();
        
        // 重新應用搜尋高亮
        if (lastSearchText) {
            performSearch();
        }
        
        // 重新應用顏色高亮
        reapplyHighlights();
        
    }).fail(function() {
        showToast('danger', '載入內容失敗，請稍後再試');
    }).always(function() {
        loadingOverlay.fadeOut(300);
        isLoadingMore = false;
    });
}

// 綁定行事件
function bindLineEvents(lineElement) {
    const lineNumber = lineElement.data('line');
    
    lineElement.find('.line-number')
        .on('click', function() {
            handleLineClick(lineNumber);
        })
        .on('dblclick', function(e) {
            e.preventDefault();
            e.stopPropagation();
            handleLineDoubleClick(lineNumber);
        })
        .on('contextmenu', function(e) {
            showLineContextMenu(e, lineNumber);
        });
    
    lineElement.find('.line-content').on('contextmenu', function(e) {
        showContentContextMenu(e, lineNumber);
    });
}

// 處理行點擊
function handleLineClick(lineNumber) {
    if (jumpModeEnabled) {
        toggleJumpPoint(lineNumber);
    } else {
        toggleBookmark(lineNumber);
    }
}

// 處理行雙擊
function handleLineDoubleClick(lineNumber) {
    showToast('info', `正在載入第 ${lineNumber} 行的上下文...`);
    
    const url = new URL(window.location);
    url.searchParams.set('line', lineNumber);
    url.searchParams.set('start', Math.max(1, lineNumber - 200));
    url.searchParams.set('end', Math.min(totalLines, lineNumber + 200));
    url.searchParams.set('context', 200);
    url.searchParams.set('from', currentTargetLine); // 記錄來源行號
    window.location.href = url.toString();
}

// 跳轉模式切換
function toggleJumpMode() {
    jumpModeEnabled = !jumpModeEnabled;
    const btn = $('#jump-mode-btn');
    const navigation = $('#jump-navigation');
    
    if (jumpModeEnabled) {
        btn.removeClass('btn-outline-secondary').addClass('btn-gradient-warning');
        btn.html('<i class="fas fa-crosshairs me-1"></i>退出跳轉');
        navigation.show();
        
        // 1秒後自動隱藏提示
        setTimeout(() => {
            navigation.addClass('animate__animated');
            navigation.css('animation', 'slideOutDown 0.3s ease-out');
            setTimeout(() => {
                navigation.hide();
                navigation.css('animation', '');
            }, 300);
        }, 1000);
        
        showToast('info', '跳轉模式已啟用');
    } else {
        btn.removeClass('btn-gradient-warning').addClass('btn-outline-secondary');
        btn.html('<i class="fas fa-crosshairs me-1"></i>跳轉模式');
        navigation.hide();
        showToast('info', '跳轉模式已關閉');
    }
}

// 切換跳轉點
function toggleJumpPoint(lineNumber) {
    const lineElement = $(`#line-${lineNumber} .line-number`);
    
    if (jumpPoints.has(lineNumber)) {
        jumpPoints.delete(lineNumber);
        lineElement.removeClass('jump-point');
    } else {
        jumpPoints.add(lineNumber);
        lineElement.addClass('jump-point');
    }
    
    updateJumpStatus();
}

// 下一個跳轉點
function gotoNextJump() {
    if (!jumpModeEnabled) {
        showToast('warning', '請先開啟跳轉模式');
        return;
    }
    
    if (jumpPoints.size === 0) {
        showToast('warning', '沒有設定跳轉點，請先設定跳轉點');
        return;
    }
    
    const sortedJumps = Array.from(jumpPoints).sort((a, b) => a - b);
    const currentLine = getCurrentLine();
    
    let nextJump = sortedJumps.find(line => line > currentLine);
    if (!nextJump) {
        nextJump = sortedJumps[0]; // 循環到第一個
    }
    
    scrollToLine(nextJump);
    updateJumpStatus();
    showToast('success', `跳轉到第 ${nextJump} 行`);
}

// 上一個跳轉點
function gotoPreviousJump() {
    if (!jumpModeEnabled) {
        showToast('warning', '請先開啟跳轉模式');
        return;
    }
    
    if (jumpPoints.size === 0) {
        showToast('warning', '沒有設定跳轉點，請先設定跳轉點');
        return;
    }
    
    const sortedJumps = Array.from(jumpPoints).sort((a, b) => b - a);
    const currentLine = getCurrentLine();
    
    let prevJump = sortedJumps.find(line => line < currentLine);
    if (!prevJump) {
        prevJump = sortedJumps[0]; // 循環到最後一個
    }
    
    scrollToLine(prevJump);
    updateJumpStatus();
    showToast('success', `跳轉到第 ${prevJump} 行`);
}

// 切換正規表達式
function toggleRegex() {
    useRegex = !useRegex;
    const btn = $('#regex-toggle');
    const searchInput = $('#search-input');
    
    if (useRegex) {
        btn.addClass('active');
        searchInput.addClass('regex-mode');
        //showToast('info', '已啟用正規表達式搜尋');
    } else {
        btn.removeClass('active');
        searchInput.removeClass('regex-mode');
        //showToast('info', '已切換到一般搜尋模式');
    }
    
    // 重新執行搜尋
    if (searchInput.val()) {
        performSearch();
    }
}

// 搜尋功能
function performSearch() {
    const searchText = $('#search-input').val().trim();
    lastSearchText = searchText;
    clearSearchHighlights();
    
    if (!searchText) {
        updateSearchStatus('搜尋: 無');
        return;
    }
    
    searchResults = [];
    let regex;
    
    try {
        if (useRegex) {
            regex = new RegExp(searchText, 'gi');
        } else {
            // 轉義特殊字符
            const escapedText = searchText.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
            regex = new RegExp(escapedText, 'gi');
        }
    } catch (e) {
        showToast('danger', '無效的正規表達式');
        return;
    }
    
    $('.line-content').each(function(index) {
        const content = $(this).text();
        const lineNumber = parseInt($(this).parent().data('line'));
        let newContent = content;
        let hasMatch = false;
        
        // 替換匹配的文字
        newContent = content.replace(regex, function(match) {
            hasMatch = true;
            searchResults.push({
                line: lineNumber,
                element: this,
                text: match
            });
            return '<span class="search-highlight">' + match + '</span>';
        });
        
        if (hasMatch) {
            $(this).html(newContent);
        }
    });
    
    currentSearchIndex = 0;
    updateSearchStatus(`找到 ${searchResults.length} 個結果`);
    $('#search-info').text(`${searchResults.length > 0 ? currentSearchIndex + 1 : 0} / ${searchResults.length}`);
    
    if (searchResults.length > 0) {
        highlightCurrentResult();
    }
}

function clearSearchHighlights() {
    $('.search-highlight').each(function() {
        const parent = $(this).parent();
        const html = parent.html();
        // 只移除搜尋高亮，保留其他高亮
        const newHtml = html.replace(/<span class="search-highlight[^"]*">(.*?)<\/span>/gi, '$1');
        parent.html(newHtml);
    });
}

function highlightCurrentResult() {
    $('.search-highlight').removeClass('current');
    if (searchResults.length > 0 && currentSearchIndex < searchResults.length) {
        const result = searchResults[currentSearchIndex];
        
        // 找到對應的高亮元素
        const lineElement = $(`#line-${result.line}`);
        const highlights = lineElement.find('.search-highlight');
        
        if (highlights.length > 0) {
            highlights.eq(0).addClass('current');
            scrollToElement(lineElement);
        }
        
        updateSearchStatus(`${currentSearchIndex + 1} / ${searchResults.length}`);
        $('#search-info').text(`${currentSearchIndex + 1} / ${searchResults.length}`);
    }
}

function findNext() {
    if (searchResults.length === 0) return;
    currentSearchIndex = (currentSearchIndex + 1) % searchResults.length;
    highlightCurrentResult();
}

function findPrevious() {
    if (searchResults.length === 0) return;
    currentSearchIndex = currentSearchIndex > 0 ? currentSearchIndex - 1 : searchResults.length - 1;
    highlightCurrentResult();
}

function clearSearch() {
    $('#search-input').val('');
    clearSearchHighlights();
    searchResults = [];
    currentSearchIndex = 0;
    lastSearchText = '';
    updateSearchStatus('搜尋: 無');
    $('#search-info').text('0 / 0');
    hideSearchResultsFab();
    
    // 清除regex模式的視覺狀態（但保留設定）
    if (!useRegex) {
        $('#search-input').removeClass('regex-mode');
    }
}

// 書籤功能
function toggleBookmark(lineNumber) {
    const lineElement = $(`#line-${lineNumber} .line-number`);
    
    if (bookmarks.has(lineNumber)) {
        bookmarks.delete(lineNumber);
        lineElement.removeClass('bookmark');
        showToast('info', `已移除第 ${lineNumber} 行的書籤`);
    } else {
        bookmarks.add(lineNumber);
        lineElement.addClass('bookmark');
        showToast('success', `已設定第 ${lineNumber} 行為書籤`);
    }
    
    updateBookmarkStatus();
}

function gotoNextBookmark() {
    if (bookmarks.size === 0) {
        showToast('warning', '沒有設定書籤');
        return;
    }
    
    const sortedBookmarks = Array.from(bookmarks).sort((a, b) => a - b);
    const currentLine = getCurrentLine();
    
    let nextBookmark = sortedBookmarks.find(line => line > currentLine);
    if (!nextBookmark) {
        nextBookmark = sortedBookmarks[0]; // 循環到第一個
    }
    
    scrollToLine(nextBookmark);
    updateStatus();
    showToast('success', `跳轉到書籤：第 ${nextBookmark} 行`);
}

function gotoPreviousBookmark() {
    if (bookmarks.size === 0) {
        showToast('warning', '沒有設定書籤');
        return;
    }
    
    const sortedBookmarks = Array.from(bookmarks).sort((a, b) => b - a);
    const currentLine = getCurrentLine();
    
    let prevBookmark = sortedBookmarks.find(line => line < currentLine);
    if (!prevBookmark) {
        prevBookmark = sortedBookmarks[0]; // 循環到最後一個
    }
    
    scrollToLine(prevBookmark);
    updateStatus();
    showToast('success', `跳轉到書籤：第 ${prevBookmark} 行`);
}

// 右鍵選單
function showLineContextMenu(event, lineNumber) {
    event.preventDefault();
    selectedText = '';
    showContextMenu(event, 'line', lineNumber);
}

function showContentContextMenu(event, lineNumber) {
    event.preventDefault();
    selectedText = window.getSelection().toString().trim();	
    showContextMenu(event, 'content', lineNumber);
}

function showContextMenu(event, type, lineNumber = null) {
    const menu = $('#context-menu');
    let menuItems = [];

	selectedText = window.getSelection().toString().trim();	
	
    if (type === 'line') {
        const isBookmarked = bookmarks.has(lineNumber);
        const isJumpPoint = jumpPoints.has(lineNumber);
        
        menuItems = [
            { icon: 'bookmark', text: isBookmarked ? '移除書籤' : '設定書籤', action: () => toggleBookmark(lineNumber) },
            { icon: 'crosshairs', text: isJumpPoint ? '移除跳轉點' : '設定跳轉點', action: () => toggleJumpPoint(lineNumber) },
            { separator: true },
            { icon: 'arrow-right', text: '下一個書籤', action: () => gotoNextBookmark() },
            { icon: 'arrow-left', text: '上一個書籤', action: () => gotoPreviousBookmark() },
            { icon: 'arrow-right', text: '下一個跳轉點', action: () => gotoNextJump(), disabled: !jumpModeEnabled },
            { icon: 'arrow-left', text: '上一個跳轉點', action: () => gotoPreviousJump(), disabled: !jumpModeEnabled },
            { separator: true },
            { icon: 'eraser', text: '清除所有書籤', action: () => clearAllBookmarks() },
            { icon: 'eraser', text: '清除所有跳轉點', action: () => clearAllJumpPoints() },
            { separator: true },
            { icon: 'copy', text: '複製行號', action: () => copyToClipboard(lineNumber.toString()) },
            { icon: 'link', text: '複製連結', action: () => copyLineLink(lineNumber) },
            { icon: 'external-link-alt', text: '在新頁面打開', action: () => openInNewPage(lineNumber) }
        ];
    } else {
        menuItems = [
            { icon: 'copy', text: '複製', action: () => copySelectedText(), disabled: !selectedText },
            { separator: true },
            { icon: 'highlighter', text: '智能高亮', action: () => highlightSelected(), disabled: !selectedText },
            { separator: true }
        ];
        
        // 添加顏色選項
        const colors = [
            { name: '粉紅', value: 1 },
            { name: '綠色', value: 2 },
            { name: '藍色', value: 3 },
            { name: '橙色', value: 4 },
            { name: '紫色', value: 5 },
            { name: '黃色', value: 6 },
            { name: '青色', value: 7 },
            { name: '檸檬', value: 8 },
            { name: '草綠', value: 9 },
            { name: '紅橙', value: 10 }
        ];
        
        colors.forEach(color => {
            menuItems.push({
                icon: 'circle',
                text: `${color.name}高亮`,
                color: color.value,
                action: () => highlightWithColor(selectedText, color.value),
                disabled: !selectedText
            });
        });
        
        menuItems.push({ separator: true });
        menuItems.push({ icon: 'eraser', text: '清除所有高亮', action: clearAllHighlights });
    }
    
    // 生成選單HTML
    let menuHtml = '';
    menuItems.forEach(item => {
        if (item.separator) {
            menuHtml += '<div class="context-menu-separator"></div>';
        } else {
            const disabledClass = item.disabled ? 'disabled' : '';
            const colorPreview = item.color ? 
                `<div class="color-preview highlight-color-${item.color}"></div>` : 
                `<i class="fas fa-${item.icon}"></i>`;
            
            menuHtml += `
                <div class="context-menu-item ${disabledClass}" data-index="${menuItems.indexOf(item)}">
                    ${colorPreview}
                    <span>${item.text}</span>
                </div>
            `;
        }
    });
    
    menu.html(menuHtml);
    
    // 綁定點擊事件
    menu.find('.context-menu-item').on('click', function() {
        if ($(this).hasClass('disabled')) return;
        
        const index = $(this).data('index');
        const item = menuItems[index];
        if (item && item.action) {
            item.action();
        }
        hideContextMenu();
    });
    
    // 計算位置
    const menuWidth = 220;
    const menuHeight = menuItems.length * 40;
    const windowWidth = $(window).width();
    const windowHeight = $(window).height();
    
    let left = event.pageX;
    let top = event.pageY;
    
    if (left + menuWidth > windowWidth) {
        left = windowWidth - menuWidth - 10;
    }
    
    if (top + menuHeight > windowHeight) {
        top = windowHeight - menuHeight - 10;
    }
    
    menu.css({
        display: 'block',
        left: left + 'px',
        top: top + 'px'
    });
    
    // 點擊其他地方關閉選單
    $(document).one('click', hideContextMenu);
}

function hideContextMenu() {
    $('#context-menu').hide();
}

// 高亮功能
function highlightSelected() {
    if (!selectedText) return;
    highlightWithColor(selectedText, colorIndex);
    colorIndex = (colorIndex % 10) + 1;
}

function highlightWithColor(text, color) {
    if (!text) return;
    
    // 儲存高亮資訊
    if (!highlightColors[text]) {
        highlightColors[text] = [];
    }
    highlightColors[text].push(color);
    
    // 添加到活躍顏色集合
    activeHighlightColors.add(color);
    updateHighlightJumper();
    
    const escapedText = text.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
    const regex = new RegExp(`(${escapedText})`, 'gi');
    
    $('.line-content').each(function() {
        const $this = $(this);
        let html = $this.html();
        
        // 暫時移除現有的高亮標籤
        const tempMarkers = [];
        html = html.replace(/<span class="[^"]*"[^>]*>(.*?)<\/span>/gi, function(match, content, offset) {
            const marker = `__MARKER_${tempMarkers.length}__`;
            tempMarkers.push({ marker, content, match });
            return marker + content + marker;
        });
        
        // 應用新的高亮
        html = html.replace(regex, function(match) {
            // 檢查是否已經在標記中
            for (let temp of tempMarkers) {
                if (html.indexOf(temp.marker + match + temp.marker) !== -1) {
                    return match;
                }
            }
            return `<span class="highlight-color-${color}">${match}</span>`;
        });
        
        // 還原其他高亮標籤
        tempMarkers.forEach(temp => {
            const markerRegex = new RegExp(temp.marker + '(.*?)' + temp.marker, 'g');
            html = html.replace(markerRegex, temp.match);
        });
        
        $this.html(html);
    });
    
    showToast('success', `已用顏色 ${color} 高亮文字: ${text}`);
}

// 更新高亮跳轉區
function updateHighlightJumper() {
    const jumper = $('.highlight-jumper');
    
    if (activeHighlightColors.size > 0) {
        // 清空現有按鈕
        jumper.find('.highlight-color-btn').remove();
        
        // 為每個活躍顏色創建按鈕
        const sortedColors = Array.from(activeHighlightColors).sort((a, b) => a - b);
        sortedColors.forEach(color => {
            const btn = $(`<button class="highlight-color-btn color-${color}" 
                           data-color="${color}" 
                           onclick="jumpToHighlight(${color})" 
                           title="跳轉到顏色 ${color} 的高亮"></button>`);
            jumper.append(btn);
        });
        
        jumper.addClass('show');
    } else {
        jumper.removeClass('show');
    }
}

// 跳轉到指定顏色的高亮
window.jumpToHighlight = function(color) {
    const highlights = $(`.highlight-color-${color}`);
    
    if (highlights.length === 0) {
        showToast('warning', `沒有找到顏色 ${color} 的高亮`);
        return;
    }
    
    // 找到當前位置後的下一個高亮
    const currentLine = getCurrentLine();
    let targetElement = null;
    let minDistance = Infinity;
    
    highlights.each(function() {
        const lineNumber = parseInt($(this).closest('.code-line').data('line'));
        if (lineNumber > currentLine && lineNumber - currentLine < minDistance) {
            minDistance = lineNumber - currentLine;
            targetElement = $(this);
        }
    });
    
    // 如果沒有找到後面的，則跳轉到第一個
    if (!targetElement) {
        targetElement = highlights.first();
    }
    
    if (targetElement) {
        const lineElement = targetElement.closest('.code-line');
        scrollToElement(lineElement);
        
        // 高亮閃爍效果
        targetElement.addClass('animate__animated animate__flash');
        setTimeout(() => {
            targetElement.removeClass('animate__animated animate__flash');
        }, 1000);
        
        // 更新活躍按鈕
        $('.highlight-color-btn').removeClass('active');
        $(`.highlight-color-btn[data-color="${color}"]`).addClass('active');
        
        showToast('success', `跳轉到顏色 ${color} 的高亮`);
    }
};

function clearAllHighlights() {
    for (let i = 1; i <= 10; i++) {
        $(`.highlight-color-${i}`).each(function() {
            const $this = $(this);
            const text = $this.text();
            $this.replaceWith(text);
        });
    }
    highlightColors = {};
    activeHighlightColors.clear();
    updateHighlightJumper();
    showToast('info', '已清除所有高亮');
}

function reapplyHighlights() {
    // 重新應用所有高亮
    Object.entries(highlightColors).forEach(([text, colors]) => {
        colors.forEach(color => {
            highlightWithColor(text, color);
        });
    });
}

// 工具函數
function scrollToTarget() {
    scrollToLine(currentTargetLine);
}

function scrollToLine(lineNumber) {
    const lineElement = $(`#line-${lineNumber}`);
    if (lineElement.length > 0) {
        scrollToElement(lineElement);
    } else {
        // 如果行不在當前顯示範圍，需要跳轉
        if (lineNumber < currentStartLine || lineNumber > currentEndLine) {
            jumpToLine(lineNumber);
        }
    }
}

function scrollToElement(element) {
    const container = $('#line-container');
    const elementTop = element.position().top;
    const containerHeight = container.height();
    const scrollTo = container.scrollTop() + elementTop - (containerHeight / 2);
    
    container.animate({ scrollTop: scrollTo }, 300);
    
    // 添加高亮效果
    element.addClass('animate__animated animate__pulse');
    setTimeout(() => {
        element.removeClass('animate__animated animate__pulse');
    }, 1000);
}

function getCurrentLine() {
    const container = $('#line-container');
    const scrollTop = container.scrollTop();
    const containerHeight = container.height();
    const centerY = scrollTop + (containerHeight / 2);
    
    let closestLine = currentTargetLine;
    let minDistance = Infinity;
    
    $('.code-line').each(function() {
        const elementTop = $(this).position().top + scrollTop;
        const distance = Math.abs(elementTop - centerY);
        
        if (distance < minDistance) {
            minDistance = distance;
            closestLine = parseInt($(this).data('line'));
        }
    });
    
    return closestLine;
}

function updateCurrentLineStatus() {
    const currentLine = getCurrentLine();
    $('#status-line').text(`第 ${currentLine} 行`);
}

function jumpToLine(lineNumber) {
    lineNumber = lineNumber || parseInt($('#jump-line').val());
    
    if (lineNumber && lineNumber >= 1 && lineNumber <= totalLines) {
        const url = new URL(window.location);
        url.searchParams.set('line', lineNumber);
        url.searchParams.set('start', Math.max(1, lineNumber - 200));
        url.searchParams.set('end', Math.min(totalLines, lineNumber + 200));
        url.searchParams.set('from', currentTargetLine);
        window.location.href = url.toString();
    } else {
        showToast('warning', `請輸入有效的行號 (1-${totalLines})`);
    }
}

// 範圍選擇
function showRangeSelector() {
    $('#range-selector').slideDown(300);
    $('#range-start').focus();
}

function closeRangeSelector() {
    $('#range-selector').slideUp(300);
}

function applyRange() {
    const start = parseInt($('#range-start').val());
    const end = parseInt($('#range-end').val());
    const context = parseInt($('#range-context').val()) || 200;
    
    if (start && end && start <= end && start >= 1 && end <= totalLines) {
        const url = new URL(window.location);
        
        // 如果指定了上下文行數，則基於中間行計算範圍
        if (context > 0) {
            const centerLine = Math.floor((start + end) / 2);
            const newStart = Math.max(1, centerLine - context);
            const newEnd = Math.min(totalLines, centerLine + context);
            
            url.searchParams.set('line', centerLine);
            url.searchParams.set('start', newStart);
            url.searchParams.set('end', newEnd);
            url.searchParams.set('context', context);
        } else {
            // 直接使用指定的範圍
            url.searchParams.set('line', Math.floor((start + end) / 2));
            url.searchParams.set('start', start);
            url.searchParams.set('end', end);
        }
        
        window.location.href = url.toString();
    } else {
        showToast('warning', '請輸入有效的範圍');
    }
}

// 複製功能 - 修復版本
function copySelectedText() {
    if (selectedText) {
        copyToClipboard(selectedText);
    }
}

function copyToClipboard(text) {
    // 使用現代 API
    if (navigator.clipboard && navigator.clipboard.writeText) {
        navigator.clipboard.writeText(text).then(() => {
            showToast('success', `已複製到剪貼簿: ${text.substring(0, 50)}${text.length > 50 ? '...' : ''}`);
        }).catch(err => {
            // 如果失敗，使用傳統方法
            fallbackCopyToClipboard(text);
        });
    } else {
        // 使用傳統方法
        fallbackCopyToClipboard(text);
    }
}

function fallbackCopyToClipboard(text) {
    const textArea = document.createElement('textarea');
    textArea.value = text;
    textArea.style.position = 'fixed';
    textArea.style.top = '0';
    textArea.style.left = '0';
    textArea.style.width = '2em';
    textArea.style.height = '2em';
    textArea.style.padding = '0';
    textArea.style.border = 'none';
    textArea.style.outline = 'none';
    textArea.style.boxShadow = 'none';
    textArea.style.background = 'transparent';
    
    document.body.appendChild(textArea);
    textArea.focus();
    textArea.select();
    
    try {
        const successful = document.execCommand('copy');
        if (successful) {
            showToast('success', `已複製到剪貼簿: ${text.substring(0, 50)}${text.length > 50 ? '...' : ''}`);
        } else {
            showToast('error', '複製失敗，請手動複製');
        }
    } catch (err) {
        showToast('error', '複製失敗，請手動複製');
    }
    
    document.body.removeChild(textArea);
}

function copyLineLink(lineNumber) {
    const url = new URL(window.location);
    url.searchParams.set('line', lineNumber);
    copyToClipboard(url.toString());
}

function openInNewPage(lineNumber) {
    const url = new URL(window.location);
    url.searchParams.set('line', lineNumber);
    window.open(url.toString(), '_blank');
}

// 狀態更新
function updateStatus() {
    updateCurrentLineStatus();
    updateBookmarkStatus();
    updateJumpStatus();
    $('#status-position').text(`${currentStartLine}-${currentEndLine} / ${totalLines}`);
}

function updateBookmarkStatus() {
    $('#status-bookmarks').text(`書籤: ${bookmarks.size}`);
}

function updateJumpStatus() {
    $('#status-jumps').text(`跳轉點: ${jumpPoints.size}`);
}

function updateSearchStatus(text) {
    $('#status-search').text(text);
}

// Toast 提示系統
function showToast(type, message) {
    const toastId = 'toast-' + Date.now();
    const iconMap = {
        'success': 'fa-check',
        'info': 'fa-info',
        'warning': 'fa-exclamation-triangle',
        'danger': 'fa-times',
        'error': 'fa-times'
    };
    
    const toast = $(`
        <div id="${toastId}" class="custom-toast ${type}">
            <div class="toast-icon">
                <i class="fas ${iconMap[type] || iconMap['info']}"></i>
            </div>
            <div class="toast-message">${message}</div>
            <button class="toast-close" onclick="removeToast('${toastId}')">
                <i class="fas fa-times"></i>
            </button>
        </div>
    `);
    
    $('#toast-container').append(toast);
    
    // 自動移除
    setTimeout(() => {
        removeToast(toastId);
    }, 3000);
}

window.removeToast = function(toastId) {
    const toast = $('#' + toastId);
    toast.addClass('hiding');
    setTimeout(() => {
        toast.remove();
    }, 300);
};

// 監聽滾動更新狀態
$('#line-container').on('scroll', debounce(updateStatus, 100));

// 設置導航歷史
function setupNavigationHistory() {
    // 儲存返回時的 URL
    $(window).on('beforeunload', function() {
        if (navigationHistory.length > 0) {
            sessionStorage.setItem('navigationHistory', JSON.stringify(navigationHistory));
        }
    });
}

// 設置滑鼠追蹤
function setupMouseTracking() {
    $('#line-container').on('mousemove', '.code-line', function(e) {
        const lineNumber = $(this).data('line');
        if (currentHoverLine !== lineNumber) {
            currentHoverLine = lineNumber;
            updateHoverStatus(lineNumber);
        }
    });
    
    $('#line-container').on('mouseleave', function() {
        currentHoverLine = null;
        updateHoverStatus(null);
    });
}

// 更新滑鼠所在行狀態
function updateHoverStatus(lineNumber) {
    if (lineNumber) {
        $('#status-hover').text(`滑鼠: 第 ${lineNumber} 行`);
    } else {
        $('#status-hover').text('滑鼠: --');
    }
}

// 設置設備切換器
function setupDeviceSwitcher() {
    // 檢測當前設備
    const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
    
    if (isMobile) {
        $('.device-btn[data-device="mobile"]').addClass('active');
        loadMobileStyles();
    } else {
        $('.device-btn[data-device="desktop"]').addClass('active');
    }
    
    // 綁定切換事件
    $('.device-btn').click(function() {
        $('.device-btn').removeClass('active');
        $(this).addClass('active');
        
        const device = $(this).data('device');
        if (device === 'mobile') {
            loadMobileStyles();
        } else {
            removeMobileStyles();
        }
        
        // 儲存選擇
        localStorage.setItem('preferredDevice', device);
        
        // 重新調整界面
        setTimeout(() => {
            updateStatus();
            if (searchResults.length > 0) {
                showSearchResultsFab();
            }
        }, 300);
    });
    
    // 檢查用戶偏好
    const preferredDevice = localStorage.getItem('preferredDevice');
    if (preferredDevice) {
        $('.device-btn').removeClass('active');
        $(`.device-btn[data-device="${preferredDevice}"]`).addClass('active');
        
        if (preferredDevice === 'mobile') {
            loadMobileStyles();
        } else {
            removeMobileStyles();
        }
    }
}

// 載入手機版樣式
function loadMobileStyles() {
    if (!$('#mobile-styles').length) {
        $('head').append('<link id="mobile-styles" rel="stylesheet" href="/static/css/file_viewer_mobile.css">');
        if (!$('#mobile-scripts').length) {
            $.getScript('/static/js/file_viewer_mobile.js');
        }
    }
}

// 移除手機版樣式
function removeMobileStyles() {
    $('#mobile-styles').remove();
}

// 顯示搜尋結果面板
function showSearchResultsPanel() {
    if (searchResults.length === 0) return;
    
    const panel = $('.search-results-panel');
    const body = panel.find('.search-results-body');
    body.empty();
    
    // 添加搜尋結果
    searchResults.forEach((result, index) => {
        const lineElement = $(`#line-${result.line}`);
        const lineContent = lineElement.find('.line-content').text();
        
        // 高亮匹配文字
        let highlightedContent = lineContent;
        if (useRegex) {
            try {
                const regex = new RegExp(`(${result.text})`, 'gi');
                highlightedContent = highlightedContent.replace(regex, '<span class="search-match">$1</span>');
            } catch (e) {
                // If regex fails, fall back to simple highlighting
                highlightedContent = lineContent.replace(result.text, '<span class="search-match">' + result.text + '</span>');
            }
        } else {
            // 一般搜尋 - 簡單替換
            const searchText = lastSearchText;
            const lowerContent = lineContent.toLowerCase();
            const lowerSearchText = searchText.toLowerCase();
            const index = lowerContent.indexOf(lowerSearchText);
            
            if (index !== -1) {
                highlightedContent = lineContent.substring(0, index) + 
                                   '<span class="search-match">' + 
                                   lineContent.substring(index, index + searchText.length) + 
                                   '</span>' + 
                                   lineContent.substring(index + searchText.length);
            }
        }
        
        const resultItem = $(`
            <div class="search-result-item ${index === currentSearchIndex ? 'active' : ''}" 
                 data-index="${index}" data-line="${result.line}">
                <div class="search-result-line">
                    <div class="search-result-line-number">${result.line}</div>
                    <div class="search-result-line-content">${highlightedContent}</div>
                </div>
            </div>
        `);
        
        body.append(resultItem);
    });
    
    // 綁定點擊事件 - 連動效果
    $('.search-result-item').click(function() {
        const index = $(this).data('index');
        const line = $(this).data('line');
        
        currentSearchIndex = index;
        scrollToLine(line);
        highlightCurrentResult();
        
        // 更新活躍狀態
        $('.search-result-item').removeClass('active');
        $(this).addClass('active');
        
        // 高亮主畫面的那一行
        const targetLine = $(`#line-${line}`);
        targetLine.addClass('animate__animated animate__flash');
        setTimeout(() => {
            targetLine.removeClass('animate__animated animate__flash');
        }, 1000);
    });
    
    panel.addClass('show');
}

// 隱藏搜尋結果面板
function hideSearchResultsPanel() {
    $('.search-results-panel').removeClass('show');
}

// 滾動到搜尋結果頂部
window.scrollToSearchTop = function() {
    const panel = $('.search-results-panel');
    panel.find('.search-results-body').scrollTop(0);
};

// 更新狀態 - 修改版
function updateStatus() {
    updateCurrentLineStatus();
    updateBookmarkStatus();
    updateJumpStatus();
    updateTargetStatus();
    $('#status-position').text(`${currentStartLine}-${currentEndLine} / ${totalLines}`);
    
    // 更新匯出部份的行數顯示
    $('#export-start').text(currentStartLine);
    $('#export-end').text(currentEndLine);
}

// 更新目標行狀態
function updateTargetStatus() {
    $('#status-target').text(`目標: 第 ${currentTargetLine} 行`);
}

// 處理行雙擊 - 修改版
function handleLineDoubleClick(lineNumber) {
    showToast('info', `正在載入第 ${lineNumber} 行的上下文...`);
    
    // 儲存當前頁面到歷史
    const currentUrl = window.location.href;
    navigationHistory.push(currentUrl);
    sessionStorage.setItem('navigationHistory', JSON.stringify(navigationHistory));
    
    const url = new URL(window.location);
    url.searchParams.set('line', lineNumber);
    url.searchParams.set('start', Math.max(1, lineNumber - 200));
    url.searchParams.set('end', Math.min(totalLines, lineNumber + 200));
    url.searchParams.set('context', 200);
    url.searchParams.set('from', currentTargetLine);
    window.location.href = url.toString();
}

// 載入更多內容 - 修改版
function loadMoreContent(direction) {
    if (isLoadingMore) return;
    isLoadingMore = true;
    
    const loadingOverlay = direction === 'before' ? $('#loading-overlay-top') : $('#loading-overlay-bottom');
    loadingOverlay.show();
    
    // 添加載入文字
    if (!loadingOverlay.find('.loading-text').length) {
        loadingOverlay.append('<div class="loading-text">載入中...</div>');
    }
    
    let newStart, newEnd;
    
    if (direction === 'before') {
        newStart = Math.max(1, currentStartLine - 200);
        newEnd = currentStartLine - 1;
    } else {
        newStart = currentEndLine + 1;
        newEnd = Math.min(totalLines, currentEndLine + 200);
    }
    
    $.get('/file_viewer', {
        path: currentFilePath,
        line: direction === 'before' ? newStart : newEnd,
        context: 100,
        start: newStart,
        end: newEnd
    }).done(function(data) {
        // 解析返回的HTML並提取新行
        const parser = new DOMParser();
        const doc = parser.parseFromString(data, 'text/html');
        const newLines = doc.querySelectorAll('.code-line');
        
        const container = $('#line-container');
        const scrollBefore = container[0].scrollHeight;
        const scrollTop = container.scrollTop();
        
        if (direction === 'before') {
            // 在前面插入
            const firstLine = container.find('.code-line').first();
            newLines.forEach(line => {
                const newElement = $(line.outerHTML);
                firstLine.before(newElement);
                
                // 添加載入動畫
                newElement.addClass('new-line-highlight');
                
                // 重新綁定事件
                bindLineEvents(newElement);
            });
            
            // 保持滾動位置
            const scrollAfter = container[0].scrollHeight;
            container.scrollTop(scrollTop + (scrollAfter - scrollBefore));
            
            currentStartLine = newStart;
        } else {
            // 在後面添加
            newLines.forEach(line => {
                const newElement = $(line.outerHTML);
                container.append(newElement);
                
                // 添加載入動畫
                newElement.addClass('new-line-highlight');
                
                // 重新綁定事件
                bindLineEvents(newElement);
            });
            
            currentEndLine = newEnd;
        }
        
        updateStatus();
        
        // 重新應用搜尋高亮
        if (lastSearchText) {
            performSearch();
        }
        
        // 重新應用顏色高亮
        reapplyHighlights();
        
    }).fail(function() {
        showToast('danger', '載入內容失敗，請稍後再試');
    }).always(function() {
        loadingOverlay.fadeOut(300);
        isLoadingMore = false;
    });
}

// 搜尋功能 - 修改版
function performSearch() {
    const searchText = $('#search-input').val().trim();
    lastSearchText = searchText;
    clearSearchHighlights();
    
    if (!searchText) {
        updateSearchStatus('搜尋: 無');
        hideSearchResultsPanel();
        return;
    }
    
    searchResults = [];
    let regex;
    
    try {
        if (useRegex) {
            regex = new RegExp(searchText, 'gi');
        } else {
            // 轉義特殊字符
            const escapedText = searchText.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
			$('#line-container').on('scroll', debounce(updateStatus, 100));
            regex = new RegExp(escapedText, 'gi');
        }
    } catch (e) {
        showToast('danger', '無效的正規表達式');
        return;
    }
    
    $('.line-content').each(function(index) {
        const content = $(this).text();
        const lineNumber = parseInt($(this).parent().data('line'));
        let newContent = content;
        let hasMatch = false;
        
        // 收集所有匹配
        const matches = [];
        let match;
        while ((match = regex.exec(content)) !== null) {
            matches.push({
                text: match[0],
                index: match.index
            });
        }
        
        // 從後往前替換，避免索引變化
        for (let i = matches.length - 1; i >= 0; i--) {
            const m = matches[i];
            hasMatch = true;
            searchResults.push({
                line: lineNumber,
                element: this,
                text: m.text
            });
            
            newContent = newContent.substring(0, m.index) + 
                        '<span class="search-highlight">' + m.text + '</span>' + 
                        newContent.substring(m.index + m.text.length);
        }
        
        if (hasMatch) {
            $(this).html(newContent);
        }
    });
    
    currentSearchIndex = 0;
    updateSearchStatus(`找到 ${searchResults.length} 個結果`);
    $('#search-info').text(`${searchResults.length > 0 ? currentSearchIndex + 1 : 0} / ${searchResults.length}`);
    
    if (searchResults.length > 0) {
        highlightCurrentResult();
        showSearchResultsPanel();
    } else {
        hideSearchResultsPanel();
    }
}

// 切換標記面板
function toggleMarksPanel() {
    const panel = $('.marks-panel');
    
    if (panel.hasClass('show')) {
        hideMarksPanel();
    } else {
        showMarksPanel();
    }
}

// 清除所有書籤
function clearAllBookmarks() {
    if (bookmarks.size === 0) {
        showToast('info', '沒有書籤需要清除');
        return;
    }
    
    if (confirm(`確定要清除所有 ${bookmarks.size} 個書籤嗎？`)) {
        bookmarks.forEach(lineNumber => {
            $(`#line-${lineNumber} .line-number`).removeClass('bookmark');
        });
        bookmarks.clear();
        updateBookmarkStatus();
        updateMarksList();
        updateMarksStatus();
        showToast('success', '已清除所有書籤');
    }
}

// 清除所有跳轉點
function clearAllJumpPoints() {
    if (jumpPoints.size === 0) {
        showToast('info', '沒有跳轉點需要清除');
        return;
    }
    
    if (confirm(`確定要清除所有 ${jumpPoints.size} 個跳轉點嗎？`)) {
        jumpPoints.forEach(lineNumber => {
            $(`#line-${lineNumber} .line-number`).removeClass('jump-point');
        });
        jumpPoints.clear();
        updateJumpStatus();
        updateMarksList();
        updateMarksStatus();
        showToast('success', '已清除所有跳轉點');
    }
}

// 隱藏標記面板
function hideMarksPanel() {
    $('.marks-panel').removeClass('show');
}

// 全域函數 - 供 HTML 使用
window.toggleJumpMode = toggleJumpMode;
window.showRangeSelector = showRangeSelector;
window.closeRangeSelector = closeRangeSelector;
window.applyRange = applyRange;
window.jumpToLine = jumpToLine;
window.scrollToTarget = scrollToTarget;
window.clearAllHighlights = clearAllHighlights;
window.toggleRegex = toggleRegex;
window.findPrevious = findPrevious;
window.findNext = findNext;
window.goForward = goForward;
window.hideSearchResultsPanel = hideSearchResultsPanel;
window.toggleSearchResultsPanel = function() {
    if ($('.search-results-panel').hasClass('show')) {
        hideSearchResultsPanel();
    } else {
        showSearchResultsPanel();
    }
};
window.quickRangeSelect = function(value) {
    if (!value) return;
    
    if (value === 'all') {
        $('#range-start').val(1);
        $('#range-end').val(totalLines);
        $('#range-context').val(0);
    } else {
        const context = parseInt(value);
        $('#range-context').val(context);
        // 更新起始和結束行的建議值
        const center = Math.floor((currentStartLine + currentEndLine) / 2);
        $('#range-start').val(Math.max(1, center - context));
        $('#range-end').val(Math.min(totalLines, center + context));
    }
};
window.toggleMarksPanel = toggleMarksPanel;
window.gotoNextBookmark = gotoNextBookmark;
window.gotoPreviousBookmark = gotoPreviousBookmark;
window.gotoNextJump = gotoNextJump;
window.gotoPreviousJump = gotoPreviousJump;
window.clearAllBookmarks = clearAllBookmarks;
window.clearAllJumpPoints = clearAllJumpPoints;
window.changeMarksTab = function(type) {
    $('.marks-panel-tab').removeClass('active');
    $(`.marks-panel-tab[data-type="${type}"]`).addClass('active');
    
    // 切換清除按鈕的顯示
    if (type === 'jumps') {
        $('.marks-panel-footer button:first').show();
        $('.marks-panel-footer button:last').hide();
    } else {
        $('.marks-panel-footer button:first').hide();
        $('.marks-panel-footer button:last').show();
    }
    
    updateMarksList();
};
window.changeNumber = function(inputId, delta) {
    const input = $(`#${inputId}`);
    const currentValue = parseInt(input.val()) || 0;
    const min = parseInt(input.attr('min')) || 0;
    const max = parseInt(input.attr('max')) || Infinity;
    const newValue = Math.max(min, Math.min(max, currentValue + delta));
    input.val(newValue);
};
window.hideMarksPanel = hideMarksPanel;
/* === /static/js/file_viewer_marks.js === */
// 標記管理相關功能

// 初始化標記管理
function setupMarksManager() {
    updateMarksStatus();
    
    // 初始設置清除按鈕的顯示狀態
    $('.marks-panel-footer button:last').hide();
}

// 更新標記狀態
function updateMarksStatus() {
    const totalMarks = bookmarks.size + jumpPoints.size;
    
    if (totalMarks > 0) {
        $('.marks-fab').addClass('show');
        $('.marks-fab .badge').text(totalMarks);
    } else {
        $('.marks-fab').removeClass('show');
    }
    
    // 更新面板內容
    if ($('.marks-panel').hasClass('show')) {
        updateMarksList();
    }
}

// 切換標記面板
function toggleMarksPanel() {
    const panel = $('.marks-panel');
    
    if (panel.hasClass('show')) {
        hideMarksPanel();
    } else {
        showMarksPanel();
    }
}

// 顯示標記面板
function showMarksPanel() {
    const panel = $('.marks-panel');
    const activeTab = $('.marks-panel-tab.active').data('type');
    
    panel.addClass('show');
    updateMarksList();
    
    // 顯示對應的清除按鈕
    if (activeTab === 'jumps') {
        $('.marks-panel-footer button:first').show();
        $('.marks-panel-footer button:last').hide();
    } else {
        $('.marks-panel-footer button:first').hide();
        $('.marks-panel-footer button:last').show();
    }
}

// 隱藏標記面板
function hideMarksPanel() {
    $('.marks-panel').removeClass('show');
}

// 更新標記列表
function updateMarksList() {
    const body = $('.marks-panel-body');
    const activeTab = $('.marks-panel-tab.active').data('type');
    body.empty();
    
    let marks = [];
    
    if (activeTab === 'jumps') {
        marks = Array.from(jumpPoints).sort((a, b) => a - b);
    } else {
        marks = Array.from(bookmarks).sort((a, b) => a - b);
    }
    
    if (marks.length === 0) {
        body.append(`
            <div class="marks-empty">
                <i class="fas fa-${activeTab === 'jumps' ? 'crosshairs' : 'bookmark'}"></i>
                <p>沒有${activeTab === 'jumps' ? '跳轉點' : '書籤'}</p>
                <small class="text-muted">在行號上按 ${activeTab === 'jumps' ? 'F2' : 'F3'} 新增</small>
            </div>
        `);
        return;
    }
    
    marks.forEach(lineNumber => {
        const lineElement = $(`#line-${lineNumber}`);
        let preview = '(載入中...)';
        
        if (lineElement.length > 0) {
            const content = lineElement.find('.line-content').text();
            preview = content.substring(0, 50) + (content.length > 50 ? '...' : '');
        }
        
        const markItem = $(`
            <div class="marks-item ${activeTab === 'jumps' ? 'jump-point' : 'bookmark'}" 
                 data-line="${lineNumber}">
                <div class="marks-item-info">
                    <div class="marks-item-line">第 ${lineNumber} 行</div>
                    <div class="marks-item-preview">${preview}</div>
                </div>
                <div class="marks-item-actions">
                    <button onclick="goToMarkLine(${lineNumber})" title="跳轉到此行">
                        <i class="fas fa-arrow-right"></i>
                    </button>
                    <button onclick="removeMarkFromPanel('${activeTab}', ${lineNumber})" title="刪除">
                        <i class="fas fa-trash"></i>
                    </button>
                </div>
            </div>
        `);
        
        body.append(markItem);
    });
}

// 從面板中移除標記
window.removeMarkFromPanel = function(type, lineNumber) {
    if (type === 'jumps') {
        toggleJumpPoint(lineNumber);
    } else {
        toggleBookmark(lineNumber);
    }
    updateMarksList();
    updateMarksStatus();
};

// 跳轉到標記行
window.goToMarkLine = function(lineNumber) {
    scrollToLine(lineNumber);
    
    // 高亮效果
    const lineElement = $(`#line-${lineNumber}`);
    if (lineElement.length > 0) {
        lineElement.addClass('animate__animated animate__flash');
        setTimeout(() => {
            lineElement.removeClass('animate__animated animate__flash');
        }, 1000);
    }
    
    showToast('success', `已跳轉到第 ${lineNumber} 行`);
};

// 清除所有書籤
function clearAllBookmarks() {
    if (bookmarks.size === 0) {
        showToast('info', '沒有書籤需要清除');
        return;
    }
    
    if (confirm(`確定要清除所有 ${bookmarks.size} 個書籤嗎？`)) {
        bookmarks.forEach(lineNumber => {
            $(`#line-${lineNumber} .line-number`).removeClass('bookmark');
        });
        bookmarks.clear();
        updateBookmarkStatus();
        updateMarksList();
        updateMarksStatus();
        showToast('success', '已清除所有書籤');
    }
}

// 清除所有跳轉點
function clearAllJumpPoints() {
    if (jumpPoints.size === 0) {
        showToast('info', '沒有跳轉點需要清除');
        return;
    }
    
    if (confirm(`確定要清除所有 ${jumpPoints.size} 個跳轉點嗎？`)) {
        jumpPoints.forEach(lineNumber => {
            $(`#line-${lineNumber} .line-number`).removeClass('jump-point');
        });
        jumpPoints.clear();
        updateJumpStatus();
        updateMarksList();
        updateMarksStatus();
        showToast('success', '已清除所有跳轉點');
    }
}

// 搜尋功能修復版 - 保留標記功能
function performSearchFixed() {
    const searchText = $('#search-input').val().trim();
    lastSearchText = searchText;
    clearSearchHighlights();
    
    if (!searchText) {
        updateSearchStatus('搜尋: 無');
        hideSearchResultsPanel();
        hideSearchResultsFab();
        return;
    }
    
    searchResults = [];
    let regex;
    
    try {
        if (useRegex) {
            regex = new RegExp(searchText, 'gi');
        } else {
            // 轉義特殊字符
            const escapedText = searchText.replace(/[.*+?^${}()|[\]\\]/g, '\\//'); 監聽滾動更新狀態
            regex = new RegExp(escapedText, 'gi');
        }
    } catch (e) {
        showToast('danger', '無效的正規表達式');
        return;
    }
    
    $('.line-content').each(function(index) {
        const $this = $(this);
        const content = $this.text();
        const lineNumber = parseInt($this.parent().data('line'));
        
        // 儲存現有的HTML結構（包含高亮顏色）
        let html = $this.html();
        let hasMatch = false;
        
        // 暫時移除現有的高亮標籤以便搜尋純文字
        const tempMarkers = [];
        let cleanContent = html.replace(/<span class="[^"]*"[^>]*>(.*?)<\/span>/gi, function(match, content, offset) {
            const marker = `__TEMP_${tempMarkers.length}__`;
            tempMarkers.push({ marker, content, match });
            return marker + content + marker;
        });
        
        // 在純文字中搜尋
        const matches = [];
        let match;
        while ((match = regex.exec(content)) !== null) {
            matches.push({
                text: match[0],
                index: match.index
            });
        }
        
        // 記錄搜尋結果
        matches.forEach(m => {
            hasMatch = true;
            searchResults.push({
                line: lineNumber,
                element: this,
                text: m.text
            });
        });
        
        if (hasMatch) {
            // 從後往前替換，避免索引變化
            let newHtml = content;
            for (let i = matches.length - 1; i >= 0; i--) {
                const m = matches[i];
                newHtml = newHtml.substring(0, m.index) + 
                         '<span class="search-highlight">' + m.text + '</span>' + 
                         newHtml.substring(m.index + m.text.length);
            }
            
            // 恢復其他高亮標籤
            tempMarkers.forEach(temp => {
                const markerRegex = new RegExp(temp.marker + '(.*?)' + temp.marker, 'g');
                newHtml = newHtml.replace(markerRegex, temp.match);
            });
            
            $this.html(newHtml);
        }
    });
    
    currentSearchIndex = 0;
    updateSearchStatus(`找到 ${searchResults.length} 個結果`);
    $('#search-info').text(`${searchResults.length > 0 ? currentSearchIndex + 1 : 0} / ${searchResults.length}`);
    
    if (searchResults.length > 0) {
        highlightCurrentResult();
        showSearchResultsPanel();
        showSearchResultsFab();
    } else {
        hideSearchResultsPanel();
        hideSearchResultsFab();
    }
}

// 顯示搜尋結果浮動按鈕
function showSearchResultsFab() {
    const fab = $('.search-results-fab');
    fab.addClass('show');
    fab.find('.badge').text(searchResults.length);
    
    // 脈動效果
    if (searchResults.length > 0) {
        fab.addClass('pulse');
        setTimeout(() => {
            fab.removeClass('pulse');
        }, 2000);
    }
}

// 隱藏搜尋結果浮動按鈕
function hideSearchResultsFab() {
    $('.search-results-fab').removeClass('show');
}

// 記住範圍選擇設定
function saveRangeSettings() {
    const settings = {
        start: $('#range-start').val(),
        end: $('#range-end').val(),
        context: $('#range-context').val()
    };
    localStorage.setItem('fileViewerRangeSettings', JSON.stringify(settings));
}

// 載入範圍選擇設定
function loadRangeSettings() {
    const saved = localStorage.getItem('fileViewerRangeSettings');
    if (saved) {
        try {
            const settings = JSON.parse(saved);
            if (settings.start) $('#range-start').val(settings.start);
            if (settings.end) $('#range-end').val(settings.end);
            if (settings.context) $('#range-context').val(settings.context);
        } catch (e) {
            console.error('載入範圍設定失敗:', e);
        }
    }
}

// 切換跳轉點（修復版）
function toggleJumpPoint(lineNumber) {
    const lineElement = $(`#line-${lineNumber} .line-number`);
    
    if (jumpPoints.has(lineNumber)) {
        jumpPoints.delete(lineNumber);
        lineElement.removeClass('jump-point');
        showToast('info', `已移除第 ${lineNumber} 行的跳轉點`);
    } else {
        jumpPoints.add(lineNumber);
        lineElement.addClass('jump-point');
        showToast('success', `已設定第 ${lineNumber} 行為跳轉點`);
    }
    
    updateJumpStatus();
    updateMarksStatus();
}

// 切換書籤（修復版）
function toggleBookmark(lineNumber) {
    const lineElement = $(`#line-${lineNumber} .line-number`);
    
    if (bookmarks.has(lineNumber)) {
        bookmarks.delete(lineNumber);
        lineElement.removeClass('bookmark');
        showToast('info', `已移除第 ${lineNumber} 行的書籤`);
    } else {
        bookmarks.add(lineNumber);
        lineElement.addClass('bookmark');
        showToast('success', `已設定第 ${lineNumber} 行為書籤`);
    }
    
    updateBookmarkStatus();
    updateMarksStatus();
}

// 更新跳轉模式按鈕狀態
function updateJumpModeButton() {
    const btn = $('#jump-mode-btn');
    
    if (jumpModeEnabled) {
        btn.removeClass('btn-outline-secondary').addClass('btn-gradient-warning jump-mode-active');
        btn.html('<i class="fas fa-crosshairs me-1"></i>退出跳轉');
    } else {
        btn.removeClass('btn-gradient-warning jump-mode-active').addClass('btn-outline-secondary');
        btn.html('<i class="fas fa-crosshairs me-1"></i>跳轉模式');
    }
}

// 處理行點擊（根據跳轉模式）
function handleLineClick(lineNumber) {
    // 如果在跳轉模式下，不做任何操作
    if (jumpModeEnabled) {
        return;
    }
    
    // 正常模式下切換書籤
    toggleBookmark(lineNumber);
}

// 綁定行事件（修復版）
function bindLineEvents(lineElement) {
    const lineNumber = lineElement.data('line');
    
    lineElement.find('.line-number')
        .off('click') // 移除點擊事件
        .on('dblclick', function(e) {
            e.preventDefault();
            e.stopPropagation();
            handleLineDoubleClick(lineNumber);
        })
        .on('contextmenu', function(e) {
            showLineContextMenu(e, lineNumber);
        });
    
    lineElement.find('.line-content')
        .off('contextmenu') // 先移除舊事件
        .on('contextmenu', function(e) {
            showContentContextMenu(e, lineNumber);
        });
    
    // 重新應用已有的標記
    if (bookmarks.has(lineNumber)) {
        lineElement.find('.line-number').addClass('bookmark');
    }
    
    if (jumpPoints.has(lineNumber)) {
        lineElement.find('.line-number').addClass('jump-point');
    }
}

// 更新書籤狀態
window.updateBookmarkStatus = function() {
    $('#status-bookmarks').text(`書籤: ${bookmarks.size}`);
};

// 更新跳轉點狀態
window.updateJumpStatus = function() {
    $('#status-jumps').text(`跳轉點: ${jumpPoints.size}`);
};

// 滾動到指定行
window.scrollToLine = function(lineNumber) {
    const lineElement = $(`#line-${lineNumber}`);
    if (lineElement.length > 0) {
        scrollToElement(lineElement);
    } else {
        // 如果行不在當前顯示範圍，需要跳轉
        if (lineNumber < currentStartLine || lineNumber > currentEndLine) {
            jumpToLine(lineNumber);
        }
    }
};

// Toast 提示系統
window.showToast = function(type, message) {
    const toastId = 'toast-' + Date.now();
    const iconMap = {
        'success': 'fa-check',
        'info': 'fa-info',
        'warning': 'fa-exclamation-triangle',
        'danger': 'fa-times',
        'error': 'fa-times'
    };
    
    const toast = $(`
        <div id="${toastId}" class="custom-toast ${type}">
            <div class="toast-icon">
                <i class="fas ${iconMap[type] || iconMap['info']}"></i>
            </div>
            <div class="toast-message">${message}</div>
            <button class="toast-close" onclick="removeToast('${toastId}')">
                <i class="fas fa-times"></i>
            </button>
        </div>
    `);
    
    $('#toast-container').append(toast);
    
    // 自動移除
    setTimeout(() => {
        removeToast(toastId);
    }, 3000);
};

window.removeToast = function(toastId) {
    const toast = $('#' + toastId);
    toast.addClass('hiding');
    setTimeout(() => {
        toast.remove();
    }, 300);
};

// 切換標記面板標籤
window.changeMarksTab = function(type) {
    $('.marks-panel-tab').removeClass('active');
    $(`.marks-panel-tab[data-type="${type}"]`).addClass('active');
    
    // 切換清除按鈕的顯示
    if (type === 'jumps') {
        $('.marks-panel-footer button:first').show();
        $('.marks-panel-footer button:last').hide();
    } else {
        $('.marks-panel-footer button:first').hide();
        $('.marks-panel-footer button:last').show();
    }
    
    updateMarksList();
};
/* === /static/js/file_viewer_fixes.js === */
// Enhanced File Viewer 修復和新增功能

// 修復搜尋功能 - 支援 Regex 延遲
function setupSearchWithDelay() {
    $('#search-input').off('input').on('input', function() {
        if (useRegex) {
            // Regex 模式下延遲 0.5 秒
            debounce(performSearchFixed, 500)();
        } else {
            // 一般模式下延遲 0.3 秒
            debounce(performSearchFixed, 300)();
        }
    });
}

// 修復 clearSearch 函數
window.clearSearch = function() {
    $('#search-input').val('');
    clearSearchHighlights();
    searchResults = [];
    currentSearchIndex = 0;
    lastSearchText = '';
    updateSearchStatus('搜尋: 無');
    $('#search-info').text('0 / 0');
    hideSearchResultsFab();
    hideSearchResultsPanel();
    
    // 清除regex模式的視覺狀態（但保留設定）
    if (!useRegex) {
        $('#search-input').removeClass('regex-mode');
    }
};

// 修復跳轉模式切換
window.toggleJumpMode = function() {
    jumpModeEnabled = !jumpModeEnabled;
    updateJumpModeButton();
    
    const navigation = $('#jump-navigation');
    
    if (jumpModeEnabled) {
        navigation.show();
        
        // 1秒後自動隱藏提示
        setTimeout(() => {
            navigation.addClass('animate__animated');
            navigation.css('animation', 'slideOutDown 0.3s ease-out');
            setTimeout(() => {
                navigation.hide();
                navigation.css('animation', '');
            }, 300);
        }, 1000);
        
        showToast('info', '跳轉模式已啟用 - F2跳轉點/F3書籤');
    } else {
        navigation.hide();
        showToast('info', '跳轉模式已關閉');
    }
};

// 修復範圍選擇器
window.applyRange = function() {
    const start = parseInt($('#range-start').val());
    const end = parseInt($('#range-end').val());
    const context = parseInt($('#range-context').val()) || 200;
    
    // 儲存設定
    saveRangeSettings();
    
    if (start && end && start <= end && start >= 1 && end <= totalLines) {
        const url = new URL(window.location);
        
        // 如果指定了上下文行數，則基於中間行計算範圍
        if (context > 0) {
            const centerLine = Math.floor((start + end) / 2);
            const newStart = Math.max(1, centerLine - context);
            const newEnd = Math.min(totalLines, centerLine + context);
            
            url.searchParams.set('line', centerLine);
            url.searchParams.set('start', newStart);
            url.searchParams.set('end', newEnd);
            url.searchParams.set('context', context);
        } else {
            // 直接使用指定的範圍
            url.searchParams.set('line', Math.floor((start + end) / 2));
            url.searchParams.set('start', start);
            url.searchParams.set('end', end);
        }
        
        window.location.href = url.toString();
    } else {
        showToast('warning', '請輸入有效的範圍');
    }
};

// 載入更多內容時保留標記
function reapplyMarks() {
    // 重新應用書籤
    bookmarks.forEach(lineNumber => {
        $(`#line-${lineNumber} .line-number`).addClass('bookmark');
    });
    
    // 重新應用跳轉點
    jumpPoints.forEach(lineNumber => {
        $(`#line-${lineNumber} .line-number`).addClass('jump-point');
    });
}

// 初始化所有修復
function initializeFixes() {
    
    // 修復搜尋功能
    setupSearchWithDelay();
    
    // 載入範圍設定
    loadRangeSettings();
    
    // 初始化標記管理
    setupMarksManager();
    
    // 修復範圍選擇器的數字輸入控制
    $('.number-input-controls button').off('click').on('click', function(e) {
        e.preventDefault();
        e.stopPropagation();
    });
    
    // 確保滾動時不會丟失標記
    const originalLoadMoreContent = window.loadMoreContent;
    window.loadMoreContent = function(direction) {
        originalLoadMoreContent.call(this, direction);
        setTimeout(() => {
            reapplyMarks();
        }, 100);
    };
    
    // 替換原有的 performSearch 函數
    window.performSearch = performSearchFixed;
    
    // 修復 findNext 和 findPrevious
    window.findNext = function() {
        if (searchResults.length === 0) return;
        currentSearchIndex = (currentSearchIndex + 1) % searchResults.length;
        highlightCurrentResult();
    };
    
    window.findPrevious = function() {
        if (searchResults.length === 0) return;
        currentSearchIndex = currentSearchIndex > 0 ? currentSearchIndex - 1 : searchResults.length - 1;
        highlightCurrentResult();
    };
}

// 在頁面載入完成後初始化
$(document).ready(function() {
    initializeFixes();
});

// 全域函數導出
window.performSearchFixed = performSearchFixed;
window.showSearchResultsFab = showSearchResultsFab;
window.hideSearchResultsFab = hideSearchResultsFab;
window.reapplyMarks = reapplyMarks;

// 清除搜尋高亮
window.clearSearchHighlights = function() {
    $('.search-highlight').each(function() {
        const parent = $(this).parent();
        const html = parent.html();
        // 只移除搜尋高亮，保留其他高亮
        const newHtml = html.replace(/<span class="search-highlight[^"]*">(.*?)<\/span>/gi, '$1');
        parent.html(newHtml);
    });
};

// 更新搜尋狀態
window.updateSearchStatus = function(text) {
    $('#status-search').text(text);
};

// 高亮當前搜尋結果
window.highlightCurrentResult = function() {
    $('.search-highlight').removeClass('current');
    if (searchResults.length > 0 && currentSearchIndex < searchResults.length) {
        const result = searchResults[currentSearchIndex];
        
        // 找到對應的高亮元素
        const lineElement = $(`#line-${result.line}`);
        const highlights = lineElement.find('.search-highlight');
        
        if (highlights.length > 0) {
            highlights.eq(0).addClass('current');
            scrollToElement(lineElement);
        }
        
        updateSearchStatus(`${currentSearchIndex + 1} / ${searchResults.length}`);
        $('#search-info').text(`${currentSearchIndex + 1} / ${searchResults.length}`);
    }
};

// 滾動到元素
window.scrollToElement = function(element) {
    const container = $('#line-container');
    const elementTop = element.position().top;
    const containerHeight = container.height();
    const scrollTo = container.scrollTop() + elementTop - (containerHeight / 2);
    
    container.animate({ scrollTop: scrollTo }, 300);
    
    // 添加高亮效果
    element.addClass('animate__animated animate__pulse');
    setTimeout(() => {
        element.removeClass('animate__animated animate__pulse');
    }, 1000);
};

// 跳轉到指定行號
window.jumpToLine = function(lineNumber) {
    lineNumber = lineNumber || parseInt($('#jump-line').val());
    
    if (lineNumber && lineNumber >= 1 && lineNumber <= totalLines) {
        const url = new URL(window.location);
        url.searchParams.set('line', lineNumber);
        url.searchParams.set('start', Math.max(1, lineNumber - 200));
        url.searchParams.set('end', Math.min(totalLines, lineNumber + 200));
        url.searchParams.set('from', currentTargetLine);
        window.location.href = url.toString();
    } else {
        showToast('warning', `請輸入有效的行號 (1-${totalLines})`);
    }
};

// 數字輸入框增減
window.changeNumber = function(inputId, delta) {
    const input = $(`#${inputId}`);
    const currentValue = parseInt(input.val()) || 0;
    const min = parseInt(input.attr('min')) || 0;
    const max = parseInt(input.attr('max')) || Infinity;
    const newValue = Math.max(min, Math.min(max, currentValue + delta));
    input.val(newValue);
    
    // 如果是範圍選擇器，立即儲存
    if (inputId.startsWith('range-')) {
        saveRangeSettings();
    }
};

// 快速範圍選擇
window.quickRangeSelect = function(value) {
    if (!value) return;
    
    if (value === 'all') {
        $('#range-start').val(1);
        $('#range-end').val(totalLines);
        $('#range-context').val(0);
    } else {
        const context = parseInt(value);
        $('#range-context').val(context);
        // 更新起始和結束行的建議值
        const center = Math.floor((currentStartLine + currentEndLine) / 2);
        $('#range-start').val(Math.max(1, center - context));
        $('#range-end').val(Math.min(totalLines, center + context));
    }
    
    // 儲存設定
    saveRangeSettings();
};
/* === /static/js/file_viewer_enhanced.js === */
// Enhanced File Viewer 功能修復和增強

// 美化數字輸入框
function beautifyNumberInputs() {
    // 範圍選擇器的數字輸入
    $('#range-start, #range-end, #range-context').each(function() {
        const input = $(this);
        const parent = input.parent();
        
        // 移除原有的控制按鈕
        parent.find('.number-input-controls').remove();
        
        // 創建新的包裝器
        const wrapper = $('<div class="form-control-number"></div>');
        input.wrap(wrapper);
        
        // 添加新的控制按鈕
        const controls = $(`
            <div class="number-controls">
                <button type="button" onclick="changeNumberValue(this, 1)">
                    <i class="fas fa-chevron-up"></i>
                </button>
                <button type="button" onclick="changeNumberValue(this, -1)">
                    <i class="fas fa-chevron-down"></i>
                </button>
            </div>
        `);
        
        //input.after(controls);
        
        // 移除原有的 form-control class
        input.removeClass('form-control');
    });
    
    // 跳轉行號輸入
    const jumpLineGroup = $('#jump-line').parent();
    //jumpLineGroup.attr('id', 'jump-line-group');
    //jumpLineGroup.addClass('form-control-number');
    
    //$('#jump-line').removeClass('form-control');
    
    // 添加數字控制
    const jumpControls = $(`
        <div class="number-controls">
            <button type="button" onclick="changeNumberValue(this, 1)">
                <i class="fas fa-chevron-up"></i>
            </button>
            <button type="button" onclick="changeNumberValue(this, -1)">
                <i class="fas fa-chevron-down"></i>
            </button>
        </div>
    `);
    
    //$('#jump-line').after(jumpControls);
}

// 數字輸入框增減
window.changeNumberValue = function(button, delta) {
    const input = $(button).closest('.form-control-number').find('input');
    const currentValue = parseInt(input.val()) || 0;
    const min = parseInt(input.attr('min')) || 0;
    const max = parseInt(input.attr('max')) || Infinity;
    
    // 根據輸入框類型調整增減幅度
    let step = 1;
    if (input.attr('id') === 'range-context') {
        step = 10;
    } else if (input.attr('id') === 'jump-line') {
        step = 10;
    }
    
    const newValue = Math.max(min, Math.min(max, currentValue + (delta * step)));
    input.val(newValue);
    
    // 如果是範圍選擇器，立即儲存
    if (input.attr('id') && input.attr('id').startsWith('range-')) {
        saveRangeSettings();
    }
};

// 修復搜尋延遲（Regex 模式 1 秒）
function setupSearchWithDelayFixed() {
    let searchTimeout;
    
    $('#search-input').off('input').on('input', function() {
        clearTimeout(searchTimeout);
        
        const delay = useRegex ? 1000 : 300; // Regex 模式 1 秒，一般模式 0.3 秒
        
        searchTimeout = setTimeout(() => {
            performSearchEnhanced();
        }, delay);
    });
}

// 增強搜尋功能 - 不自動顯示搜尋結果面板
function performSearchEnhanced() {
    const searchText = $('#search-input').val().trim();
    lastSearchText = searchText;
    clearSearchHighlights();
    
    if (!searchText) {
        updateSearchStatus('搜尋: 無');
        hideSearchResultsFab();
        searchResults = [];
        return;
    }
    
    searchResults = [];
    let regex;
    
    try {
        if (useRegex) {
            regex = new RegExp(searchText, 'gi');
        } else {
            // 轉義特殊字符
            const escapedText = searchText.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
            regex = new RegExp(escapedText, 'gi');
        }
    } catch (e) {
        showToast('danger', '無效的正規表達式');
        return;
    }
    
    $('.line-content').each(function(index) {
        const $this = $(this);
        const content = $this.text();
        const lineNumber = parseInt($this.parent().data('line'));
        
        let html = $this.html();
        let hasMatch = false;
        
        // 暫時移除現有的高亮標籤
        const tempMarkers = [];
        let cleanContent = html.replace(/<span class="[^"]*"[^>]*>(.*?)<\/span>/gi, function(match, content, offset) {
            const marker = `__TEMP_${tempMarkers.length}__`;
            tempMarkers.push({ marker, content, match });
            return marker + content + marker;
        });
        
        // 搜尋並收集匹配
        const matches = [];
        let match;
        while ((match = regex.exec(content)) !== null) {
            matches.push({
                text: match[0],
                index: match.index
            });
        }
        
        // 記錄搜尋結果
        matches.forEach(m => {
            hasMatch = true;
            searchResults.push({
                line: lineNumber,
                element: this,
                text: m.text
            });
        });
        
        if (hasMatch) {
            // 從後往前替換
            let newHtml = content;
            for (let i = matches.length - 1; i >= 0; i--) {
                const m = matches[i];
                newHtml = newHtml.substring(0, m.index) + 
                         '<span class="search-highlight">' + m.text + '</span>' + 
                         newHtml.substring(m.index + m.text.length);
            }
            
            // 恢復其他高亮標籤
            tempMarkers.forEach(temp => {
                const markerRegex = new RegExp(temp.marker + '(.*?)' + temp.marker, 'g');
                newHtml = newHtml.replace(markerRegex, temp.match);
            });
            
            $this.html(newHtml);
        }
    });
    
    currentSearchIndex = 0;
    updateSearchStatus(`找到 ${searchResults.length} 個結果`);
    $('#search-info').text(`${searchResults.length > 0 ? currentSearchIndex + 1 : 0} / ${searchResults.length}`);
    
    if (searchResults.length > 0) {
        highlightCurrentResult();
        // 只顯示搜尋按鈕，不自動打開面板
        showSearchResultsFabOnly();
    } else {
        hideSearchResultsFab();
    }
}

// 只顯示搜尋結果按鈕
function showSearchResultsFabOnly() {
    const fab = $('.search-results-fab');
    fab.addClass('has-results');
    fab.find('.badge').text(searchResults.length);
}

// 修復跳轉模式邏輯
window.toggleJumpModeFixed = function() {
    jumpModeEnabled = !jumpModeEnabled;
    updateJumpModeButton();
    
    if (!jumpModeEnabled) {
        // 退出跳轉模式時隱藏導航提示
        $('#jump-navigation').hide();
    }
    
    // 不顯示 toast 提示
};

// 跳轉功能不顯示 toast
function gotoNextJumpSilent() {
    if (!jumpModeEnabled) return;
    
    if (jumpPoints.size === 0) return;
    
    const sortedJumps = Array.from(jumpPoints).sort((a, b) => a - b);
    const currentLine = getCurrentLine();
    
    let nextJump = sortedJumps.find(line => line > currentLine);
    if (!nextJump) {
        nextJump = sortedJumps[0];
    }
    
    scrollToLine(nextJump);
    updateJumpStatus();
}

function gotoPreviousJumpSilent() {
    if (!jumpModeEnabled) return;
    
    if (jumpPoints.size === 0) return;
    
    const sortedJumps = Array.from(jumpPoints).sort((a, b) => b - a);
    const currentLine = getCurrentLine();
    
    let prevJump = sortedJumps.find(line => line < currentLine);
    if (!prevJump) {
        prevJump = sortedJumps[0];
    }
    
    scrollToLine(prevJump);
    updateJumpStatus();
}

function gotoNextBookmarkSilent() {
    if (!jumpModeEnabled) return;
    
    if (bookmarks.size === 0) return;
    
    const sortedBookmarks = Array.from(bookmarks).sort((a, b) => a - b);
    const currentLine = getCurrentLine();
    
    let nextBookmark = sortedBookmarks.find(line => line > currentLine);
    if (!nextBookmark) {
        nextBookmark = sortedBookmarks[0];
    }
    
    scrollToLine(nextBookmark);
    updateStatus();
}

function gotoPreviousBookmarkSilent() {
    if (!jumpModeEnabled) return;
    
    if (bookmarks.size === 0) return;
    
    const sortedBookmarks = Array.from(bookmarks).sort((a, b) => b - a);
    const currentLine = getCurrentLine();
    
    let prevBookmark = sortedBookmarks.find(line => line < currentLine);
    if (!prevBookmark) {
        prevBookmark = sortedBookmarks[0];
    }
    
    scrollToLine(prevBookmark);
    updateStatus();
}

// 添加行號圖示
function addLineIcons() {
    $('.code-line').each(function() {
        const lineNumber = $(this).data('line');
        const lineNumberElement = $(this).find('.line-number');
        
        // 檢查是否已經有圖示
        if (lineNumberElement.find('.line-icons').length === 0) {
            const icons = $(`
                <div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(${lineNumber})" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(${lineNumber})" title="跳轉點">
                        🎯
                    </div>
                </div>
            `);
            
            lineNumberElement.append(icons);
            
            // 更新圖示狀態
            updateLineIconsState(lineNumber);
        }
    });
}

// 更新行圖示狀態
function updateLineIconsState(lineNumber) {
    const bookmarkIcon = $(`#line-${lineNumber} .bookmark-icon`);
    const jumpIcon = $(`#line-${lineNumber} .jump-icon`);
    
    if (bookmarks.has(lineNumber)) {
        bookmarkIcon.addClass('active');
    } else {
        bookmarkIcon.removeClass('active');
    }
    
    if (jumpPoints.has(lineNumber)) {
        jumpIcon.addClass('active');
    } else {
        jumpIcon.removeClass('active');
    }
}

// 點擊書籤圖示
function toggleBookmarkIcon(lineNumber) {
    toggleBookmark(lineNumber);
    updateLineIconsState(lineNumber);
};

// 點擊跳轉點圖示
function toggleJumpIcon(lineNumber) {
    toggleJumpPoint(lineNumber);
    updateLineIconsState(lineNumber);
};

window.showConfirmDialog = function(title, message, onConfirm) {
    // 先移除任何現有的對話框
    $('.confirm-dialog-overlay, .confirm-dialog').remove();
    
    const dialog = $(`
        <div class="confirm-dialog-overlay" onclick="closeConfirmDialog()"></div>
        <div class="confirm-dialog">
            <div class="confirm-dialog-header">
                <h5>${title}</h5>
            </div>
            <div class="confirm-dialog-body">
                ${message}
            </div>
            <div class="confirm-dialog-footer">
                <button class="btn btn-outline-secondary" onclick="closeConfirmDialog()">
                    <i class="fas fa-times me-1"></i>取消
                </button>
                <button class="btn btn-danger" id="confirm-dialog-ok">
                    <i class="fas fa-check me-1"></i>確定
                </button>
            </div>
        </div>
    `);
    
    $('body').append(dialog);
    
    // 添加淡入動畫
    setTimeout(() => {
        $('.confirm-dialog-overlay').css('opacity', '1');
        $('.confirm-dialog').css({
            'opacity': '1',
            'transform': 'translate(-50%, -50%) scale(1)'
        });
    }, 10);
    
    $('#confirm-dialog-ok').click(function() {
        closeConfirmDialog();
        if (onConfirm) onConfirm();
    });
    
    // ESC 鍵關閉
    $(document).on('keydown.confirm', function(e) {
        if (e.which === 27) {
            closeConfirmDialog();
        }
    });
};

window.closeConfirmDialog = function() {
    // 添加淡出動畫
    $('.confirm-dialog-overlay').css('opacity', '0');
    $('.confirm-dialog').css({
        'opacity': '0',
        'transform': 'translate(-50%, -50%) scale(0.9)'
    });
    
    setTimeout(() => {
        $('.confirm-dialog-overlay, .confirm-dialog').remove();
    }, 300);
    
    // 移除 ESC 鍵監聽
    $(document).off('keydown.confirm');
};

// 重寫清除函數使用美化對話框
window.clearAllBookmarksEnhanced = function() {
    if (bookmarks.size === 0) {
        showToast('info', '沒有書籤需要清除');
        return;
    }
    
    showConfirmDialog(
        '清除所有書籤',
        `確定要清除所有 ${bookmarks.size} 個書籤嗎？此操作無法復原。`,
        function() {
            bookmarks.forEach(lineNumber => {
                $(`#line-${lineNumber} .line-number`).removeClass('bookmark');
                updateLineIconsState(lineNumber);
            });
            bookmarks.clear();
            updateBookmarkStatus();
            updateMarksList();
            updateMarksStatus();
            showToast('success', '已清除所有書籤');
        }
    );
};

window.clearAllJumpPointsEnhanced = function() {
    if (jumpPoints.size === 0) {
        showToast('info', '沒有跳轉點需要清除');
        return;
    }
    
    showConfirmDialog(
        '清除所有跳轉點',
        `確定要清除所有 ${jumpPoints.size} 個跳轉點嗎？此操作無法復原。`,
        function() {
            jumpPoints.forEach(lineNumber => {
                $(`#line-${lineNumber} .line-number`).removeClass('jump-point');
                updateLineIconsState(lineNumber);
            });
            jumpPoints.clear();
            updateJumpStatus();
            updateMarksList();
            updateMarksStatus();
            showToast('success', '已清除所有跳轉點');
        }
    );
};

// 修復鍵盤快捷鍵
function setupKeyboardShortcutsEnhanced() {
    $(document).off('keydown.enhanced').on('keydown.enhanced', function(e) {
        // F2 - 只在跳轉模式下有效
        if (e.which === 113 && jumpModeEnabled) {
            e.preventDefault();
            if (e.shiftKey) {
                gotoPreviousJumpSilent();
            } else {
                gotoNextJumpSilent();
            }
        }
        
        // F3 - 只在跳轉模式下有效
        if (e.which === 114 && jumpModeEnabled) {
            e.preventDefault();
            if (e.shiftKey) {
                gotoPreviousBookmarkSilent();
            } else {
                gotoNextBookmarkSilent();
            }
        }
        
        // 其他快捷鍵保持不變
        if (e.ctrlKey && e.which === 70) {
            e.preventDefault();
            $('#search-input').focus().select();
        }
        
        if (e.which === 27) {
            if ($('#search-input').is(':focus')) {
                clearSearch();
            }
            hideContextMenu();
            hideSearchResultsPanel();
            hideMarksPanel();
            closeConfirmDialog();
        }
        
        if (e.ctrlKey && e.which === 71) {
            e.preventDefault();
            $('#jump-line').focus().select();
        }
        
        if (e.which === 13 && $('#search-input').is(':focus')) {
            e.preventDefault();
            if (e.shiftKey) {
                findPrevious();
            } else {
                findNext();
            }
        }
        
        if (e.which === 13 && $('#jump-line').is(':focus')) {
            e.preventDefault();
            jumpToLine();
        }
    });
}

// 初始化增強功能
function initializeEnhancements() {
    
    // 美化數字輸入框
    beautifyNumberInputs();
    
    // 設置搜尋延遲
    setupSearchWithDelayFixed();
    
    // 設置鍵盤快捷鍵
    setupKeyboardShortcutsEnhanced();
    
    // 添加行號圖示
    addLineIcons();
    
    // 替換原有函數
    window.toggleJumpMode = toggleJumpModeFixed;
    window.performSearch = performSearchEnhanced;
    window.clearAllBookmarks = clearAllBookmarksEnhanced;
    window.clearAllJumpPoints = clearAllJumpPointsEnhanced;
    window.gotoNextJump = gotoNextJumpSilent;
    window.gotoPreviousJump = gotoPreviousJumpSilent;
    window.gotoNextBookmark = gotoNextBookmarkSilent;
    window.gotoPreviousBookmark = gotoPreviousBookmarkSilent;
    window.toggleBookmarkIcon = toggleBookmarkIcon;
	window.toggleJumpIcon = toggleJumpIcon;
	
    // 確保載入更多內容時添加圖示
    const originalBindLineEvents = window.bindLineEvents;
    window.bindLineEvents = function(lineElement) {
        originalBindLineEvents.call(this, lineElement);
        
        // 添加圖示到新載入的行
        const lineNumber = lineElement.data('line');
        const lineNumberElement = lineElement.find('.line-number');
        
        if (lineNumberElement.find('.line-icons').length === 0) {
            const icons = $(`
                <div class="line-icons">
                    <div class="line-icon bookmark-icon" onclick="toggleBookmarkIcon(${lineNumber})" title="書籤">
                        📌
                    </div>
                    <div class="line-icon jump-icon" onclick="toggleJumpIcon(${lineNumber})" title="跳轉點">
                        🎯
                    </div>
                </div>
            `);
            
            lineNumberElement.append(icons);
            updateLineIconsState(lineNumber);
        }
    };
}

// 在頁面載入完成後初始化
$(document).ready(function() {
    initializeEnhancements();
});

// 隱藏搜尋結果浮動按鈕
window.hideSearchResultsFab = function() {
    $('.search-results-fab').removeClass('has-results');
};

// 隱藏搜尋結果面板
window.hideSearchResultsPanel = function() {
    $('.search-results-panel').removeClass('show');
};

// 隱藏標記管理面板
window.hideMarksPanel = function() {
    $('.marks-panel').removeClass('show');
};

// 隱藏右鍵選單
window.hideContextMenu = function() {
    $('#context-menu').hide();
};

// 全域函數
window.getCurrentLine = function() {
    const container = $('#line-container');
    const scrollTop = container.scrollTop();
    const containerHeight = container.height();
    const centerY = scrollTop + (containerHeight / 2);
    
    let closestLine = currentTargetLine;
    let minDistance = Infinity;
    
    $('.code-line').each(function() {
        const elementTop = $(this).position().top + scrollTop;
        const distance = Math.abs(elementTop - centerY);
        
        if (distance < minDistance) {
            minDistance = distance;
            closestLine = parseInt($(this).data('line'));
        }
    });
    
    return closestLine;
};

// 清除搜尋
window.clearSearch = function() {
    $('#search-input').val('');
    clearSearchHighlights();
    searchResults = [];
    currentSearchIndex = 0;
    lastSearchText = '';
    updateSearchStatus('搜尋: 無');
    $('#search-info').text('0 / 0');
    hideSearchResultsFab();
    hideSearchResultsPanel();
};

// 其他必要的全域函數
window.scrollToLine = scrollToLine;
window.updateSearchStatus = function(text) {
    $('#status-search').text(text);
};
window.updateJumpStatus = function() {
    $('#status-jumps').text(`跳轉點: ${jumpPoints.size}`);
};
window.updateStatus = function() {
    updateCurrentLineStatus();
    updateBookmarkStatus();
    updateJumpStatus();
    updateTargetStatus();
    $('#status-position').text(`${currentStartLine}-${currentEndLine} / ${totalLines}`);
};
window.updateMarksList = updateMarksList;
window.updateMarksStatus = updateMarksStatus;

// 搜尋導航函數
window.findNext = function() {
    if (searchResults.length === 0) return;
    currentSearchIndex = (currentSearchIndex + 1) % searchResults.length;
    highlightCurrentResult();
};

window.findPrevious = function() {
    if (searchResults.length === 0) return;
    currentSearchIndex = currentSearchIndex > 0 ? currentSearchIndex - 1 : searchResults.length - 1;
    highlightCurrentResult();
};

window.highlightCurrentResult = function() {
    $('.search-highlight').removeClass('current');
    if (searchResults.length > 0 && currentSearchIndex < searchResults.length) {
        const result = searchResults[currentSearchIndex];
        
        const lineElement = $(`#line-${result.line}`);
        const highlights = lineElement.find('.search-highlight');
        
        if (highlights.length > 0) {
            highlights.eq(0).addClass('current');
            scrollToElement(lineElement);
        }
        
        updateSearchStatus(`${currentSearchIndex + 1} / ${searchResults.length}`);
        $('#search-info').text(`${currentSearchIndex + 1} / ${searchResults.length}`);
    }
};

// 必要的輔助函數
window.updateCurrentLineStatus = function() {
    const currentLine = getCurrentLine();
    $('#status-line').text(`第 ${currentLine} 行`);
};

window.updateTargetStatus = function() {
    $('#status-target').text(`目標: 第 ${currentTargetLine} 行`);
};

window.updateBookmarkStatus = function() {
    $('#status-bookmarks').text(`書籤: ${bookmarks.size}`);
};

window.clearSearchHighlights = function() {
    $('.search-highlight').each(function() {
        const parent = $(this).parent();
        const html = parent.html();
        const newHtml = html.replace(/<span class="search-highlight[^"]*">(.*?)<\/span>/gi, '$1');
        parent.html(newHtml);
    });
};

window.scrollToElement = function(element) {
    const container = $('#line-container');
    const elementTop = element.position().top;
    const containerHeight = container.height();
    const scrollTo = container.scrollTop() + elementTop - (containerHeight / 2);
    
    container.animate({ scrollTop: scrollTo }, 300);
};

window.scrollToLine = function(lineNumber) {
    const lineElement = $(`#line-${lineNumber}`);
    if (lineElement.length > 0) {
        scrollToElement(lineElement);
    } else {
        // 如果行不在當前顯示範圍，需要跳轉
        if (lineNumber < currentStartLine || lineNumber > currentEndLine) {
            jumpToLine(lineNumber);
        }
    }
};

window.jumpToLine = function(lineNumber) {
    lineNumber = lineNumber || parseInt($('#jump-line').val());
    
    if (lineNumber && lineNumber >= 1 && lineNumber <= totalLines) {
        const url = new URL(window.location);
        url.searchParams.set('line', lineNumber);
        url.searchParams.set('start', Math.max(1, lineNumber - 200));
        url.searchParams.set('end', Math.min(totalLines, lineNumber + 200));
        url.searchParams.set('from', currentTargetLine);
        window.location.href = url.toString();
    } else {
        showToast('warning', `請輸入有效的行號 (1-${totalLines})`);
    }
};

// 儲存範圍設定
window.saveRangeSettings = function() {
    const settings = {
        start: $('#range-start').val(),
        end: $('#range-end').val(),
        context: $('#range-context').val()
    };
    localStorage.setItem('fileViewerRangeSettings', JSON.stringify(settings));
};

// 其他可能需要的函數
window.showToast = window.showToast || function(type, message) {
    const toastId = 'toast-' + Date.now();
    const iconMap = {
        'success': 'fa-check',
        'info': 'fa-info',
        'warning': 'fa-exclamation-triangle',
        'danger': 'fa-times',
        'error': 'fa-times'
    };
    
    const toast = $(`
        <div id="${toastId}" class="custom-toast ${type}">
            <div class="toast-icon">
                <i class="fas ${iconMap[type] || iconMap['info']}"></i>
            </div>
            <div class="toast-message">${message}</div>
            <button class="toast-close" onclick="removeToast('${toastId}')">
                <i class="fas fa-times"></i>
            </button>
        </div>
    `);
    
    $('#toast-container').append(toast);
    
    setTimeout(() => {
        removeToast(toastId);
    }, 3000);
};

window.removeToast = function(toastId) {
    const toast = $('#' + toastId);
    toast.addClass('hiding');
    setTimeout(() => {
        toast.remove();
    }, 300);
};

// 處理行雙擊
window.handleLineDoubleClick = function(lineNumber) {
    showToast('info', `正在載入第 ${lineNumber} 行的上下文...`);
    
    const url = new URL(window.location);
    url.searchParams.set('line', lineNumber);
    url.searchParams.set('start', Math.max(1, lineNumber - 200));
    url.searchParams.set('end', Math.min(totalLines, lineNumber + 200));
    url.searchParams.set('context', 200);
    url.searchParams.set('from', currentTargetLine);
    window.location.href = url.toString();
};

// 右鍵選單相關
window.showLineContextMenu = function(event, lineNumber) {
    event.preventDefault();
    // 這個函數應該在 file_viewer.js 中定義
    if (typeof showContextMenu === 'function') {
        showContextMenu(event, 'line', lineNumber);
    }
};

window.showContentContextMenu = function(event, lineNumber) {
    event.preventDefault();
    // 這個函數應該在 file_viewer.js 中定義
    if (typeof showContextMenu === 'function') {
        showContextMenu(event, 'content', lineNumber);
    }
};

// 防抖函數
window.debounce = window.debounce || function(func, wait) {
    let timeout;
    return function executedFunction(...args) {
        const later = () => {
            clearTimeout(timeout);
            func(...args);
        };
        clearTimeout(timeout);
        timeout = setTimeout(later, wait);
    };
};
/* === /static/js/file_viewer_final.js === */
// Enhanced File Viewer 最終功能修復

// 全域變數確保正確初始化
window.useRegex = window.useRegex || false;
window.searchResults = window.searchResults || [];
window.currentSearchIndex = window.currentSearchIndex || 0;
window.lastSearchText = window.lastSearchText || '';

// 禁用所有 Toast 提示
window.showToast = function(type, message) {
    // 不顯示任何提示
    console.log(`[${type}] ${message}`);
};

// 修復快速導航按鈕顯示邏輯
function updateQuickNavButtons() {
    const container = $('.quick-nav-buttons');
    
    if (jumpModeEnabled) {
        // 只在跳轉模式下顯示
        if (bookmarks.size > 0 || jumpPoints.size > 0) {
            container.addClass('show');
            
            // 根據數量顯示/隱藏對應按鈕
            if (bookmarks.size > 0) {
                container.find('.btn-quick-nav:not(.warning)').show();
            } else {
                container.find('.btn-quick-nav:not(.warning)').hide();
            }
            
            if (jumpPoints.size > 0) {
                container.find('.btn-quick-nav.warning').show();
            } else {
                container.find('.btn-quick-nav.warning').hide();
            }
        } else {
            container.removeClass('show');
        }
    } else {
        // 非跳轉模式下隱藏
        container.removeClass('show');
    }
}

// 修復標記管理面板項目結構
function updateMarksListFixed() {
    const body = $('.marks-panel-body');
    const activeTab = $('.marks-panel-tab.active').data('type');
    body.empty();
    
    let marks = [];
    
    if (activeTab === 'jumps') {
        marks = Array.from(jumpPoints).sort((a, b) => a - b);
    } else {
        marks = Array.from(bookmarks).sort((a, b) => a - b);
    }
    
    if (marks.length === 0) {
        body.append(`
            <div class="marks-empty">
                <i class="fas fa-${activeTab === 'jumps' ? 'crosshairs' : 'bookmark'}"></i>
                <p>沒有${activeTab === 'jumps' ? '跳轉點' : '書籤'}</p>
                <small class="text-muted">在行號上點擊圖示新增</small>
            </div>
        `);
        return;
    }
    
    marks.forEach(lineNumber => {
        const lineElement = $(`#line-${lineNumber}`);
        let preview = '(載入中...)';
        
        if (lineElement.length > 0) {
            const content = lineElement.find('.line-content').text();
            preview = content.substring(0, 80) + (content.length > 80 ? '...' : '');
        }
        
        const markItem = $(`
            <div class="marks-item ${activeTab === 'jumps' ? 'jump-point' : 'bookmark'}" 
                 data-line="${lineNumber}">
                <div class="marks-item-info">
                    <div class="marks-item-actions">
                        <button onclick="goToMarkLine(${lineNumber})" title="跳轉到此行">
                            <i class="fas fa-arrow-right"></i>
                        </button>
                        <button onclick="removeMarkFromPanel('${activeTab}', ${lineNumber})" title="刪除">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                    <div onclick="goToMarkLine(${lineNumber})" class="marks-item-line">第 ${lineNumber} 行</div>
                    <div class="marks-item-preview">${preview}</div>
                </div>
            </div>
        `);
        
        body.append(markItem);
    });
}

// 修復 Regex 搜尋功能
function setupRegexSearchFixed() {
    let searchTimeout;
    
    $('#search-input').off('input.regex').on('input.regex', function() {
        clearTimeout(searchTimeout);
        
        const searchText = $(this).val().trim();
        
        if (!searchText) {
            performSearchEnhancedFixed();
            return;
        }
        
        // 根據模式設置延遲
        const delay = useRegex ? 1000 : 300;
        
        searchTimeout = setTimeout(() => {
            performSearchEnhancedFixed();
        }, delay);
    });
}

// 增強搜尋功能修復版
function performSearchEnhancedFixed() {
    const searchText = $('#search-input').val().trim();
    lastSearchText = searchText;
    
    // 清除之前的搜尋高亮
    clearSearchHighlights();
    
    if (!searchText) {
        updateSearchStatus('搜尋: 無');
        hideSearchResultsFab();
        searchResults = [];
        $('#search-info').text('0 / 0');
        return;
    }
    
    searchResults = [];
    let regex;
    
    try {
        if (useRegex) {
            regex = new RegExp(searchText, 'gi');
        } else {
            // 轉義特殊字符
            const escapedText = searchText.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
            regex = new RegExp(escapedText, 'gi');
        }
    } catch (e) {
        console.error('無效的正規表達式:', e);
        return;
    }
    
    $('.line-content').each(function() {
        const $this = $(this);
        const content = $this.text();
        const lineNumber = parseInt($this.parent().data('line'));
        
        let html = $this.html();
        
        // 保存現有的高亮
        const existingHighlights = [];
        html = html.replace(/<span class="highlight-color-(\d+)"[^>]*>(.*?)<\/span>/gi, function(match, colorNum, highlightedText) {
            const placeholder = `__HIGHLIGHT_${existingHighlights.length}__`;
            existingHighlights.push({ placeholder, match });
            return placeholder;
        });
        
        // 搜尋匹配
        let matches = [];
        let match;
        regex.lastIndex = 0; // 重置 regex
        
        while ((match = regex.exec(content)) !== null) {
            matches.push({
                text: match[0],
                index: match.index,
                length: match[0].length
            });
            
            searchResults.push({
                line: lineNumber,
                element: this,
                text: match[0]
            });
        }
        
        // 從後往前替換搜尋匹配
        let newContent = content;
        for (let i = matches.length - 1; i >= 0; i--) {
            const m = matches[i];
            newContent = newContent.substring(0, m.index) + 
                        '<span class="search-highlight">' + 
                        newContent.substring(m.index, m.index + m.length) + 
                        '</span>' + 
                        newContent.substring(m.index + m.length);
        }
        
        // 恢復原有的高亮
        existingHighlights.forEach(item => {
            newContent = newContent.replace(item.placeholder, item.match);
        });
        
        if (matches.length > 0) {
            $this.html(newContent);
        }
    });
    
    currentSearchIndex = 0;
    updateSearchStatus(`找到 ${searchResults.length} 個結果`);
    $('#search-info').text(`${searchResults.length > 0 ? currentSearchIndex + 1 : 0} / ${searchResults.length}`);
    
    if (searchResults.length > 0) {
        highlightCurrentResult();
        showSearchResultsFabOnly();
    } else {
        hideSearchResultsFab();
    }
}

window.highlightWithColor = function(text, color) {
    if (!text) return;
    
    // 儲存高亮資訊
    if (!window.highlightColors) {
        window.highlightColors = {};
    }
    
    if (!highlightColors[text]) {
        highlightColors[text] = [];
    }
    highlightColors[text].push(color);
    
    // 添加到活躍顏色集合
    if (!window.activeHighlightColors) {
        window.activeHighlightColors = new Set();
    }
    activeHighlightColors.add(color);
    updateHighlightJumper();
    
    const escapedText = text.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
    const regex = new RegExp(`(${escapedText})`, 'gi');
    
    $('.line-content').each(function() {
        const $this = $(this);
        let html = $this.html();
        
        // 保護現有的標籤
        const protectedContent = [];
        html = html.replace(/<[^>]+>([^<]*)<\/[^>]+>/g, function(match) {
            const marker = `__PROTECTED_${protectedContent.length}__`;
            protectedContent.push({ marker, match });
            return marker;
        });
        
        // 應用新的高亮
        html = html.replace(regex, `<span class="highlight-color-${color}">$1</span>`);
        
        // 恢復保護的內容
        protectedContent.forEach(item => {
            html = html.replace(item.marker, item.match);
        });
        
        $this.html(html);
    });
};

// 更新跳轉點和書籤狀態
window.updateJumpModeState = function() {
    updateJumpModeButton();
    updateQuickNavButtons();
    updateJumpStatus();
    updateBookmarkStatus();
};

// 覆蓋原有函數
window.toggleJumpMode = function() {
    jumpModeEnabled = !jumpModeEnabled;
    updateJumpModeState();
};

window.toggleBookmark = function(lineNumber) {
    const lineElement = $(`#line-${lineNumber} .line-number`);
    
    if (bookmarks.has(lineNumber)) {
        bookmarks.delete(lineNumber);
        lineElement.removeClass('bookmark');
    } else {
        bookmarks.add(lineNumber);
        lineElement.addClass('bookmark');
    }
    
    updateBookmarkStatus();
    updateMarksStatus();
    updateQuickNavButtons();
    updateLineIconsState(lineNumber);
};

window.toggleJumpPoint = function(lineNumber) {
    const lineElement = $(`#line-${lineNumber} .line-number`);
    
    if (jumpPoints.has(lineNumber)) {
        jumpPoints.delete(lineNumber);
        lineElement.removeClass('jump-point');
    } else {
        jumpPoints.add(lineNumber);
        lineElement.addClass('jump-point');
    }
    
    updateJumpStatus();
    updateMarksStatus();
    updateQuickNavButtons();
    updateLineIconsState(lineNumber);
};

// 覆蓋更新標記列表函數
window.updateMarksList = updateMarksListFixed;

// 初始化最終修復
function initializeFinalFixes() {
    
    // 修復 Regex 搜尋
    setupRegexSearchFixed();
    
    // 更新快速導航按鈕
    updateQuickNavButtons();
    
    // 替換搜尋函數
    window.performSearch = performSearchEnhancedFixed;
    window.performSearchFixed = performSearchEnhancedFixed;
    window.performSearchEnhanced = performSearchEnhancedFixed;
    
    // 確保右鍵選單有智能高亮選項
    fixContextMenu();
    
    // 監聽標記變化
    const originalToggleBookmark = window.toggleBookmark;
    const originalToggleJumpPoint = window.toggleJumpPoint;
    
    // 美化跳轉行號輸入框
    beautifyJumpLineInput();
}

// 美化跳轉行號輸入框
function beautifyJumpLineInput() {
    const jumpLineGroup = $('#jump-line').parent();
    jumpLineGroup.attr('id', 'jump-line-wrapper');
    jumpLineGroup.removeClass('input-group').css('width', '240px');
}

// 修復右鍵選單
function fixContextMenu() {
    // 監聽右鍵選單事件
    $(document).on('contextmenu', '.line-content', function(e) {
        setTimeout(() => {
            // 確保智能高亮選項存在
            if ($('.context-menu-item:contains("智能高亮")').length === 0) {
                // 在第一個分隔線前插入智能高亮選項
                const firstSeparator = $('.context-menu-separator').first();
                if (firstSeparator.length > 0) {
                    $(`<div class="context-menu-item highlight-item" onclick="highlightSelected()">
                        <i class="fas fa-highlighter"></i>
                        <span>智能高亮</span>
                    </div>`).insertBefore(firstSeparator);
                }
            }
        }, 10);
    });
}

// 清除搜尋高亮但保留顏色高亮
window.clearSearchHighlights = function() {
    $('.search-highlight').each(function() {
        const $this = $(this);
        const text = $this.text();
        $this.replaceWith(text);
    });
};

// 在頁面載入完成後初始化
$(document).ready(function() {
    // 等待其他腳本載入完成
    setTimeout(() => {
        initializeFinalFixes();
    }, 100);
});

// 確保全域函數可用
window.updateQuickNavButtons = updateQuickNavButtons;
window.updateJumpModeState = updateJumpModeState;
window.performSearchEnhancedFixed = performSearchEnhancedFixed;
window.updateMarksListFixed = updateMarksListFixed;
/* === /static/js/file_viewer_navigation_fix.js === */
// Enhanced File Viewer Navigation History Fix v2
// 修復返回和前進功能，保留完整的瀏覽歷史

(function() {
    'use strict';
    
    // 導航歷史管理器
    const NavigationManager = {
        // 使用 sessionStorage 儲存完整的導航歷史
        STORAGE_KEY: 'fileViewerNavHistory',
        CURRENT_INDEX_KEY: 'fileViewerNavIndex',
        MAX_HISTORY_SIZE: 50, // 最大歷史記錄數
        isNavigating: false, // 標記是否正在進行導航
        
        // 初始化
        init: function() {
            this.loadHistory();
            this.checkAndUpdateCurrentPage();
            this.updateNavigationButtons();
            this.setupEventListeners();
        },
        
        // 載入歷史記錄
        loadHistory: function() {
            const savedHistory = sessionStorage.getItem(this.STORAGE_KEY);
            const savedIndex = sessionStorage.getItem(this.CURRENT_INDEX_KEY);
            
            if (savedHistory) {
                try {
                    window.navigationHistory = JSON.parse(savedHistory);
                    window.historyIndex = parseInt(savedIndex) || 0;
                } catch (e) {
                    console.error('載入導航歷史失敗:', e);
                    this.resetHistory();
                }
            } else {
                this.resetHistory();
            }
        },
        
        // 重置歷史記錄
        resetHistory: function() {
            window.navigationHistory = [];
            window.historyIndex = -1;
        },
        
        // 檢查並更新當前頁面
        checkAndUpdateCurrentPage: function() {
            const currentUrl = window.location.href;
            const urlParams = new URLSearchParams(window.location.search);
            
            // 建立當前頁面的記錄
            const pageInfo = {
                url: currentUrl,
                line: parseInt(urlParams.get('line')) || currentTargetLine,
                startLine: currentStartLine,
                endLine: currentEndLine,
                timestamp: Date.now(),
                title: document.title,
                filePath: currentFilePath
            };
            
            // 檢查是否是導航操作（從歷史中跳轉）
            const isNavAction = urlParams.get('nav_action') === 'true';
            
            if (isNavAction) {
                // 如果是導航操作，不需要添加新記錄，只需更新索引
                this.saveToStorage();
            } else {
                // 檢查當前 URL 是否已在當前索引位置
                if (window.historyIndex >= 0 && 
                    window.historyIndex < window.navigationHistory.length &&
                    window.navigationHistory[window.historyIndex].url === currentUrl) {
                    // URL 相同，不需要添加
                    return;
                }
                
                // 如果不是在歷史末尾，需要處理分支
                if (window.historyIndex < window.navigationHistory.length - 1) {
                    // 保留到當前位置的歷史，刪除後面的
                    window.navigationHistory = window.navigationHistory.slice(0, window.historyIndex + 1);
                }
                
                // 添加新頁面到歷史
                this.addToHistory(pageInfo);
            }
            
            this.saveToStorage();
            this.updateNavigationButtons();
        },
        
        // 添加到歷史記錄
        addToHistory: function(pageInfo) {
            // 檢查是否與最後一條記錄相同
            const lastItem = window.navigationHistory[window.navigationHistory.length - 1];
            if (lastItem && lastItem.url === pageInfo.url) {
                return; // 不添加重複的記錄
            }
            
            // 添加新記錄
            window.navigationHistory.push(pageInfo);
            window.historyIndex = window.navigationHistory.length - 1;
            
            // 限制歷史大小
            if (window.navigationHistory.length > this.MAX_HISTORY_SIZE) {
                window.navigationHistory.shift();
                window.historyIndex = Math.max(0, window.historyIndex - 1);
            }
        },
        
        // 儲存到 sessionStorage
        saveToStorage: function() {
            sessionStorage.setItem(this.STORAGE_KEY, JSON.stringify(window.navigationHistory));
            sessionStorage.setItem(this.CURRENT_INDEX_KEY, window.historyIndex.toString());
        },
        
        // 更新導航按鈕狀態
        updateNavigationButtons: function() {
            const backBtn = $('.btn-back');
            const historyBtn = $('.btn-history');
            const forwardBtn = $('#forward-btn');
            
            // 檢查是否有歷史記錄
            const hasHistory = window.navigationHistory.length > 1;
            
            // 返回按鈕
            const canGoBack = window.historyIndex > 0;
            if (hasHistory && canGoBack) {
                if (backBtn.length === 0) {
                    // 創建返回按鈕
                    const btn = $('<button class="btn btn-back btn-nav-gradient" onclick="NavigationManager.goBack()"><i class="fas fa-arrow-left me-1"></i>返回</button>');
                    $('.btn-group-aligned').prepend(btn);
                }
                $('.btn-back').show().prop('disabled', false);
                const prevPage = window.navigationHistory[window.historyIndex - 1];
                if (prevPage) {
                    $('.btn-back').attr('title', `返回到第 ${prevPage.line} 行`);
                }
            } else if (hasHistory && !canGoBack) {
                $('.btn-back').show().prop('disabled', true).attr('title', '沒有上一頁');
            } else {
                $('.btn-back').hide();
            }
            
            // 歷史按鈕
            if (hasHistory) {
                if (historyBtn.length === 0) {
                    // 創建歷史按鈕
                    const btn = $('<button class="btn btn-history btn-nav-gradient-alt" onclick="showHistoryPanel()" title="瀏覽歷史 (Ctrl+H)"><i class="fas fa-history me-1"></i>歷史</button>');
                    if ($('.btn-back').length > 0) {
                        $('.btn-back').after(btn);
                    } else {
                        $('.btn-group-aligned').prepend(btn);
                    }
                }
                $('.btn-history').show();
                $('.btn-history').attr('title', `瀏覽歷史 (${window.navigationHistory.length} 項)`);
            } else {
                $('.btn-history').hide();
            }
            
            // 前進按鈕
            const canGoForward = window.historyIndex < window.navigationHistory.length - 1;
            if (canGoForward) {
                if (forwardBtn.length === 0) {
                    // 創建前進按鈕
                    const btn = $('<button id="forward-btn" class="btn btn-forward btn-nav-gradient" onclick="NavigationManager.goForward()" title="前進到下一頁"><i class="fas fa-arrow-right me-1"></i>前進</button>');
                    if ($('.btn-history').length > 0) {
                        $('.btn-history').after(btn);
                    } else if ($('.btn-back').length > 0) {
                        $('.btn-back').after(btn);
                    } else {
                        $('.btn-group-aligned').prepend(btn);
                    }
                }
                const nextPage = window.navigationHistory[window.historyIndex + 1];
                if (nextPage) {
                    $('#forward-btn').attr('title', `前進到第 ${nextPage.line} 行`);
                }
                $('#forward-btn').prop('disabled', false).show();
            } else {
                $('#forward-btn').prop('disabled', true).hide();
            }
            
            // 更新歷史面板（如果開啟）
            if ($('.history-panel').is(':visible')) {
                this.updateHistoryPanel();
            }
        },
        
        // 返回
        goBack: function() {
            if (window.historyIndex > 0) {
                window.historyIndex--;
                const targetPage = window.navigationHistory[window.historyIndex];
                
                if (targetPage) {
                    this.saveToStorage();
                    // 添加導航標記，避免重複記錄
                    const url = new URL(targetPage.url);
                    url.searchParams.set('nav_action', 'true');
                    this.isNavigating = true;
                    window.location.href = url.toString();
                }
            } else {
                showToast('info', '沒有更早的歷史記錄了');
            }
        },
        
        // 前進
        goForward: function() {
            if (window.historyIndex < window.navigationHistory.length - 1) {
                window.historyIndex++;
                const targetPage = window.navigationHistory[window.historyIndex];
                
                if (targetPage) {
                    this.saveToStorage();
                    // 添加導航標記，避免重複記錄
                    const url = new URL(targetPage.url);
                    url.searchParams.set('nav_action', 'true');
                    this.isNavigating = true;
                    window.location.href = url.toString();
                }
            } else {
                showToast('info', '沒有更晚的歷史記錄了');
            }
        },
        
        // 跳轉到指定歷史位置
        goToHistory: function(index) {
            if (index >= 0 && index < window.navigationHistory.length && index !== window.historyIndex) {
                window.historyIndex = index;
                const targetPage = window.navigationHistory[index];
                
                if (targetPage) {
                    this.saveToStorage();
                    const url = new URL(targetPage.url);
                    url.searchParams.set('nav_action', 'true');
                    this.isNavigating = true;
                    window.location.href = url.toString();
                }
            }
        },
        
        // 設置事件監聽器
        setupEventListeners: function() {
            // 監聽行號雙擊事件
            $(document).on('dblclick', '.line-number', (e) => {
                if (!this.isNavigating) {
                    // 在跳轉前確保當前頁面已保存
                    this.saveToStorage();
                }
            });
            
            // 監聽頁面卸載事件
            window.addEventListener('beforeunload', () => {
                if (!this.isNavigating) {
                    this.saveToStorage();
                }
            });
            
            // 清理 URL 中的導航標記
            const urlParams = new URLSearchParams(window.location.search);
            if (urlParams.get('nav_action') === 'true') {
                urlParams.delete('nav_action');
                const newUrl = window.location.pathname + '?' + urlParams.toString();
                window.history.replaceState({}, '', newUrl);
            }
        },
        
        // 更新歷史面板
        updateHistoryPanel: function() {
            const body = $('.history-panel-body');
            if (body.length === 0) return;
            
            body.empty();
            
            window.navigationHistory.forEach((item, index) => {
                const isActive = index === window.historyIndex;
                const isFuture = index > window.historyIndex;
                const isPast = index < window.historyIndex;
                
                const historyItem = $(`
                    <div class="history-item ${isActive ? 'active' : ''} ${isFuture ? 'future' : ''} ${isPast ? 'past' : ''}" 
                         data-index="${index}">
                        <div class="history-item-indicator">
                            ${isPast ? '<i class="fas fa-arrow-left"></i>' : ''}
                            ${isActive ? '<i class="fas fa-dot-circle"></i>' : ''}
                            ${isFuture ? '<i class="fas fa-arrow-right"></i>' : ''}
                        </div>
                        <div class="history-item-info">
                            <div class="history-item-line">第 ${item.line} 行</div>
                            <div class="history-item-range">顯示: ${item.startLine}-${item.endLine}</div>
                        </div>
                        <div class="history-item-time">${new Date(item.timestamp).toLocaleTimeString()}</div>
                    </div>
                `);
                
                historyItem.click(() => {
                    this.goToHistory(index);
                });
                
                body.append(historyItem);
            });
            
            // 滾動到當前項目
            const activeItem = body.find('.history-item.active');
            if (activeItem.length > 0) {
                body.scrollTop(activeItem.position().top - body.height() / 2 + activeItem.height() / 2);
            }
        },
        
        // 獲取歷史資訊（用於調試）
        getHistoryInfo: function() {
            return {
                history: window.navigationHistory,
                currentIndex: window.historyIndex,
                canGoBack: window.historyIndex > 0,
                canGoForward: window.historyIndex < window.navigationHistory.length - 1,
                totalItems: window.navigationHistory.length
            };
        },
        
        // 顯示導航提示
        showNavigationHint: function(message) {
            const hint = $('#nav-hint');
            if (hint.length === 0) {
                $('body').append('<div class="nav-hint" id="nav-hint"></div>');
            }
            
            $('#nav-hint').text(message).addClass('show');
            setTimeout(() => {
                $('#nav-hint').removeClass('show');
            }, 2000);
        }
    };
    
    // 覆蓋原有的 goBack 和 goForward 函數
    window.goBack = function() {
        NavigationManager.goBack();
    };
    
    window.goForward = function() {
        NavigationManager.goForward();
    };
    
    // 修復 handleLineDoubleClick 函數
    window.handleLineDoubleClick = function(lineNumber) {
        showToast('info', `正在載入第 ${lineNumber} 行的上下文...`);
        
        // 確保當前頁面已保存到歷史
        NavigationManager.saveToStorage();
        
        const url = new URL(window.location);
        url.searchParams.set('line', lineNumber);
        url.searchParams.set('start', Math.max(1, lineNumber - 200));
        url.searchParams.set('end', Math.min(totalLines, lineNumber + 200));
        url.searchParams.set('context', 200);
        url.searchParams.set('from', currentTargetLine);
        
        // 使用 location.href 而不是 location.replace
        window.location.href = url.toString();
    };
    
    // 修復 jumpToLine 函數
    const originalJumpToLine = window.jumpToLine;
    window.jumpToLine = function(lineNumber, addToHistory = true) {
        lineNumber = lineNumber || parseInt($('#jump-line').val());
        
        if (lineNumber && lineNumber >= 1 && lineNumber <= totalLines) {
            // 如果行在當前顯示範圍內，只需滾動
            const lineElement = $(`#line-${lineNumber}`);
            if (lineElement.length > 0 && lineNumber >= currentStartLine && lineNumber <= currentEndLine) {
                scrollToElement(lineElement);
                return;
            }
            
            // 確保當前頁面已保存到歷史
            if (addToHistory) {
                NavigationManager.saveToStorage();
            }
            
            const url = new URL(window.location);
            url.searchParams.set('line', lineNumber);
            url.searchParams.set('start', Math.max(1, lineNumber - 200));
            url.searchParams.set('end', Math.min(totalLines, lineNumber + 200));
            url.searchParams.set('from', currentTargetLine);
            
            window.location.href = url.toString();
        } else {
            showToast('warning', `請輸入有效的行號 (1-${totalLines})`);
        }
    };
    
    // 創建歷史面板
    function createHistoryPanel() {
        const panel = $(`
            <div class="history-panel" style="display: none;">
                <div class="history-panel-header">
                    <h5>瀏覽歷史</h5>
                    <span class="history-counter">
                        ${window.historyIndex + 1} / ${window.navigationHistory.length}
                    </span>
                    <button class="history-panel-close" onclick="$('.history-panel').hide()">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="history-panel-body"></div>
                <div class="history-panel-footer">
                    <button class="btn btn-sm btn-outline-danger" onclick="NavigationManager.clearHistory()">
                        <i class="fas fa-trash me-1"></i>清除歷史
                    </button>
                </div>
            </div>
        `);
        
        $('body').append(panel);
    }
    
    // 顯示歷史面板
    window.showHistoryPanel = function() {
        NavigationManager.updateHistoryPanel();
        $('.history-panel').show();
        $('.history-counter').text(`${window.historyIndex + 1} / ${window.navigationHistory.length}`);
    };
    
	// 清除歷史 - 使用美化的確認對話框
	NavigationManager.clearHistory = function() {
		if (typeof showConfirmDialog === 'function') {
			showConfirmDialog(
				'清除瀏覽歷史',
				`確定要清除所有 ${window.navigationHistory.length} 筆瀏覽歷史嗎？此操作無法復原。`,
				function() {
					// 只保留當前頁面
					const currentPage = window.navigationHistory[window.historyIndex];
					window.navigationHistory = currentPage ? [currentPage] : [];
					window.historyIndex = 0;
					NavigationManager.saveToStorage();
					NavigationManager.updateNavigationButtons();
					
					// 關閉歷史視窗
					$('.history-panel').fadeOut(300);
					
					showToast('success', '已清除瀏覽歷史');
				}
			);
		} else {
			if (confirm(`確定要清除所有 ${window.navigationHistory.length} 筆瀏覽歷史嗎？`)) {
				const currentPage = window.navigationHistory[window.historyIndex];
				window.navigationHistory = currentPage ? [currentPage] : [];
				window.historyIndex = 0;
				this.saveToStorage();
				this.updateNavigationButtons();
				
				// 關閉歷史視窗
				$('.history-panel').fadeOut(300);
				
				showToast('success', '已清除瀏覽歷史');
			}
		}
	};
    
    // 初始化
    $(document).ready(function() {
        // 延遲初始化，確保其他腳本已載入
        setTimeout(() => {
            // 先隱藏可能存在的靜態按鈕
            $('.btn-back').hide();
            $('.btn-history').hide();
            
            NavigationManager.init();
            createHistoryPanel();
            
            // 添加提示標籤
            if ($('.nav-buttons-hint').length === 0) {
                $('.btn-group-aligned').css('position', 'relative');
                $('.btn-group-aligned').prepend('<div class="nav-buttons-hint">使用 Alt+← / Alt+→ 快速導航</div>');
            }
            
            // 添加鍵盤快捷鍵
            $(document).on('keydown', function(e) {
                // Alt + 左箭頭：返回
                if (e.altKey && e.which === 37) {
                    e.preventDefault();
                    NavigationManager.goBack();
                    NavigationManager.showNavigationHint('返回上一頁');
                }
                // Alt + 右箭頭：前進
                if (e.altKey && e.which === 39) {
                    e.preventDefault();
                    NavigationManager.goForward();
                    NavigationManager.showNavigationHint('前進到下一頁');
                }
                // Ctrl + H：顯示歷史
                if (e.ctrlKey && e.which === 72) {
                    e.preventDefault();
                    showHistoryPanel();
                }
            });
            
            console.log('Navigation History Manager v2 initialized');
            console.log('Current history:', NavigationManager.getHistoryInfo());
        }, 200);
    });
    
    // 導出到全域
    window.NavigationManager = NavigationManager;
    
})();

    // 初始化匯出頁面
    $(document).ready(function() {
        initializeExportedPage();
    });
    
    function initializeExportedPage() {
        // 添加匯出標記
        $('body').append('<div class="exported-watermark"><i class="fas fa-download me-1"></i>此頁為靜態頁面</div>');
        
        // 恢復書籤和跳轉點
        if (window.bookmarks) {
            bookmarks.forEach(line => {
                $('#line-' + line + ' .line-number').addClass('bookmark');
            });
        }
        
        if (window.jumpPoints) {
            jumpPoints.forEach(line => {
                $('#line-' + line + ' .line-number').addClass('jump-point');
            });
        }
        
        // 恢復高亮
        if (window.highlightColors) {
            Object.entries(highlightColors).forEach(([text, colors]) => {
                colors.forEach(color => {
                    // 重新應用高亮
                    highlightWithColor(text, color);
                });
            });
        }
        
        // 初始化功能
        if (typeof setupKeyboardShortcuts === 'function') {
            setupKeyboardShortcuts();
        }
        
        if (typeof updateStatus === 'function') {
            updateStatus();
        }
        
        // 禁用某些功能
        window.exportFile = function() {
            alert('此功能在匯出的頁面中不可用');
        };
        
        window.exportHTML = function() {
            alert('您已經在查看匯出的頁面');
        };
        
        console.log('Exported page initialized');
    }
    </script>
</body>
</html>